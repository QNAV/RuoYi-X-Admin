"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[283],{57943:function(Le,Q,e){e.d(Q,{UW:function(){return g}});var f=e(3528),g=f.A.Group},43027:function(Le,Q,e){e.r(Q),e.d(Q,{default:function(){return Ve}});var f=e(55980),g=e.n(f),Pe=e(42217),i=e.n(Pe),Ze=e(18172),N=e.n(Ze),pe=e(3849),ye=e.n(pe),Ne=e(29960),q=e.n(Ne),Fe=e(22365),V=e(12247),_=e(42918),r=e(62086),ae=function(){return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,r.jsx)(V.Z,{plain:!0,children:(0,r.jsx)("span",{className:"text-sm font-normal text-neutral-400",children:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"})}),(0,r.jsx)("div",{onClick:function(){_.ZP.info("\u656C\u8BF7\u671F\u5F85")},className:"flex justify-center items-center cursor-pointer rounded-full h-[40px] w-[40px] border-solid border border-gray-300",children:(0,r.jsx)(Fe.Z,{style:{fontSize:"20px",color:"#00ac84"}})})]})},ue=ae,re=e(19986),X=e(53253),Be=e(33918),ve=e(20109),je=e(79629),Se=e(23987),me=e(97737),be=e(90359),ne=e(11229),W=e(45443),Oe=e(72590),Re=e(96509),h=e(44367),se=e(29547),Te=e(75156),a=e(93236),t=e(3528),s=["logo","message","style","activityConfig","backgroundImageUrl","title","subTitle","actions","children"];function c(n){var Z=n.logo,M=n.message,T=n.style,D=n.activityConfig,p=D===void 0?{}:D,j=n.backgroundImageUrl,$=n.title,A=n.subTitle,R=n.actions,oe=n.children,z=(0,se.Z)(n,s),ce=(0,Te.YB)(),H=function(){var k,o;return z.submitter===!1||((k=z.submitter)===null||k===void 0?void 0:k.submitButtonProps)===!1?!1:(0,h.Z)({size:"large",style:{width:"100%"}},(o=z.submitter)===null||o===void 0?void 0:o.submitButtonProps)},L=(0,h.Z)((0,h.Z)({searchConfig:{submitText:ce.getMessage("loginForm.submitText","\u767B\u5F55")},render:function(k,o){return o.pop()}},z.submitter),{},{submitButtonProps:H()}),y=(0,a.useContext)(Re.ZP.ConfigContext),E=y.getPrefixCls("pro-form-login-page"),m=function(k){return"".concat(E,"-").concat(k)},O=(0,a.useMemo)(function(){return Z?typeof Z=="string"?a.createElement("img",{src:Z}):Z:null},[Z]);return a.createElement("div",{className:E,style:(0,h.Z)((0,h.Z)({},T),{},{backgroundImage:'url("'.concat(j,'")')})},a.createElement("div",{className:m("notice")},p&&a.createElement("div",{className:m("notice-activity"),style:p.style},p.title&&a.createElement("div",{className:m("notice-activity-title")}," ",p.title," "),p.subTitle&&a.createElement("div",{className:m("notice-activity-subTitle")}," ",p.subTitle," "),p.action&&a.createElement("div",{className:m("notice-activity-action")}," ",p.action," "))),a.createElement("div",{className:m("container")},a.createElement("div",{className:m("top")},$||O?a.createElement("div",{className:m("header")},O?a.createElement("span",{className:m("logo")},O):null,$?a.createElement("span",{className:m("title")},$):null):null,A?a.createElement("div",{className:m("desc")},A):null),a.createElement("div",{className:m("main")},a.createElement(t.A,(0,W.Z)({isKeyPressSubmit:!0},z,{submitter:L}),M,oe),R?a.createElement("div",{className:m("other")},R):null)))}var v=e(65487),x=e(23071),P=e(21271),l=e(92748),C=e(17494),u=e(10760),d=e(67948),B=e(82173),I=e(23151),de=e(23587),Ae=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],b=a.forwardRef(function(n,Z){var M=(0,a.useState)(n.countDown||60),T=(0,I.Z)(M,2),D=T[0],p=T[1],j=(0,a.useState)(!1),$=(0,I.Z)(j,2),A=$[0],R=$[1],oe=(0,a.useState)(),z=(0,I.Z)(oe,2),ce=z[0],H=z[1],L=n.rules,y=n.name,E=n.phoneName,m=n.fieldProps,O=n.captchaTextRender,Y=O===void 0?function(U,w){return U?"".concat(w," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:O,k=n.captchaProps,o=(0,se.Z)(n,Ae),Ue=function(){var U=(0,B.Z)((0,d.Z)().mark(function w(J){return(0,d.Z)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,H(!0),S.next=4,o.onGetCaptcha(J);case 4:H(!1),R(!0),S.next=13;break;case 8:S.prev=8,S.t0=S.catch(0),R(!1),H(!1),console.log(S.t0);case 13:case"end":return S.stop()}},w,null,[[0,8]])}));return function(J){return U.apply(this,arguments)}}();return(0,a.useEffect)(function(){var U=0,w=n.countDown;return A&&(U=window.setInterval(function(){p(function(J){return J<=1?(R(!1),clearInterval(U),w||60):J-1})},1e3)),function(){return clearInterval(U)}},[A]),a.createElement(x.Z.Item,{noStyle:!0,shouldUpdate:!0},function(U){var w=U.getFieldValue,J=U.validateFields;return a.createElement("div",{style:(0,h.Z)((0,h.Z)({},m==null?void 0:m.style),{},{display:"flex",alignItems:"center"}),ref:Z},a.createElement(u.Z,(0,W.Z)({},m,{style:{flex:1,transition:"width .3s",marginRight:8}})),a.createElement(l.Z,(0,W.Z)({style:{display:"block"},disabled:A,loading:ce},k,{onClick:(0,B.Z)((0,d.Z)().mark(function Ge(){var S;return(0,d.Z)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(F.prev=0,!E){F.next=9;break}return F.next=4,J([E].flat(1));case 4:return S=w([E].flat(1)),F.next=7,Ue(S);case 7:F.next=11;break;case 9:return F.next=11,Ue("");case 11:F.next=16;break;case 13:F.prev=13,F.t0=F.catch(0),console.log(F.t0);case 16:case"end":return F.stop()}},Ge,null,[[0,13]])}))}),Y(A,D)))})}),K=(0,de.G)(b),ee=K,le=e(62970),te=e(99482),ie=e(77301),fe=e(87944),ge=["options","fieldProps","proFieldProps","valueEnum"],he=a.forwardRef(function(n,Z){var M=n.options,T=n.fieldProps,D=n.proFieldProps,p=n.valueEnum,j=(0,se.Z)(n,ge);return a.createElement(fe.Z,(0,W.Z)({ref:Z,valueType:"checkbox",mode:"edit",valueEnum:(0,ie.h)(p,void 0),fieldProps:(0,h.Z)({options:M},T),lightProps:(0,h.Z)({labelFormatter:function(){return a.createElement(fe.Z,(0,W.Z)({ref:Z,valueType:"checkbox",mode:"read",valueEnum:(0,ie.h)(p,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({options:M},T),proFieldProps:D},j))}},j.lightProps),proFieldProps:D},j))}),ze=a.forwardRef(function(n,Z){var M=n.fieldProps,T=n.children;return a.createElement(te.Z,(0,W.Z)({ref:Z},M),T)}),xe=(0,de.G)(ze,{valuePropName:"checked"}),Ce=xe;Ce.Group=he;var Ie=Ce,Ee=e(19884),De=e(57943),$e=e(77039),Me=e(91256),ke=e(52109),We=e(19927),Ke=e(98992),Ye=["autoLogin"],G;(function(n){n.MOBILE="MOBILE",n.USERNAME="USERNAME"})(G||(G={}));var we=function(){var Z=(0,Be.s0)(),M=(0,ve.t)("@@initialState"),T=M.refresh,D=(0,a.useState)(G.USERNAME),p=ye()(D,2),j=p[0],$=p[1],A=(0,$e.Z)(re.Ex),R=A.data,oe=A.loading,z=A.run,ce=function(){var y=Ke.parse(window.location.search);y!=null&&y.msg&&(_.ZP.error(y.msg),Z("/RuoYi-X-Umi/login",{replace:!0}))},H=function(){var L=N()(q().mark(function y(E){var m,O,Y;return q().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,m=E.autoLogin,O=i()(E,Ye),j!==G.MOBILE){o.next=8;break}return o.next=5,(0,re.w3)(O);case 5:Y=o.sent,o.next=16;break;case 8:if(R){o.next=13;break}return _.ZP.error("\u8BF7\u5148\u83B7\u53D6\u56FE\u7247\u9A8C\u8BC1\u7801"),o.abrupt("return");case 13:return o.next=15,(0,re.Hd)(g()(g()({},O),{},{uuid:R.uuid}));case 15:Y=o.sent;case 16:return(0,X.o4)(m?X.Z1.LOCAL_STORAGE:X.Z1.SESSION_STORAGE,"Bearer ".concat(Y.token)),o.next=19,T();case 19:Z("/"),o.next=25;break;case 22:o.prev=22,o.t0=o.catch(0),j===G.USERNAME&&z();case 25:case"end":return o.stop()}},y,null,[[0,22]])}));return function(E){return L.apply(this,arguments)}}();return(0,a.useEffect)(function(){ce()},[]),(0,r.jsx)("div",{className:"h-[100vh]",children:(0,r.jsxs)(c,{backgroundImageUrl:"https://gw.alipayobjects.com/zos/rmsportal/FfdJeJRQWjEeGTpqgBKj.png",logo:"https://github.githubassets.com/images/modules/logos_page/Octocat.png",title:"RuoYi X Umi",subTitle:"\u82E5\u4F9D\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",actions:(0,r.jsx)(ue,{}),onFinish:H,activityConfig:{action:(0,r.jsx)(je.Z,{className:"text-2xl cursor-pointer",onClick:function(){return window.open("https://github.com/QNAV/RuoYi-X-Umi","_blank")}})},children:[(0,r.jsxs)(Me.Z,{activeKey:j,onChange:function(y){return $(y)},children:[(0,r.jsx)(Me.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},G.USERNAME),(0,r.jsx)(Me.Z.TabPane,{tab:"\u624B\u673A\u53F7\u767B\u5F55"},G.MOBILE)]}),j===G.USERNAME&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ee.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(Se.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]}),(0,r.jsx)(Ee.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(me.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]}),(0,r.jsxs)(De.UW,{children:[(0,r.jsx)(Ee.Z,{width:160,name:"code",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",fieldProps:{size:"large",prefix:(0,r.jsx)(be.Z,{})},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}]}),(0,r.jsx)("div",{className:"h-[40px] w-[135px] cursor-pointer  border border-solid border-gray-300",children:oe?(0,r.jsx)(ke.Z.Button,{active:!0,block:!0,size:"large"}):(0,r.jsx)(We.Z,{src:"data:image/png;base64,".concat(R==null?void 0:R.img),preview:!1,className:"h-[40px] w-[135px]",alt:"\u9A8C\u8BC1\u7801",onClick:z})})]})]}),j===G.MOBILE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ee.Z,{fieldProps:{maxLength:11,size:"large",prefix:(0,r.jsx)(ne.Z,{})},name:"phonenumber",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},{pattern:X.RE,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF"}]}),(0,r.jsx)(ee,{fieldProps:{size:"large",prefix:(0,r.jsx)(me.Z,{})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(y,E){return y?"".concat(E," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"smsCode",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],onGetCaptcha:N()(q().mark(function L(){return q().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return _.ZP.info("\u656C\u8BF7\u671F\u5F85"),E.abrupt("return",Promise.reject(new Error("\u656C\u8BF7\u671F\u5F85")));case 2:case"end":return E.stop()}},L)}))})]}),(0,r.jsx)(Ie,{name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"})]})})},Ve=we},52109:function(Le,Q,e){e.d(Q,{Z:function(){return Te}});var f=e(23080),g=e(45443),Pe=e(30251),i=e(93236),Ze=e(19803),N=e.n(Ze),pe=function(t){var s=t.prefixCls,c=t.className,v=t.width,x=t.style;return i.createElement("h3",{className:N()(s,c),style:(0,g.Z)({width:v},x)})},ye=pe,Ne=e(34451),q=function(t){var s=function(u){var d=t.width,B=t.rows,I=B===void 0?2:B;if(Array.isArray(d))return d[u];if(I-1===u)return d},c=t.prefixCls,v=t.className,x=t.style,P=t.rows,l=(0,Ne.Z)(Array(P)).map(function(C,u){return i.createElement("li",{key:u,style:{width:s(u)}})});return i.createElement("ul",{className:N()(c,v),style:x},l)},Fe=q,V=e(223),_=function(t){var s,c,v=t.prefixCls,x=t.className,P=t.style,l=t.size,C=t.shape,u=N()((s={},(0,f.Z)(s,"".concat(v,"-lg"),l==="large"),(0,f.Z)(s,"".concat(v,"-sm"),l==="small"),s)),d=N()((c={},(0,f.Z)(c,"".concat(v,"-circle"),C==="circle"),(0,f.Z)(c,"".concat(v,"-square"),C==="square"),(0,f.Z)(c,"".concat(v,"-round"),C==="round"),c)),B=typeof l=="number"?{width:l,height:l,lineHeight:"".concat(l,"px")}:{};return i.createElement("span",{className:N()(v,u,d,x),style:(0,g.Z)((0,g.Z)({},B),P)})},r=_,ae=e(69374),ue=function(t){var s=t.prefixCls,c=t.className,v=t.active,x=i.useContext(V.E_),P=x.getPrefixCls,l=P("skeleton",s),C=(0,ae.Z)(t,["prefixCls","className"]),u=N()(l,"".concat(l,"-element"),(0,f.Z)({},"".concat(l,"-active"),v),c);return i.createElement("div",{className:u},i.createElement(r,(0,g.Z)({prefixCls:"".concat(l,"-avatar")},C)))};ue.defaultProps={size:"default",shape:"circle"};var re=ue,X=function(t){var s,c=t.prefixCls,v=t.className,x=t.active,P=t.block,l=P===void 0?!1:P,C=i.useContext(V.E_),u=C.getPrefixCls,d=u("skeleton",c),B=(0,ae.Z)(t,["prefixCls"]),I=N()(d,"".concat(d,"-element"),(s={},(0,f.Z)(s,"".concat(d,"-active"),x),(0,f.Z)(s,"".concat(d,"-block"),l),s),v);return i.createElement("div",{className:I},i.createElement(r,(0,g.Z)({prefixCls:"".concat(d,"-button")},B)))};X.defaultProps={size:"default"};var Be=X,ve=function(t){var s,c=t.prefixCls,v=t.className,x=t.active,P=t.block,l=i.useContext(V.E_),C=l.getPrefixCls,u=C("skeleton",c),d=(0,ae.Z)(t,["prefixCls"]),B=N()(u,"".concat(u,"-element"),(s={},(0,f.Z)(s,"".concat(u,"-active"),x),(0,f.Z)(s,"".concat(u,"-block"),P),s),v);return i.createElement("div",{className:B},i.createElement(r,(0,g.Z)({prefixCls:"".concat(u,"-input")},d)))};ve.defaultProps={size:"default"};var je=ve,Se="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",me=function(t){var s=t.prefixCls,c=t.className,v=t.style,x=i.useContext(V.E_),P=x.getPrefixCls,l=P("skeleton",s),C=N()(l,"".concat(l,"-element"),c);return i.createElement("div",{className:C},i.createElement("div",{className:N()("".concat(l,"-image"),c),style:v},i.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg")},i.createElement("path",{d:Se,className:"".concat(l,"-image-path")}))))},be=me;function ne(a){return a&&(0,Pe.Z)(a)==="object"?a:{}}function W(a,t){return a&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Oe(a,t){return!a&&t?{width:"38%"}:a&&t?{width:"50%"}:{}}function Re(a,t){var s={};return(!a||!t)&&(s.width="61%"),!a&&t?s.rows=3:s.rows=2,s}var h=function(t){var s=t.prefixCls,c=t.loading,v=t.className,x=t.style,P=t.children,l=t.avatar,C=t.title,u=t.paragraph,d=t.active,B=t.round,I=i.useContext(V.E_),de=I.getPrefixCls,Ae=I.direction,b=de("skeleton",s);if(c||!("loading"in t)){var K,ee=!!l,le=!!C,te=!!u,ie;if(ee){var fe=(0,g.Z)((0,g.Z)({prefixCls:"".concat(b,"-avatar")},W(le,te)),ne(l));ie=i.createElement("div",{className:"".concat(b,"-header")},i.createElement(r,fe))}var ge;if(le||te){var he;if(le){var ze=(0,g.Z)((0,g.Z)({prefixCls:"".concat(b,"-title")},Oe(ee,te)),ne(C));he=i.createElement(ye,ze)}var xe;if(te){var Ce=(0,g.Z)((0,g.Z)({prefixCls:"".concat(b,"-paragraph")},Re(ee,le)),ne(u));xe=i.createElement(Fe,Ce)}ge=i.createElement("div",{className:"".concat(b,"-content")},he,xe)}var Ie=N()(b,(K={},(0,f.Z)(K,"".concat(b,"-with-avatar"),ee),(0,f.Z)(K,"".concat(b,"-active"),d),(0,f.Z)(K,"".concat(b,"-rtl"),Ae==="rtl"),(0,f.Z)(K,"".concat(b,"-round"),B),K),v);return i.createElement("div",{className:Ie,style:x},ie,ge)}return typeof P<"u"?P:null};h.defaultProps={avatar:!1,title:!0,paragraph:!0},h.Button=Be,h.Avatar=re,h.Input=je,h.Image=be;var se=h,Te=se}}]);
