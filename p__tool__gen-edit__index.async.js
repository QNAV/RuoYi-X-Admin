"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[224],{27111:function(L,g,n){n.d(g,{gp:function(){return o},j5:function(){return S},jk:function(){return b},mJ:function(){return l},nj:function(){return s}});var l={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},o={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},b={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},s={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},S=function(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:h,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}}},91500:function(L,g,n){n.d(g,{ew:function(){return ee},Jx:function(){return m},iT:function(){return c},Zi:function(){return d},Bw:function(){return f},eJ:function(){return b},fk:function(){return v},nj:function(){return x.nj},sE:function(){return S},WW:function(){return e},sy:function(){return Y},E$:function(){return J},_M:function(){return ne},tC:function(){return o},wX:function(){return N},oh:function(){return _},Uc:function(){return R},x:function(){return $},Mw:function(){return K},p_:function(){return E},$V:function(){return a},gp:function(){return x.gp},Qo:function(){return V},xM:function(){return A},y4:function(){return w},$9:function(){return te},jk:function(){return x.jk},x_:function(){return i},C9:function(){return r},dy:function(){return I},QT:function(){return t},Jy:function(){return Z},VP:function(){return h},g4:function(){return Q},Fu:function(){return G},Rj:function(){return re},tE:function(){return T},iO:function(){return u},q2:function(){return k},jR:function(){return j},BP:function(){return B},au:function(){return s},oo:function(){return z},HW:function(){return D},VG:function(){return O},D1:function(){return U},j5:function(){return x.j5}});var l=n(87230),o={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},b={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},s={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},S={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:l.al},v={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(p){return{beginCreateTime:p[0],endCreateTime:p[1]}}}},h={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},w={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},x=n(27111),j={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},k={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},m={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},e={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},d={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},c={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},f={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},a={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:l.gh,width:90},E={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},_={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:l.gc},N={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:l.gc},R={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:l.gc},$={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:l.gc},K={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:l.gc},Z={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:l.CX,width:70},B={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:l.V},te={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},V={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},ee={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},Y={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},ne={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:l.LZ},J={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},u={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},r={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},i={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},I={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},t={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},re={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},Q={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},G={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},T={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0},D={dataIndex:"userId",key:"userId",title:"\u7528\u6237\u7F16\u53F7",valueType:"text",editable:!1,hideInSearch:!0},O={dataIndex:"userName",key:"userName",title:"\u7528\u6237\u540D\u79F0",valueType:"text"},A={dataIndex:"nickName",key:"nickName",title:"\u7528\u6237\u6635\u79F0",valueType:"text",hideInSearch:!0},z={dataIndex:["dept","deptName"],key:"deptDeptName",title:"\u90E8\u95E8\u540D\u79F0",valueType:"text",hideInSearch:!0},U={dataIndex:"phoneNumber",key:"phoneNumber",title:"\u624B\u673A\u53F7\u7801",valueType:"text"}},12692:function(L,g,n){n.r(g),n.d(g,{default:function(){return re}});var l=n(30279),o=n.n(l),b=n(35290),s=n.n(b),S=n(411),v=n.n(S),h=n(46686),w=n.n(h),x=n(93275),j=n.n(x),k=n(94434),m=n.n(k),e=n(91500),d=n(87230),c=n(78054),f=n(37117),a=n(11527),E=function(G){var T=G.dataSource,D=G.handleEdit,O={onSave:function(){var A=v()(s()().mark(function U(M,p){var W;return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return W=M,P.next=3,D(j()({},W,p[W]));case 3:case"end":return P.stop()}},U)}));function z(U,M){return A.apply(this,arguments)}return z}()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.vYc,{dataSource:T,columns:[e.jR,e.q2,e.Jx,e.WW,e.VP],editable:O}),(0,a.jsx)(f.Z,{}),(0,a.jsx)(c.vYc,{columns:[e.BP,e.$9,e.Qo,e.ew,e.sy,e._M].concat(m()((T==null?void 0:T.genType)===d.hh.ZIP?[]:[e.E$])),dataSource:T,editable:O})]})},_=E,N=n(60382),R=n(32760),$=n(26099),K=n(43090),Z=n(4733),B=n(50959),te=function(G){var T=G.dataSource,D=G.handleEdit,O=G.loading,A=O===void 0?!1:O,z=K.Z.useForm(),U=w()(z,1),M=U[0],p=(0,B.useState)([]),W=w()(p,2),X=W[0],P=W[1],ae=(X==null?void 0:X.length)>0;return(0,a.jsx)(c.nxD,{toolbar:{actions:ae?[(0,a.jsx)(Z.Z,{onClick:function(){return P([])},icon:(0,a.jsx)(N.Z,{}),children:"\u53D6\u6D88\u7F16\u8F91"},"cancelEdit"),(0,a.jsx)(Z.Z,{type:"primary",loading:A,icon:(0,a.jsx)(R.Z,{}),onClick:v()(s()().mark(function F(){var C;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,M.validateFields();case 2:return C=y.sent,y.next=5,D({columns:Object.keys(C).map(function(q){return o()(o()({},C[q]),{},{columnId:Number(q)})})});case 5:P([]);case 6:case"end":return y.stop()}},F)})),children:"\u4FDD\u5B58"},"edit")]:[(0,a.jsx)(Z.Z,{icon:(0,a.jsx)($.Z,{}),type:"primary",onClick:function(){T&&P(T==null?void 0:T.map(function(C){var H,y;return(H=C==null||(y=C.columnId)===null||y===void 0?void 0:y.toString())!==null&&H!==void 0?H:""}))},children:"\u7F16\u8F91"},"edit")]},rowKey:"columnId",ghost:!0,size:"small",scroll:{x:"max-content"},columns:[e.iO,e.Zi,e.iT,e.Bw,e.$V,e.p_,e.oh,e.wX,e.Uc,e.x,e.Mw,e.Jy],value:T,recordCreatorProps:!1,editable:{form:M,editableKeys:X}})},V=te,ee=n(45214),Y=n(18662),ne=n(28622),J=n(41202),u=n(55024),r,i;(function(Q){Q.BASE_INFO="BASE_INFO",Q.FIELD_INFO="FIELD_INFO"})(i||(i={}));var I=(r={},j()(r,i.BASE_INFO,"\u57FA\u672C\u4FE1\u606F"),j()(r,i.FIELD_INFO,"\u5B57\u6BB5\u4FE1\u606F"),r),t=function(){var G,T=(0,Y.useParams)(),D=Number((G=T==null?void 0:T.tableId)!==null&&G!==void 0?G:"0"),O=(0,B.useState)(i.BASE_INFO),A=w()(O,2),z=A[0],U=A[1],M=(0,J.Z)(v()(s()().mark(function F(){var C;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,ee.cj)({tableId:D});case 2:return C=y.sent,y.abrupt("return",C);case 4:case"end":return y.stop()}},F)})),{ready:D>0,refreshDeps:[D]}),p=M.data,W=M.refresh,X=(0,ne.D)(function(){var F=v()(s()().mark(function C(H){return s()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,ee.DI)(o()({tableId:D,businessName:p.info.businessName,functionName:p.info.functionName,className:p.info.className,functionAuthor:p.info.functionAuthor,moduleName:p.info.moduleName,packageName:p.info.packageName,tableComment:p.info.tableComment,tableName:p.info.tableName,columns:p.rows},H));case 2:case"end":return q.stop()}},C)}));return function(C){return F.apply(this,arguments)}}(),{onSuccess:function(){W(),u.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),P=X.mutateAsync,ae=X.isLoading;return(0,a.jsx)(c._zJ,{children:(0,a.jsxs)(c.QWM,{tabs:{activeKey:z,onChange:function(C){U(C)}},children:[(0,a.jsx)(c.QWM.TabPane,{tab:I[i.BASE_INFO],children:(0,a.jsx)(_,{dataSource:p==null?void 0:p.info,handleEdit:P})},i.BASE_INFO),(0,a.jsx)(c.QWM.TabPane,{tab:I[i.FIELD_INFO],children:(0,a.jsx)(V,{dataSource:p==null?void 0:p.rows,handleEdit:P,loading:ae})},i.FIELD_INFO)]})})},re=t},45214:function(L,g,n){n.d(g,{DI:function(){return f},DT:function(){return Z},He:function(){return ne},LV:function(){return ee},XS:function(){return w},Zd:function(){return te},cj:function(){return $},qm:function(){return N},we:function(){return m}});var l=n(35290),o=n.n(l),b=n(30279),s=n.n(b),S=n(411),v=n.n(S),h=n(72259);function w(u,r){return x.apply(this,arguments)}function x(){return x=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/batchGenCode",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),x.apply(this,arguments)}function j(u,r){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function u(r,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/tool/gen/column/list",_objectSpread({method:"GET",params:_objectSpread({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),k.apply(this,arguments)}function m(u,r){return e.apply(this,arguments)}function e(){return e=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/db/list",s()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return t.stop()}},u)})),e.apply(this,arguments)}function d(u,r){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function u(r,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/tool/gen/download",_objectSpread({method:"GET",params:_objectSpread({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),c.apply(this,arguments)}function f(u,r){return a.apply(this,arguments)}function a(){return a=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/edit",s()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return t.stop()}},u)})),a.apply(this,arguments)}function E(u,r){return _.apply(this,arguments)}function _(){return _=_asyncToGenerator(_regeneratorRuntime().mark(function u(r,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/tool/gen/genCode",_objectSpread({method:"GET",params:_objectSpread({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),_.apply(this,arguments)}function N(u,r){return R.apply(this,arguments)}function R(){return R=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/importTable",s()({method:"POST",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),R.apply(this,arguments)}function $(u,r){return K.apply(this,arguments)}function K(){return K=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/info",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),K.apply(this,arguments)}function Z(u,r){return B.apply(this,arguments)}function B(){return B=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/list",s()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return t.stop()}},u)})),B.apply(this,arguments)}function te(u,r){return V.apply(this,arguments)}function V(){return V=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/preview",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),V.apply(this,arguments)}function ee(u,r){return Y.apply(this,arguments)}function Y(){return Y=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/remove",s()({method:"POST",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),Y.apply(this,arguments)}function ne(u,r){return J.apply(this,arguments)}function J(){return J=v()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.h3)("/tool/gen/synchDb",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),J.apply(this,arguments)}},12415:function(L,g,n){var l=n(50959);function o(m,e){return m===e&&(m!==0||1/m===1/e)||m!==m&&e!==e}var b=typeof Object.is=="function"?Object.is:o,s=l.useState,S=l.useEffect,v=l.useLayoutEffect,h=l.useDebugValue;function w(m,e){var d=e(),c=s({inst:{value:d,getSnapshot:e}}),f=c[0].inst,a=c[1];return v(function(){f.value=d,f.getSnapshot=e,x(f)&&a({inst:f})},[m,d,e]),S(function(){return x(f)&&a({inst:f}),m(function(){x(f)&&a({inst:f})})},[m]),h(d),d}function x(m){var e=m.getSnapshot;m=m.value;try{var d=e();return!b(m,d)}catch{return!0}}function j(m,e){return e()}var k=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j:w;g.useSyncExternalStore=l.useSyncExternalStore!==void 0?l.useSyncExternalStore:k},4322:function(L,g,n){L.exports=n(12415)},28622:function(L,g,n){n.d(g,{D:function(){return j}});var l=n(50959),o=n(61142),b=n(66146),s=n(42128),S=n(39210);class v extends s.l{constructor(e,d){super(),this.client=e,this.setOptions(d),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const d=this.options;this.options=this.client.defaultMutationOptions(e),(0,S.VS)(d,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const d={listeners:!0};e.type==="success"?d.onSuccess=!0:e.type==="error"&&(d.onError=!0),this.notify(d)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,d){return this.mutateOptions=d,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,o.R)(),d={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=d}notify(e){b.V.batch(()=>{if(this.mutateOptions){if(e.onSuccess){var d,c,f,a;(d=(c=this.mutateOptions).onSuccess)==null||d.call(c,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(f=(a=this.mutateOptions).onSettled)==null||f.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var E,_,N,R;(E=(_=this.mutateOptions).onError)==null||E.call(_,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(N=(R=this.mutateOptions).onSettled)==null||N.call(R,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach($=>{$(this.currentResult)})})}}var h=n(6647),w=n(34118),x=n(4322);function j(m,e,d){const c=(0,S.lV)(m,e,d),f=(0,h.NL)({context:c.context}),[a]=l.useState(()=>new v(f,c));l.useEffect(()=>{a.setOptions(c)},[a,c]);const E=(0,x.useSyncExternalStore)(l.useCallback(N=>a.subscribe(b.V.batchCalls(N)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),_=l.useCallback((N,R)=>{a.mutate(N,R).catch(k)},[a]);if(E.error&&(0,w.L)(a.options.useErrorBoundary,[E.error]))throw E.error;return{...E,mutate:_,mutateAsync:E.mutate}}function k(){}},34118:function(L,g,n){n.d(g,{L:function(){return l}});function l(o,b){return typeof o=="function"?o(...b):!!o}}}]);
