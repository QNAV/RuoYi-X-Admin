"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[224],{99194:function(L,C,n){n.d(C,{gp:function(){return b},jk:function(){return s},l:function(){return p},mJ:function(){return o},nj:function(){return _}});var l=n(50959),o={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},b={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},s={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},_={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},p=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,l.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:E,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[E])}},55819:function(L,C,n){n.d(C,{ew:function(){return ee},Jx:function(){return m},iT:function(){return c},Zi:function(){return d},Bw:function(){return h},eJ:function(){return b},fk:function(){return p},nj:function(){return I.nj},sE:function(){return _},WW:function(){return e},sy:function(){return Y},E$:function(){return J},_M:function(){return ne},tC:function(){return o},wX:function(){return R},oh:function(){return N},Uc:function(){return G},x:function(){return X},Mw:function(){return $},p_:function(){return S},$V:function(){return a},gp:function(){return I.gp},Qo:function(){return V},xM:function(){return A},y4:function(){return E},$9:function(){return te},jk:function(){return I.jk},x_:function(){return i},C9:function(){return r},dy:function(){return x},QT:function(){return t},Jy:function(){return Z},VP:function(){return f},g4:function(){return Q},Fu:function(){return P},Rj:function(){return re},tE:function(){return T},iO:function(){return u},q2:function(){return w},jR:function(){return j},BP:function(){return B},au:function(){return s},oo:function(){return z},HW:function(){return D},VG:function(){return O},D1:function(){return U},l:function(){return I.l}});var l=n(70819),o={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},b={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},s={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},_={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:l.al},p={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(v){return{beginCreateTime:v[0],endCreateTime:v[1]}}}},f={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},E={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},I=n(99194),j={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},w={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},m={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},e={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},d={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},c={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},h={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},a={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:l.gh,width:90},S={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},N={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:l.gc},R={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:l.gc},G={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:l.gc},X={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:l.gc},$={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:l.gc},Z={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:l.CX,width:70},B={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:l.V},te={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},V={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},ee={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},Y={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},ne={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:l.LZ},J={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},u={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},r={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},i={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},x={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},t={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},re={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},Q={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},P={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},T={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0},D={dataIndex:"userId",key:"userId",title:"\u7528\u6237\u7F16\u53F7",valueType:"text",editable:!1,hideInSearch:!0},O={dataIndex:"userName",key:"userName",title:"\u7528\u6237\u540D\u79F0",valueType:"text"},A={dataIndex:"nickName",key:"nickName",title:"\u7528\u6237\u6635\u79F0",valueType:"text",hideInSearch:!0},z={dataIndex:["dept","deptName"],key:"deptDeptName",title:"\u90E8\u95E8\u540D\u79F0",valueType:"text",hideInSearch:!0},U={dataIndex:"phoneNumber",key:"phoneNumber",title:"\u624B\u673A\u53F7\u7801",valueType:"text"}},76941:function(L,C,n){n.r(C),n.d(C,{default:function(){return re}});var l=n(30279),o=n.n(l),b=n(35290),s=n.n(b),_=n(411),p=n.n(_),f=n(46686),E=n.n(f),I=n(93275),j=n.n(I),w=n(94434),m=n.n(w),e=n(55819),d=n(70819),c=n(78409),h=n(37117),a=n(11527),S=function(P){var T=P.dataSource,D=P.handleEdit,O={onSave:function(){var A=p()(s()().mark(function U(M,v){var W;return s()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return W=M,k.next=3,D(j()({},W,v[W]));case 3:case"end":return k.stop()}},U)}));function z(U,M){return A.apply(this,arguments)}return z}()};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.vYc,{dataSource:T,columns:[e.jR,e.q2,e.Jx,e.WW,e.VP],editable:O}),(0,a.jsx)(h.Z,{}),(0,a.jsx)(c.vYc,{columns:[e.BP,e.$9,e.Qo,e.ew,e.sy,e._M].concat(m()((T==null?void 0:T.genType)===d.hh.ZIP?[]:[e.E$])),dataSource:T,editable:O})]})},N=S,R=n(60382),G=n(32760),X=n(26099),$=n(43090),Z=n(4733),B=n(50959),te=function(P){var T=P.dataSource,D=P.handleEdit,O=P.loading,A=O===void 0?!1:O,z=$.Z.useForm(),U=E()(z,1),M=U[0],v=(0,B.useState)([]),W=E()(v,2),K=W[0],k=W[1],ae=(K==null?void 0:K.length)>0;return(0,a.jsx)(c.nxD,{toolbar:{actions:ae?[(0,a.jsx)(Z.Z,{onClick:function(){return k([])},icon:(0,a.jsx)(R.Z,{}),children:"\u53D6\u6D88\u7F16\u8F91"},"cancelEdit"),(0,a.jsx)(Z.Z,{type:"primary",loading:A,icon:(0,a.jsx)(G.Z,{}),onClick:p()(s()().mark(function F(){var g;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,M.validateFields();case 2:return g=y.sent,y.next=5,D({columns:Object.keys(g).map(function(q){return o()(o()({},g[q]),{},{columnId:Number(q)})})});case 5:k([]);case 6:case"end":return y.stop()}},F)})),children:"\u4FDD\u5B58"},"edit")]:[(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(X.Z,{}),type:"primary",onClick:function(){T&&k(T==null?void 0:T.map(function(g){var H,y;return(H=g==null||(y=g.columnId)===null||y===void 0?void 0:y.toString())!==null&&H!==void 0?H:""}))},children:"\u7F16\u8F91"},"edit")]},rowKey:"columnId",ghost:!0,size:"small",scroll:{x:"max-content"},columns:[e.iO,e.Zi,e.iT,e.Bw,e.$V,e.p_,e.oh,e.wX,e.Uc,e.x,e.Mw,e.Jy],value:T,recordCreatorProps:!1,editable:{form:M,editableKeys:K}})},V=te,ee=n(34879),Y=n(21954),ne=n(28622),J=n(41202),u=n(55024),r,i;(function(Q){Q.BASE_INFO="BASE_INFO",Q.FIELD_INFO="FIELD_INFO"})(i||(i={}));var x=(r={},j()(r,i.BASE_INFO,"\u57FA\u672C\u4FE1\u606F"),j()(r,i.FIELD_INFO,"\u5B57\u6BB5\u4FE1\u606F"),r),t=function(){var P,T=(0,Y.useParams)(),D=Number((P=T==null?void 0:T.tableId)!==null&&P!==void 0?P:"0"),O=(0,B.useState)(i.BASE_INFO),A=E()(O,2),z=A[0],U=A[1],M=(0,J.Z)(p()(s()().mark(function F(){var g;return s()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,ee.cj)({tableId:D});case 2:return g=y.sent,y.abrupt("return",g);case 4:case"end":return y.stop()}},F)})),{ready:D>0,refreshDeps:[D]}),v=M.data,W=M.refresh,K=(0,ne.D)(function(){var F=p()(s()().mark(function g(H){return s()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,ee.DI)(o()({tableId:D,businessName:v.info.businessName,functionName:v.info.functionName,className:v.info.className,functionAuthor:v.info.functionAuthor,moduleName:v.info.moduleName,packageName:v.info.packageName,tableComment:v.info.tableComment,tableName:v.info.tableName,columns:v.rows},H));case 2:case"end":return q.stop()}},g)}));return function(g){return F.apply(this,arguments)}}(),{onSuccess:function(){W(),u.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),k=K.mutateAsync,ae=K.isLoading;return(0,a.jsx)(c._zJ,{children:(0,a.jsxs)(c.QWM,{tabs:{activeKey:z,onChange:function(g){U(g)}},children:[(0,a.jsx)(c.QWM.TabPane,{tab:x[i.BASE_INFO],children:(0,a.jsx)(N,{dataSource:v==null?void 0:v.info,handleEdit:k})},i.BASE_INFO),(0,a.jsx)(c.QWM.TabPane,{tab:x[i.FIELD_INFO],children:(0,a.jsx)(V,{dataSource:v==null?void 0:v.rows,handleEdit:k,loading:ae})},i.FIELD_INFO)]})})},re=t},34879:function(L,C,n){n.d(C,{DI:function(){return h},DT:function(){return Z},He:function(){return ne},LV:function(){return ee},XS:function(){return E},Zd:function(){return te},cj:function(){return X},qm:function(){return R},we:function(){return m}});var l=n(35290),o=n.n(l),b=n(30279),s=n.n(b),_=n(411),p=n.n(_),f=n(7093);function E(u,r){return I.apply(this,arguments)}function I(){return I=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/batchGenCode",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),I.apply(this,arguments)}function j(u,r){return w.apply(this,arguments)}function w(){return w=_asyncToGenerator(_regeneratorRuntime().mark(function u(r,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/tool/gen/column/list",_objectSpread({method:"GET",params:_objectSpread({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),w.apply(this,arguments)}function m(u,r){return e.apply(this,arguments)}function e(){return e=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/db/list",s()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return t.stop()}},u)})),e.apply(this,arguments)}function d(u,r){return c.apply(this,arguments)}function c(){return c=_asyncToGenerator(_regeneratorRuntime().mark(function u(r,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/tool/gen/download",_objectSpread({method:"GET",params:_objectSpread({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),c.apply(this,arguments)}function h(u,r){return a.apply(this,arguments)}function a(){return a=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/edit",s()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return t.stop()}},u)})),a.apply(this,arguments)}function S(u,r){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function u(r,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/tool/gen/genCode",_objectSpread({method:"GET",params:_objectSpread({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),N.apply(this,arguments)}function R(u,r){return G.apply(this,arguments)}function G(){return G=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/importTable",s()({method:"POST",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),G.apply(this,arguments)}function X(u,r){return $.apply(this,arguments)}function $(){return $=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/info",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),$.apply(this,arguments)}function Z(u,r){return B.apply(this,arguments)}function B(){return B=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/list",s()({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return t.stop()}},u)})),B.apply(this,arguments)}function te(u,r){return V.apply(this,arguments)}function V(){return V=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/preview",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),V.apply(this,arguments)}function ee(u,r){return Y.apply(this,arguments)}function Y(){return Y=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/remove",s()({method:"POST",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),Y.apply(this,arguments)}function ne(u,r){return J.apply(this,arguments)}function J(){return J=p()(o()().mark(function u(r,i){return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.h3)("/tool/gen/synchDb",s()({method:"GET",params:s()({},r)},i||{})));case 1:case"end":return t.stop()}},u)})),J.apply(this,arguments)}},12415:function(L,C,n){var l=n(50959);function o(m,e){return m===e&&(m!==0||1/m===1/e)||m!==m&&e!==e}var b=typeof Object.is=="function"?Object.is:o,s=l.useState,_=l.useEffect,p=l.useLayoutEffect,f=l.useDebugValue;function E(m,e){var d=e(),c=s({inst:{value:d,getSnapshot:e}}),h=c[0].inst,a=c[1];return p(function(){h.value=d,h.getSnapshot=e,I(h)&&a({inst:h})},[m,d,e]),_(function(){return I(h)&&a({inst:h}),m(function(){I(h)&&a({inst:h})})},[m]),f(d),d}function I(m){var e=m.getSnapshot;m=m.value;try{var d=e();return!b(m,d)}catch{return!0}}function j(m,e){return e()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?j:E;C.useSyncExternalStore=l.useSyncExternalStore!==void 0?l.useSyncExternalStore:w},4322:function(L,C,n){L.exports=n(12415)},28622:function(L,C,n){n.d(C,{D:function(){return j}});var l=n(50959),o=n(61142),b=n(66146),s=n(42128),_=n(39210);class p extends s.l{constructor(e,d){super(),this.client=e,this.setOptions(d),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const d=this.options;this.options=this.client.defaultMutationOptions(e),(0,_.VS)(d,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const d={listeners:!0};e.type==="success"?d.onSuccess=!0:e.type==="error"&&(d.onError=!0),this.notify(d)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,d){return this.mutateOptions=d,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,o.R)(),d={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=d}notify(e){b.V.batch(()=>{if(this.mutateOptions){if(e.onSuccess){var d,c,h,a;(d=(c=this.mutateOptions).onSuccess)==null||d.call(c,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(h=(a=this.mutateOptions).onSettled)==null||h.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var S,N,R,G;(S=(N=this.mutateOptions).onError)==null||S.call(N,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(R=(G=this.mutateOptions).onSettled)==null||R.call(G,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(X=>{X(this.currentResult)})})}}var f=n(6647),E=n(34118),I=n(4322);function j(m,e,d){const c=(0,_.lV)(m,e,d),h=(0,f.NL)({context:c.context}),[a]=l.useState(()=>new p(h,c));l.useEffect(()=>{a.setOptions(c)},[a,c]);const S=(0,I.useSyncExternalStore)(l.useCallback(R=>a.subscribe(b.V.batchCalls(R)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),N=l.useCallback((R,G)=>{a.mutate(R,G).catch(w)},[a]);if(S.error&&(0,E.L)(a.options.useErrorBoundary,[S.error]))throw S.error;return{...S,mutate:N,mutateAsync:S.mutate}}function w(){}},34118:function(L,C,n){n.d(C,{L:function(){return l}});function l(o,b){return typeof o=="function"?o(...b):!!o}}}]);
