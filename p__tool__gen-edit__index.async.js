"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[224],{13026:function(ne,E,t){t.d(E,{gp:function(){return j},jk:function(){return i},l:function(){return d},mJ:function(){return o},nj:function(){return w}});var p=t(50959),o={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},j={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},i={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},w={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},d=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,p.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:_,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[_])}},63070:function(ne,E,t){t.d(E,{ew:function(){return W},Jx:function(){return Y},iT:function(){return h},Zi:function(){return ee},Bw:function(){return J},eJ:function(){return j},fk:function(){return d},nj:function(){return C.nj},sE:function(){return w},WW:function(){return u},sy:function(){return A},E$:function(){return $},_M:function(){return H},tC:function(){return o},wX:function(){return Q},oh:function(){return R},Uc:function(){return D},x:function(){return V},Mw:function(){return O},p_:function(){return te},$V:function(){return l},gp:function(){return C.gp},Qo:function(){return B},y4:function(){return _},$9:function(){return z},jk:function(){return C.jk},x_:function(){return r},C9:function(){return n},dy:function(){return v},QT:function(){return e},Jy:function(){return F},VP:function(){return y},g4:function(){return M},Fu:function(){return T},Rj:function(){return ae},tE:function(){return m},iO:function(){return a},q2:function(){return k},jR:function(){return K},BP:function(){return S},au:function(){return i},l:function(){return C.l}});var p=t(43380),o={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},j={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},i={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},w={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:p.al},d={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(g){return{beginCreateTime:g[0],endCreateTime:g[1]}}}},y={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},_={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},C=t(13026),K={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},k={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},Y={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},u={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},ee={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},h={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},J={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},l={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:p.gh,width:90},te={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},R={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:p.gc},Q={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:p.gc},D={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:p.gc},V={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:p.gc},O={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:p.gc},F={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:p.CX,width:70},S={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:p.V},z={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},B={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},W={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},A={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},H={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:p.LZ},$={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},a={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},n={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},r={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},v={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},e={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},ae={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},M={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},T={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},m={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},49889:function(ne,E,t){t.r(E),t.d(E,{default:function(){return ae}});var p=t(30279),o=t.n(p),j=t(35290),i=t.n(j),w=t(411),d=t.n(w),y=t(46686),_=t.n(y),C=t(93275),K=t.n(C),k=t(94434),Y=t.n(k),u=t(63070),ee=t(43380),h=t(3967),J=t(42381),l=t(11527),te=function(T){var m=T.dataSource,x=T.handleEdit,g={onSave:function(){var X=d()(i()().mark(function Z(G,s){var N;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return N=G,I.next=3,x(K()({},N,s[N]));case 3:case"end":return I.stop()}},Z)}));function q(Z,G){return X.apply(this,arguments)}return q}()};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.vYc,{dataSource:m,columns:[u.jR,u.q2,u.Jx,u.WW,u.VP],editable:g}),(0,l.jsx)(J.Z,{}),(0,l.jsx)(h.vYc,{columns:[u.BP,u.$9,u.Qo,u.ew,u.sy,u._M].concat(Y()((m==null?void 0:m.genType)===ee.hh.ZIP?[]:[u.E$])),dataSource:m,editable:g})]})},R=te,Q=t(60382),D=t(32760),V=t(26099),O=t(86131),F=t(93066),S=t(50959),z=function(T){var m=T.dataSource,x=T.handleEdit,g=T.loading,X=g===void 0?!1:g,q=O.Z.useForm(),Z=_()(q,1),G=Z[0],s=(0,S.useState)([]),N=_()(s,2),P=N[0],I=N[1],re=(P==null?void 0:P.length)>0;return(0,l.jsx)(h.nxD,{toolbar:{actions:re?[(0,l.jsx)(F.Z,{onClick:function(){return I([])},icon:(0,l.jsx)(Q.Z,{}),children:"\u53D6\u6D88\u7F16\u8F91"},"cancelEdit"),(0,l.jsx)(F.Z,{type:"primary",loading:X,icon:(0,l.jsx)(D.Z,{}),onClick:d()(i()().mark(function b(){var f;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,G.validateFields();case 2:return f=c.sent,c.next=5,x({columns:Object.keys(f).map(function(U){return o()(o()({},f[U]),{},{columnId:Number(U)})})});case 5:I([]);case 6:case"end":return c.stop()}},b)})),children:"\u4FDD\u5B58"},"edit")]:[(0,l.jsx)(F.Z,{icon:(0,l.jsx)(V.Z,{}),type:"primary",onClick:function(){m&&I(m==null?void 0:m.map(function(f){var L,c;return(L=f==null||(c=f.columnId)===null||c===void 0?void 0:c.toString())!==null&&L!==void 0?L:""}))},children:"\u7F16\u8F91"},"edit")]},rowKey:"columnId",ghost:!0,size:"small",scroll:{x:"max-content"},columns:[u.iO,u.Zi,u.iT,u.Bw,u.$V,u.p_,u.oh,u.wX,u.Uc,u.x,u.Mw,u.Jy],value:m,recordCreatorProps:!1,editable:{form:G,editableKeys:P}})},B=z,W=t(65807),A=t(60225),H=t(3650),$=t(84337),a=t(28287),n,r;(function(M){M.BASE_INFO="BASE_INFO",M.FIELD_INFO="FIELD_INFO"})(r||(r={}));var v=(n={},K()(n,r.BASE_INFO,"\u57FA\u672C\u4FE1\u606F"),K()(n,r.FIELD_INFO,"\u5B57\u6BB5\u4FE1\u606F"),n),e=function(){var T,m=(0,A.useParams)(),x=Number((T=m==null?void 0:m.tableId)!==null&&T!==void 0?T:"0"),g=(0,S.useState)(r.BASE_INFO),X=_()(g,2),q=X[0],Z=X[1],G=(0,$.Z)(d()(i()().mark(function b(){var f;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,W.cj)({tableId:x});case 2:return f=c.sent,c.abrupt("return",f);case 4:case"end":return c.stop()}},b)})),{ready:x>0,refreshDeps:[x]}),s=G.data,N=G.refresh,P=(0,H.useMutation)(function(){var b=d()(i()().mark(function f(L){return i()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,W.DI)(o()({tableId:x,businessName:s.info.businessName,functionName:s.info.functionName,className:s.info.className,functionAuthor:s.info.functionAuthor,moduleName:s.info.moduleName,packageName:s.info.packageName,tableComment:s.info.tableComment,tableName:s.info.tableName,columns:s.rows},L));case 2:case"end":return U.stop()}},f)}));return function(f){return b.apply(this,arguments)}}(),{onSuccess:function(){N(),a.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),I=P.mutateAsync,re=P.isLoading;return(0,l.jsx)(h._zJ,{children:(0,l.jsxs)(h.QWM,{tabs:{activeKey:q,onChange:function(f){Z(f)}},children:[(0,l.jsx)(h.QWM.TabPane,{tab:v[r.BASE_INFO],children:(0,l.jsx)(R,{dataSource:s==null?void 0:s.info,handleEdit:I})},r.BASE_INFO),(0,l.jsx)(h.QWM.TabPane,{tab:v[r.FIELD_INFO],children:(0,l.jsx)(B,{dataSource:s==null?void 0:s.rows,handleEdit:I,loading:re})},r.FIELD_INFO)]})})},ae=e},65807:function(ne,E,t){t.d(E,{DI:function(){return J},DT:function(){return F},He:function(){return H},LV:function(){return W},XS:function(){return _},Zd:function(){return z},cj:function(){return V},qm:function(){return Q},we:function(){return Y}});var p=t(35290),o=t.n(p),j=t(30279),i=t.n(j),w=t(411),d=t.n(w),y=t(26931);function _(a,n){return C.apply(this,arguments)}function C(){return C=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/batchGenCode",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),C.apply(this,arguments)}function K(a,n){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/tool/gen/column/list",_objectSpread({method:"GET",params:_objectSpread({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),k.apply(this,arguments)}function Y(a,n){return u.apply(this,arguments)}function u(){return u=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/db/list",i()({method:"POST",headers:{"Content-Type":"application/json"},data:n},r||{})));case 1:case"end":return e.stop()}},a)})),u.apply(this,arguments)}function ee(a,n){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/tool/gen/download",_objectSpread({method:"GET",params:_objectSpread({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),h.apply(this,arguments)}function J(a,n){return l.apply(this,arguments)}function l(){return l=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/edit",i()({method:"POST",headers:{"Content-Type":"application/json"},data:n},r||{})));case 1:case"end":return e.stop()}},a)})),l.apply(this,arguments)}function te(a,n){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/tool/gen/genCode",_objectSpread({method:"GET",params:_objectSpread({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),R.apply(this,arguments)}function Q(a,n){return D.apply(this,arguments)}function D(){return D=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/importTable",i()({method:"POST",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),D.apply(this,arguments)}function V(a,n){return O.apply(this,arguments)}function O(){return O=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/info",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),O.apply(this,arguments)}function F(a,n){return S.apply(this,arguments)}function S(){return S=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/list",i()({method:"POST",headers:{"Content-Type":"application/json"},data:n},r||{})));case 1:case"end":return e.stop()}},a)})),S.apply(this,arguments)}function z(a,n){return B.apply(this,arguments)}function B(){return B=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/preview",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),B.apply(this,arguments)}function W(a,n){return A.apply(this,arguments)}function A(){return A=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/remove",i()({method:"POST",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),A.apply(this,arguments)}function H(a,n){return $.apply(this,arguments)}function $(){return $=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/synchDb",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),$.apply(this,arguments)}}}]);
