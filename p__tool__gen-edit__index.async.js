"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[224],{35600:function(ne,N,t){t.d(N,{gp:function(){return w},jk:function(){return i},l:function(){return d},mJ:function(){return o},nj:function(){return R}});var p=t(50959),o={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},w={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},i={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},R={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},d=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,p.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:x,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[x])}},41258:function(ne,N,t){t.d(N,{ew:function(){return Y},Jx:function(){return J},iT:function(){return h},Zi:function(){return ee},Bw:function(){return Q},eJ:function(){return w},fk:function(){return d},nj:function(){return C.nj},sE:function(){return R},WW:function(){return u},sy:function(){return $},E$:function(){return L},_M:function(){return q},tC:function(){return o},wX:function(){return V},oh:function(){return O},Uc:function(){return F},x:function(){return z},Mw:function(){return B},p_:function(){return te},$V:function(){return l},gp:function(){return C.gp},Qo:function(){return M},xM:function(){return G},y4:function(){return x},$9:function(){return H},jk:function(){return C.jk},x_:function(){return r},C9:function(){return n},dy:function(){return v},QT:function(){return e},Jy:function(){return A},VP:function(){return y},g4:function(){return U},Fu:function(){return T},Rj:function(){return ae},tE:function(){return m},iO:function(){return a},q2:function(){return D},jR:function(){return Z},BP:function(){return S},au:function(){return i},oo:function(){return W},HW:function(){return _},VG:function(){return g},D1:function(){return P},l:function(){return C.l}});var p=t(37498),o={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},w={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},i={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},R={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:p.al},d={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(s){return{beginCreateTime:s[0],endCreateTime:s[1]}}}},y={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},x={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},C=t(35600),Z={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},D={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},J={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},u={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},ee={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},h={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},Q={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},l={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:p.gh,width:90},te={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},O={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:p.gc},V={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:p.gc},F={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:p.gc},z={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:p.gc},B={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:p.gc},A={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:p.CX,width:70},S={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:p.V},H={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},M={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},Y={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},$={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},q={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:p.LZ},L={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},a={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},n={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},r={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},v={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},e={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},ae={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},U={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},T={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},m={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0},_={dataIndex:"userId",key:"userId",title:"\u7528\u6237\u7F16\u53F7",valueType:"text",editable:!1,hideInSearch:!0},g={dataIndex:"userName",key:"userName",title:"\u7528\u6237\u540D\u79F0",valueType:"text"},G={dataIndex:"nickName",key:"nickName",title:"\u7528\u6237\u6635\u79F0",valueType:"text",hideInSearch:!0},W={dataIndex:["dept","deptName"],key:"deptDeptName",title:"\u90E8\u95E8\u540D\u79F0",valueType:"text",hideInSearch:!0},P={dataIndex:"phoneNumber",key:"phoneNumber",title:"\u624B\u673A\u53F7\u7801",valueType:"text"}},12982:function(ne,N,t){t.r(N),t.d(N,{default:function(){return ae}});var p=t(30279),o=t.n(p),w=t(35290),i=t.n(w),R=t(411),d=t.n(R),y=t(46686),x=t.n(y),C=t(93275),Z=t.n(C),D=t(94434),J=t.n(D),u=t(41258),ee=t(37498),h=t(43428),Q=t(42381),l=t(11527),te=function(T){var m=T.dataSource,_=T.handleEdit,g={onSave:function(){var G=d()(i()().mark(function P(b,s){var k;return i()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return k=b,I.next=3,_(Z()({},k,s[k]));case 3:case"end":return I.stop()}},P)}));function W(P,b){return G.apply(this,arguments)}return W}()};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.vYc,{dataSource:m,columns:[u.jR,u.q2,u.Jx,u.WW,u.VP],editable:g}),(0,l.jsx)(Q.Z,{}),(0,l.jsx)(h.vYc,{columns:[u.BP,u.$9,u.Qo,u.ew,u.sy,u._M].concat(J()((m==null?void 0:m.genType)===ee.hh.ZIP?[]:[u.E$])),dataSource:m,editable:g})]})},O=te,V=t(60382),F=t(32760),z=t(26099),B=t(86131),A=t(93066),S=t(50959),H=function(T){var m=T.dataSource,_=T.handleEdit,g=T.loading,G=g===void 0?!1:g,W=B.Z.useForm(),P=x()(W,1),b=P[0],s=(0,S.useState)([]),k=x()(s,2),j=k[0],I=k[1],re=(j==null?void 0:j.length)>0;return(0,l.jsx)(h.nxD,{toolbar:{actions:re?[(0,l.jsx)(A.Z,{onClick:function(){return I([])},icon:(0,l.jsx)(V.Z,{}),children:"\u53D6\u6D88\u7F16\u8F91"},"cancelEdit"),(0,l.jsx)(A.Z,{type:"primary",loading:G,icon:(0,l.jsx)(F.Z,{}),onClick:d()(i()().mark(function E(){var f;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,b.validateFields();case 2:return f=c.sent,c.next=5,_({columns:Object.keys(f).map(function(X){return o()(o()({},f[X]),{},{columnId:Number(X)})})});case 5:I([]);case 6:case"end":return c.stop()}},E)})),children:"\u4FDD\u5B58"},"edit")]:[(0,l.jsx)(A.Z,{icon:(0,l.jsx)(z.Z,{}),type:"primary",onClick:function(){m&&I(m==null?void 0:m.map(function(f){var K,c;return(K=f==null||(c=f.columnId)===null||c===void 0?void 0:c.toString())!==null&&K!==void 0?K:""}))},children:"\u7F16\u8F91"},"edit")]},rowKey:"columnId",ghost:!0,size:"small",scroll:{x:"max-content"},columns:[u.iO,u.Zi,u.iT,u.Bw,u.$V,u.p_,u.oh,u.wX,u.Uc,u.x,u.Mw,u.Jy],value:m,recordCreatorProps:!1,editable:{form:b,editableKeys:j}})},M=H,Y=t(12944),$=t(99012),q=t(3650),L=t(41202),a=t(28287),n,r;(function(U){U.BASE_INFO="BASE_INFO",U.FIELD_INFO="FIELD_INFO"})(r||(r={}));var v=(n={},Z()(n,r.BASE_INFO,"\u57FA\u672C\u4FE1\u606F"),Z()(n,r.FIELD_INFO,"\u5B57\u6BB5\u4FE1\u606F"),n),e=function(){var T,m=(0,$.useParams)(),_=Number((T=m==null?void 0:m.tableId)!==null&&T!==void 0?T:"0"),g=(0,S.useState)(r.BASE_INFO),G=x()(g,2),W=G[0],P=G[1],b=(0,L.Z)(d()(i()().mark(function E(){var f;return i()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,Y.cj)({tableId:_});case 2:return f=c.sent,c.abrupt("return",f);case 4:case"end":return c.stop()}},E)})),{ready:_>0,refreshDeps:[_]}),s=b.data,k=b.refresh,j=(0,q.useMutation)(function(){var E=d()(i()().mark(function f(K){return i()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,Y.DI)(o()({tableId:_,businessName:s.info.businessName,functionName:s.info.functionName,className:s.info.className,functionAuthor:s.info.functionAuthor,moduleName:s.info.moduleName,packageName:s.info.packageName,tableComment:s.info.tableComment,tableName:s.info.tableName,columns:s.rows},K));case 2:case"end":return X.stop()}},f)}));return function(f){return E.apply(this,arguments)}}(),{onSuccess:function(){k(),a.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),I=j.mutateAsync,re=j.isLoading;return(0,l.jsx)(h._zJ,{children:(0,l.jsxs)(h.QWM,{tabs:{activeKey:W,onChange:function(f){P(f)}},children:[(0,l.jsx)(h.QWM.TabPane,{tab:v[r.BASE_INFO],children:(0,l.jsx)(O,{dataSource:s==null?void 0:s.info,handleEdit:I})},r.BASE_INFO),(0,l.jsx)(h.QWM.TabPane,{tab:v[r.FIELD_INFO],children:(0,l.jsx)(M,{dataSource:s==null?void 0:s.rows,handleEdit:I,loading:re})},r.FIELD_INFO)]})})},ae=e},12944:function(ne,N,t){t.d(N,{DI:function(){return Q},DT:function(){return A},He:function(){return q},LV:function(){return Y},XS:function(){return x},Zd:function(){return H},cj:function(){return z},qm:function(){return V},we:function(){return J}});var p=t(35290),o=t.n(p),w=t(30279),i=t.n(w),R=t(411),d=t.n(R),y=t(41913);function x(a,n){return C.apply(this,arguments)}function C(){return C=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/batchGenCode",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),C.apply(this,arguments)}function Z(a,n){return D.apply(this,arguments)}function D(){return D=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/tool/gen/column/list",_objectSpread({method:"GET",params:_objectSpread({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),D.apply(this,arguments)}function J(a,n){return u.apply(this,arguments)}function u(){return u=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/db/list",i()({method:"POST",headers:{"Content-Type":"application/json"},data:n},r||{})));case 1:case"end":return e.stop()}},a)})),u.apply(this,arguments)}function ee(a,n){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/tool/gen/download",_objectSpread({method:"GET",params:_objectSpread({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),h.apply(this,arguments)}function Q(a,n){return l.apply(this,arguments)}function l(){return l=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/edit",i()({method:"POST",headers:{"Content-Type":"application/json"},data:n},r||{})));case 1:case"end":return e.stop()}},a)})),l.apply(this,arguments)}function te(a,n){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function a(n,r){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/tool/gen/genCode",_objectSpread({method:"GET",params:_objectSpread({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),O.apply(this,arguments)}function V(a,n){return F.apply(this,arguments)}function F(){return F=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/importTable",i()({method:"POST",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),F.apply(this,arguments)}function z(a,n){return B.apply(this,arguments)}function B(){return B=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/info",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),B.apply(this,arguments)}function A(a,n){return S.apply(this,arguments)}function S(){return S=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/list",i()({method:"POST",headers:{"Content-Type":"application/json"},data:n},r||{})));case 1:case"end":return e.stop()}},a)})),S.apply(this,arguments)}function H(a,n){return M.apply(this,arguments)}function M(){return M=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/preview",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),M.apply(this,arguments)}function Y(a,n){return $.apply(this,arguments)}function $(){return $=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/remove",i()({method:"POST",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),$.apply(this,arguments)}function q(a,n){return L.apply(this,arguments)}function L(){return L=d()(o()().mark(function a(n,r){return o()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,y.h3)("/tool/gen/synchDb",i()({method:"GET",params:i()({},n)},r||{})));case 1:case"end":return e.stop()}},a)})),L.apply(this,arguments)}}}]);
