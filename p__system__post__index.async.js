"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[631],{18723:function(G,T,e){var n=e(84045),f=e(18112),u=e(11527),h=e(50959),c=e(59609),I=["fieldProps","min","proFieldProps","max"],y=function(s,g){var E=s.fieldProps,p=s.min,P=s.proFieldProps,R=s.max,l=(0,f.Z)(s,I);return(0,u.jsx)(c.Z,(0,n.Z)({valueType:"digit",fieldProps:(0,n.Z)({min:p,max:R},E),ref:g,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:P},l))};T.Z=h.forwardRef(y)},37349:function(G,T,e){var n=e(81694),f=e(21374),u=e(84045),h=e(18112),c=e(11527),I=e(41386),y=e(50959),v=e(81522),s=e(59609),g=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],E=y.forwardRef(function(l,L){var S=l.fieldProps,x=l.options,D=l.radioType,V=l.layout,B=l.proFieldProps,Z=l.valueEnum,M=(0,h.Z)(l,g);return(0,c.jsx)(s.Z,(0,u.Z)((0,u.Z)({valueType:D==="button"?"radioButton":"radio",ref:L,valueEnum:(0,I.h)(Z,void 0)},M),{},{fieldProps:(0,u.Z)({options:x,layout:V},S),proFieldProps:B,filedConfig:{customLightMode:!0}}))}),p=y.forwardRef(function(l,L){var S=l.fieldProps,x=l.children;return(0,c.jsx)(f.ZP,(0,u.Z)((0,u.Z)({},S),{},{ref:L,children:x}))}),P=(0,v.G)(p,{valuePropName:"checked",ignoreWidth:!0}),R=P;R.Group=E,R.Button=f.ZP.Button,R.displayName="ProFormComponent",T.Z=R},55099:function(G,T,e){var n=e(84045),f=e(18112),u=e(11527),h=e(59609),c=["fieldProps","proFieldProps"],I=["fieldProps","proFieldProps"],y="text",v=function(p){var P=p.fieldProps,R=p.proFieldProps,l=(0,f.Z)(p,c);return(0,u.jsx)(h.Z,(0,n.Z)({valueType:y,fieldProps:P,filedConfig:{valueType:y},proFieldProps:R},l))},s=function(p){var P=p.fieldProps,R=p.proFieldProps,l=(0,f.Z)(p,I);return(0,u.jsx)(h.Z,(0,n.Z)({valueType:"password",fieldProps:P,proFieldProps:R,filedConfig:{valueType:y}},l))},g=v;g.Password=s,g.displayName="ProFormComponent",T.Z=g},1206:function(G,T,e){var n=e(84045),f=e(18112),u=e(11527),h=e(50959),c=e(59609),I=["fieldProps","proFieldProps"],y=function(s,g){var E=s.fieldProps,p=s.proFieldProps,P=(0,f.Z)(s,I);return(0,u.jsx)(c.Z,(0,n.Z)({ref:g,valueType:"textarea",fieldProps:E,proFieldProps:p},P))};T.Z=h.forwardRef(y)},70477:function(G,T,e){e.d(T,{gp:function(){return u},jk:function(){return h},l:function(){return I},mJ:function(){return f},nj:function(){return c}});var n=e(50959),f={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},u={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},h={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},c={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},I=function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,n.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:v,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[v])}},35334:function(G,T,e){e.d(T,{ew:function(){return Y},Jx:function(){return p},iT:function(){return l},Zi:function(){return R},Bw:function(){return L},eJ:function(){return u},fk:function(){return I},nj:function(){return s.nj},sE:function(){return c},WW:function(){return P},sy:function(){return X},E$:function(){return K},_M:function(){return H},tC:function(){return f},wX:function(){return V},oh:function(){return D},Uc:function(){return B},x:function(){return Z},Mw:function(){return M},p_:function(){return x},$V:function(){return S},gp:function(){return s.gp},Qo:function(){return b},y4:function(){return v},$9:function(){return C},jk:function(){return s.jk},x_:function(){return A},C9:function(){return O},dy:function(){return j},QT:function(){return N},Jy:function(){return Q},VP:function(){return y},g4:function(){return ee},Fu:function(){return z},Rj:function(){return m},tE:function(){return i},iO:function(){return w},q2:function(){return E},jR:function(){return g},BP:function(){return $},au:function(){return h},l:function(){return s.l}});var n=e(31194),f={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},u={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},h={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},c={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:n.al},I={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(_){return{beginCreateTime:_[0],endCreateTime:_[1]}}}},y={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},v={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},s=e(70477),g={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},E={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},p={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},P={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},R={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},l={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},L={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},S={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:n.gh,width:90},x={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},D={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:n.gc},V={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:n.gc},B={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:n.gc},Z={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:n.gc},M={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:n.gc},Q={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:n.CX,width:70},$={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:n.V},C={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},b={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},Y={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},X={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},H={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:n.LZ},K={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},w={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},O={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},A={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},j={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},N={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},m={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},ee={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},z={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},i={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},44926:function(G,T,e){e.d(T,{Z:function(){return u},n:function(){return l}});var n=e(50959),f=e(98205),u=function(S){var x=(0,n.useRef)(),D=(0,f.Zl)(S);return(0,n.useEffect)(function(){x!=null&&x.current&&D(x.current)},[]),x},h=e(35290),c=e.n(h),I=e(411),y=e.n(I),v=e(94434),s=e.n(v),g=e(46686),E=e.n(g),p=e(28287),P=e(32222),R=e.n(P),l=function(S){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"checkbox",D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,V=(0,n.useState)([]),B=E()(V,2),Z=B[0],M=B[1],Q=(0,n.useState)([]),$=E()(Q,2),C=$[0],b=$[1],Y={alwaysShowAlert:D,type:x,selectedRowKeys:Z,onChange:function(O,A){b(A),M(O)}},X=function(O){var A=O[S],j=[O],N=[A];if(x==="checkbox")if(N=s()(Z),j=R()(C),N.includes(A)){var m=Z.indexOf(A);N.splice(m,1),j.splice(m,1)}else j.push(O),N.push(A);b(j),M(N)},H=function(){b([]),M([])},K=function(){var w=y()(c()().mark(function O(){var A,j=arguments;return c()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(A=j.length>0&&j[0]!==void 0?j[0]:"\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61",(C==null?void 0:C.length)!==0){m.next=4;break}return p.ZP.warning(A),m.abrupt("return",Promise.reject(A));case 4:return m.abrupt("return",Promise.resolve(C));case 5:case"end":return m.stop()}},O)}));return function(){return w.apply(this,arguments)}}();return{selectedRows:C,selectedRowKeys:Z,rowSelection:Y,onClick:X,clearSelection:H,setSelectedRowKeys:M,checkRowSelection:K}}},75885:function(G,T,e){e.r(T),e.d(T,{default:function(){return Ae}});var n=e(35334),f=e(35290),u=e.n(f),h=e(411),c=e.n(h),I=e(44926),y=e(30279),v=e.n(y),s=e(45402);function g(o,t){return E.apply(this,arguments)}function E(){return E=c()(u()().mark(function o(t,a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.WY)("/system/post/add",v()({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return r.stop()}},o)})),E.apply(this,arguments)}function p(o,t){return P.apply(this,arguments)}function P(){return P=c()(u()().mark(function o(t,a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.WY)("/system/post/edit",v()({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return r.stop()}},o)})),P.apply(this,arguments)}function R(o,t){return l.apply(this,arguments)}function l(){return l=_asyncToGenerator(_regeneratorRuntime().mark(function o(t,a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/system/post/export",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return r.stop()}},o)})),l.apply(this,arguments)}function L(o,t){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function o(t,a){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/system/post/info",_objectSpread({method:"GET",params:_objectSpread({},t)},a||{})));case 1:case"end":return r.stop()}},o)})),S.apply(this,arguments)}function x(o,t){return D.apply(this,arguments)}function D(){return D=c()(u()().mark(function o(t,a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.WY)("/system/post/list",v()({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return r.stop()}},o)})),D.apply(this,arguments)}function V(o){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function o(t){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/system/post/optionSelect",_objectSpread({method:"GET"},t||{})));case 1:case"end":return d.stop()}},o)})),B.apply(this,arguments)}function Z(o,t){return M.apply(this,arguments)}function M(){return M=c()(u()().mark(function o(t,a){return u()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,s.WY)("/system/post/remove",v()({method:"POST",params:v()({},t)},a||{})));case 1:case"end":return r.stop()}},o)})),M.apply(this,arguments)}var Q=e(3650),$=e(28287),C=e(98205),b="systemPost",Y=(0,C.cn)({key:"".concat(b,"AtomMainTableActions"),default:void 0}),X=function(){return(0,I.Z)(Y)},H=function(){return(0,C.sJ)(Y)},K=(0,C.cn)({key:"".concat(b,"AtomAddOrEditModal"),default:{open:!1,actionType:"add"}}),w=function(){var t=(0,C.Zl)(K);return function(){return t({open:!0,actionType:"add"})}},O=function(){var t=(0,C.Zl)(K);return function(a){return t({open:!0,actionType:"edit",record:a})}},A=function(){return(0,C.rb)(K)},j=function(){return(0,C.sJ)(K)},N=function(){var t=H();return(0,Q.useMutation)(function(){var a=c()(u()().mark(function d(r){return u()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,Z({postIds:r});case 2:case"end":return k.stop()}},d)}));return function(d){return a.apply(this,arguments)}}(),{onSuccess:function(){var d;t==null||t.reload(),t==null||(d=t.clearSelected)===null||d===void 0||d.call(t),$.ZP.success("\u5220\u9664\u6210\u529F")}})},m=e(15328),ee=e(54064),z=e(93066),i=e(11527),re=function(){var t=(0,m.md)(),a=w();return(0,i.jsx)(m.Nv,{accessible:t.canAddSysPost,children:(0,i.jsx)(z.Z,{type:"primary",icon:(0,i.jsx)(ee.Z,{}),onClick:a,children:"\u65B0\u5EFA"})})},_=re,de=e(26099),le=function(t){var a=t.record,d=(0,m.md)(),r=O();return(0,i.jsx)(m.Nv,{accessible:d.canEditSysPost,children:(0,i.jsx)(z.Z,{type:"link",icon:(0,i.jsx)(de.Z,{}),onClick:function(){return r(a)},children:"\u7F16\u8F91"})})},ce=le,ve=e(39449),pe=function(t){var a=t.postId,d=(0,m.md)(),r=N(),W=r.mutate,k=r.isLoading;return(0,i.jsx)(m.Nv,{accessible:d.canRemoveSysPost,children:(0,i.jsx)(z.Z,{type:"link",danger:!0,icon:(0,i.jsx)(ve.Z,{}),onClick:function(){return W(a)},loading:k,children:"\u5220\u9664"})})},me=pe,ne=e(31194),fe=e(2072),ae=e(55099),ye=e(18723),Pe=e(37349),Te=e(1206),he=e(48111),oe=e(50959),Ee=function(){var t,a=(0,oe.useRef)(),d=j(),r=d.open,W=d.actionType,k=d.record,ue=A(),te=H(),se=function(){var J;ue(),(J=a.current)===null||J===void 0||J.resetFields()},ie=(0,Q.useMutation)(c()(u()().mark(function U(){var J,q;return u()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(J=a.current)===null||J===void 0?void 0:J.validateFields();case 2:if(q=F.sent,q){F.next=5;break}return F.abrupt("return");case 5:if(W!=="add"){F.next=9;break}return F.next=8,g(q);case 8:return F.abrupt("return");case 9:return F.next=11,p(v()(v()({},q),{},{postId:k.postId}));case 11:case"end":return F.stop()}},U)})),{onSuccess:function(){te==null||te.reload(),se(),$.ZP.success(W==="add"?"\u65B0\u5EFA\u6210\u529F":"\u4FDD\u5B58\u6210\u529F")}}),Se=ie.mutate,Me=ie.isLoading;return(0,oe.useEffect)(function(){var U;W==="edit"&&k&&(U=a.current)!==null&&U!==void 0&&U.setFieldsValue&&a.current.setFieldsValue(k)},[W,(t=a.current)===null||t===void 0?void 0:t.setFieldsValue]),(0,i.jsx)(he.Z,{open:r,onCancel:se,okText:"\u63D0\u4EA4",okButtonProps:{loading:Me},onOk:function(){return Se()},title:W==="add"?"\u65B0\u5EFA\u5C97\u4F4D":"\u7F16\u8F91\u5C97\u4F4D\u4FE1\u606F",children:(0,i.jsxs)(fe.A,{submitter:!1,formRef:a,children:[(0,i.jsx)(ae.Z,{name:"postName",label:"\u5C97\u4F4D\u540D\u79F0",rules:[{required:!0}]}),(0,i.jsx)(ae.Z,{name:"postCode",label:"\u5C97\u4F4D\u7F16\u7801",rules:[{required:!0}]}),(0,i.jsx)(ye.Z,{name:"postSort",label:"\u663E\u793A\u987A\u5E8F",rules:[{required:!0}],initialValue:0}),(0,i.jsx)(Pe.Z.Group,{name:"status",label:"\u72B6\u6001",valueEnum:ne.al,initialValue:ne.vu.ENABLE}),(0,i.jsx)(Te.Z,{name:"remark",label:"\u5907\u6CE8"})]})})},xe=Ee,Ce=e(23070),Ie=e(15554),ge=[n.C9,n.x_,n.dy,n.QT,n.sE,n.VP,n.eJ,{title:"\u64CD\u4F5C",valueType:"option",render:function(t,a){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ce,{record:a}),(0,i.jsx)(me,{postId:a.postId})]})}}],Re=function(){var t=X();return(0,i.jsxs)(Ce.ZP,{children:[(0,i.jsx)(Ie.Z,{actionRef:t,rowKey:"postId",request:function(){return x(s.h$.apply(void 0,arguments))},columns:ge,toolbar:{actions:[(0,i.jsx)(_,{},"ButtonAdd")]}}),(0,i.jsx)(xe,{})]})},Ae=Re}}]);
