"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[631],{70477:function(ee,R,e){e.d(R,{gp:function(){return i},jk:function(){return B},l:function(){return F},mJ:function(){return O},nj:function(){return m}});var o=e(50959),O={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},i={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},B={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},m={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},F=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,o.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:c,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[c])}},35334:function(ee,R,e){e.d(R,{ew:function(){return L},Jx:function(){return W},iT:function(){return Z},Zi:function(){return H},Bw:function(){return X},eJ:function(){return i},fk:function(){return F},nj:function(){return p.nj},sE:function(){return m},WW:function(){return $},sy:function(){return Y},E$:function(){return w},_M:function(){return K},tC:function(){return O},wX:function(){return z},oh:function(){return S},Uc:function(){return k},x:function(){return E},Mw:function(){return x},p_:function(){return y},$V:function(){return I},gp:function(){return p.gp},Qo:function(){return j},y4:function(){return c},$9:function(){return d},jk:function(){return p.jk},x_:function(){return v},C9:function(){return f},dy:function(){return h},QT:function(){return C},Jy:function(){return V},VP:function(){return J},g4:function(){return te},Fu:function(){return U},Rj:function(){return l},tE:function(){return u},iO:function(){return N},q2:function(){return A},jR:function(){return Q},BP:function(){return G},au:function(){return B},l:function(){return p.l}});var o=e(31194),O={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},i={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},B={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},m={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:o.al},F={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(q){return{beginCreateTime:q[0],endCreateTime:q[1]}}}},J={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},c={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},p=e(70477),Q={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},A={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},W={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},$={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},H={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},Z={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},X={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},I={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:o.gh,width:90},y={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},S={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:o.gc},z={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:o.gc},k={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:o.gc},E={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:o.gc},x={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:o.gc},V={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:o.CX,width:70},G={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:o.V},d={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},j={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},L={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},Y={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},K={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:o.LZ},w={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},N={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},f={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},v={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},h={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},C={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},l={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},te={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},U={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},u={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},44926:function(ee,R,e){e.d(R,{Z:function(){return i},n:function(){return Z}});var o=e(50959),O=e(98205),i=function(I){var y=(0,o.useRef)(),S=(0,O.Zl)(I);return(0,o.useEffect)(function(){y!=null&&y.current&&S(y.current)},[]),y},B=e(35290),m=e.n(B),F=e(411),J=e.n(F),c=e(94434),p=e.n(c),Q=e(46686),A=e.n(Q),W=e(28287),$=e(32222),H=e.n($),Z=function(I){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"checkbox",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,z=(0,o.useState)([]),k=A()(z,2),E=k[0],x=k[1],V=(0,o.useState)([]),G=A()(V,2),d=G[0],j=G[1],L={alwaysShowAlert:S,type:y,selectedRowKeys:E,onChange:function(f,v){j(v),x(f)}},Y=function(f){var v=f[I],h=[f],C=[v];if(y==="checkbox")if(C=p()(E),h=H()(d),C.includes(v)){var l=E.indexOf(v);C.splice(l,1),h.splice(l,1)}else h.push(f),C.push(v);j(h),x(C)},K=function(){j([]),x([])},w=function(){var N=J()(m()().mark(function f(){var v,h=arguments;return m()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(v=h.length>0&&h[0]!==void 0?h[0]:"\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61",(d==null?void 0:d.length)!==0){l.next=4;break}return W.ZP.warning(v),l.abrupt("return",Promise.reject(v));case 4:return l.abrupt("return",Promise.resolve(d));case 5:case"end":return l.stop()}},f)}));return function(){return N.apply(this,arguments)}}();return{selectedRows:d,selectedRowKeys:E,rowSelection:L,onClick:Y,clearSelection:K,setSelectedRowKeys:x,checkRowSelection:w}}},75885:function(ee,R,e){e.r(R),e.d(R,{default:function(){return Ce}});var o=e(35334),O=e(35290),i=e.n(O),B=e(411),m=e.n(B),F=e(44926),J=e(30279),c=e.n(J),p=e(45402);function Q(r,t){return A.apply(this,arguments)}function A(){return A=m()(i()().mark(function r(t,a){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.WY)("/system/post/add",c()({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return n.stop()}},r)})),A.apply(this,arguments)}function W(r,t){return $.apply(this,arguments)}function $(){return $=m()(i()().mark(function r(t,a){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.WY)("/system/post/edit",c()({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return n.stop()}},r)})),$.apply(this,arguments)}function H(r,t){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function r(t,a){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/system/post/export",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return n.stop()}},r)})),Z.apply(this,arguments)}function X(r,t){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function r(t,a){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/system/post/info",_objectSpread({method:"GET",params:_objectSpread({},t)},a||{})));case 1:case"end":return n.stop()}},r)})),I.apply(this,arguments)}function y(r,t){return S.apply(this,arguments)}function S(){return S=m()(i()().mark(function r(t,a){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.WY)("/system/post/list",c()({method:"POST",headers:{"Content-Type":"application/json"},data:t},a||{})));case 1:case"end":return n.stop()}},r)})),S.apply(this,arguments)}function z(r){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime().mark(function r(t){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/system/post/optionSelect",_objectSpread({method:"GET"},t||{})));case 1:case"end":return s.stop()}},r)})),k.apply(this,arguments)}function E(r,t){return x.apply(this,arguments)}function x(){return x=m()(i()().mark(function r(t,a){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,p.WY)("/system/post/remove",c()({method:"POST",params:c()({},t)},a||{})));case 1:case"end":return n.stop()}},r)})),x.apply(this,arguments)}var V=e(3650),G=e(28287),d=e(98205),j="systemPost",L=(0,d.cn)({key:"".concat(j,"AtomMainTableActions"),default:void 0}),Y=function(){return(0,F.Z)(L)},K=function(){return(0,d.sJ)(L)},w=(0,d.cn)({key:"".concat(j,"AtomAddOrEditModal"),default:{open:!1,actionType:"add"}}),N=function(){var t=(0,d.Zl)(w);return function(){return t({open:!0,actionType:"add"})}},f=function(){var t=(0,d.Zl)(w);return function(a){return t({open:!0,actionType:"edit",record:a})}},v=function(){return(0,d.rb)(w)},h=function(){return(0,d.sJ)(w)},C=function(){var t=K();return(0,V.useMutation)(function(){var a=m()(i()().mark(function s(n){return i()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,E({postIds:n});case 2:case"end":return g.stop()}},s)}));return function(s){return a.apply(this,arguments)}}(),{onSuccess:function(){var s;t==null||t.reload(),t==null||(s=t.clearSelected)===null||s===void 0||s.call(t),G.ZP.success("\u5220\u9664\u6210\u529F")}})},l=e(15328),te=e(54064),U=e(93066),u=e(11527),ae=function(){var t=(0,l.md)(),a=N();return(0,u.jsx)(l.Nv,{accessible:t.canAddSysPost,children:(0,u.jsx)(U.Z,{type:"primary",icon:(0,u.jsx)(te.Z,{}),onClick:a,children:"\u65B0\u5EFA"})})},q=ae,le=e(26099),de=function(t){var a=t.record,s=(0,l.md)(),n=f();return(0,u.jsx)(l.Nv,{accessible:s.canEditSysPost,children:(0,u.jsx)(U.Z,{type:"link",icon:(0,u.jsx)(le.Z,{}),onClick:function(){return n(a)},children:"\u7F16\u8F91"})})},ce=de,ve=e(39449),me=function(t){var a=t.postId,s=(0,l.md)(),n=C(),P=n.mutate,g=n.isLoading;return(0,u.jsx)(l.Nv,{accessible:s.canRemoveSysPost,children:(0,u.jsx)(U.Z,{type:"link",danger:!0,icon:(0,u.jsx)(ve.Z,{}),onClick:function(){return P(a)},loading:g,children:"\u5220\u9664"})})},pe=me,re=e(31194),M=e(92058),ye=e(48111),ue=e(50959),fe=function(){var t,a=(0,ue.useRef)(),s=h(),n=s.open,P=s.actionType,g=s.record,oe=v(),ne=K(),se=function(){var D;oe(),(D=a.current)===null||D===void 0||D.resetFields()},ie=(0,V.useMutation)(m()(i()().mark(function b(){var D,_;return i()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(D=a.current)===null||D===void 0?void 0:D.validateFields();case 2:if(_=T.sent,_){T.next=5;break}return T.abrupt("return");case 5:if(P!=="add"){T.next=9;break}return T.next=8,Q(_);case 8:return T.abrupt("return");case 9:return T.next=11,W(c()(c()({},_),{},{postId:g.postId}));case 11:case"end":return T.stop()}},b)})),{onSuccess:function(){ne==null||ne.reload(),se(),G.ZP.success(P==="add"?"\u65B0\u5EFA\u6210\u529F":"\u4FDD\u5B58\u6210\u529F")}}),ge=ie.mutate,Ie=ie.isLoading;return(0,ue.useEffect)(function(){var b;P==="edit"&&g&&(b=a.current)!==null&&b!==void 0&&b.setFieldsValue&&a.current.setFieldsValue(g)},[P,(t=a.current)===null||t===void 0?void 0:t.setFieldsValue]),(0,u.jsx)(ye.Z,{open:n,onCancel:se,okText:"\u63D0\u4EA4",okButtonProps:{loading:Ie},onOk:function(){return ge()},title:P==="add"?"\u65B0\u5EFA\u5C97\u4F4D":"\u7F16\u8F91\u5C97\u4F4D\u4FE1\u606F",children:(0,u.jsxs)(M.A96,{submitter:!1,formRef:a,children:[(0,u.jsx)(M.VaQ,{name:"postName",label:"\u5C97\u4F4D\u540D\u79F0",rules:[{required:!0}]}),(0,u.jsx)(M.VaQ,{name:"postCode",label:"\u5C97\u4F4D\u7F16\u7801",rules:[{required:!0}]}),(0,u.jsx)(M.k_F,{name:"postSort",label:"\u663E\u793A\u987A\u5E8F",rules:[{required:!0}],initialValue:0}),(0,u.jsx)(M.$Oj.Group,{name:"status",label:"\u72B6\u6001",valueEnum:re.al,initialValue:re.vu.ENABLE}),(0,u.jsx)(M.$JJ,{name:"remark",label:"\u5907\u6CE8"})]})})},he=fe,Te=[o.C9,o.x_,o.dy,o.QT,o.sE,o.VP,o.eJ,{title:"\u64CD\u4F5C",valueType:"option",render:function(t,a){return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ce,{record:a}),(0,u.jsx)(pe,{postId:a.postId})]})}}],xe=function(){var t=Y();return(0,u.jsxs)(M._zJ,{children:[(0,u.jsx)(M.QVr,{actionRef:t,rowKey:"postId",request:function(){return y(p.h$.apply(void 0,arguments))},columns:Te,toolbar:{actions:[(0,u.jsx)(q,{},"ButtonAdd")]}}),(0,u.jsx)(he,{})]})},Ce=xe}}]);
