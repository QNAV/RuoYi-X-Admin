import{r as l,C as p}from"./index-2bf205fd.js";import{r as g}from"./jsx-runtime-5957e344.js";import{S as ve,s as he,n as Ae,q as pe,v as fe,t as be,f as _e,b as Ie,r as ye,i as ke,a as L,w as He,u as we,x as De,e as Ce}from"./utils.esm-dc9afcdd.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ct=(e,t={})=>l({path:"/system/config/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),ut=(e,t={})=>l({path:"/system/config/configKey",method:"GET",query:e,secure:!0,skipErrorHandler:!0,...t}),lt=(e,t={})=>l({path:"/system/config/export",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),dt=(e,t={})=>l({path:"/system/config/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),ht=(e={})=>l({path:"/system/config/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...e}),pt=(e,t={})=>l({path:"/system/config/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),ft=(e,t={})=>l({path:"/system/config/updateByKey",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),yt=(e,t={})=>l({path:"/system/dept/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),mt=(e,t={})=>l({path:"/system/dept/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Et=(e,t={})=>l({path:"/system/dept/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),St=(e,t={})=>l({path:"/system/dept/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Tt=(e,t={})=>l({path:"/system/dept/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Pt=(e,t={})=>l({path:"/system/dept/roleDeptTreeSelect",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Ot=(e,t={})=>l({path:"/system/dept/treeSelect",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Rt=(e,t={})=>l({path:"/system/dict/data/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),gt=(e,t={})=>l({path:"/system/dict/data/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),vt=(e,t={})=>l({path:"/system/dict/data/export",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),At=(e,t={})=>l({path:"/system/dict/data/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),bt=(e,t={})=>l({path:"/system/dict/data/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),_t=(e,t={})=>l({path:"/system/dict/data/type",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),It=(e,t={})=>l({path:"/system/dict/type/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),kt=(e,t={})=>l({path:"/system/dict/type/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Ht=(e,t={})=>l({path:"/system/dict/type/export",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),wt=(e,t={})=>l({path:"/system/dict/type/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Dt=(e={})=>l({path:"/system/dict/type/optionSelect",method:"GET",secure:!0,skipErrorHandler:!1,...e}),Ct=(e={})=>l({path:"/system/dict/type/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...e}),xt=(e,t={})=>l({path:"/system/dict/type/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Mt=(e,t={})=>l({path:"/system/menu/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Ut=(e,t={})=>l({path:"/system/menu/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Vt=(e,t={})=>l({path:"/system/menu/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Qt=(e,t={})=>l({path:"/system/menu/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Kt=(e,t={})=>l({path:"/system/menu/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Jt=(e,t={})=>l({path:"/system/menu/roleMenuTreeSelect",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Lt=(e,t={})=>l({path:"/system/notice/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Yt=(e,t={})=>l({path:"/system/notice/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Gt=(e,t={})=>l({path:"/system/notice/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Nt=(e,t={})=>l({path:"/system/notice/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Bt=(e,t={})=>l({path:"/system/oss/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Ft=(e,t={})=>l({path:"/system/post/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),qt=(e,t={})=>l({path:"/system/post/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Xt=(e,t={})=>l({path:"/system/post/export",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),zt=(e,t={})=>l({path:"/system/post/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Wt=(e,t={})=>l({path:"/system/post/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),jt=(e,t={})=>l({path:"/system/user/profile",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Zt=(e,t={})=>l({path:"/system/user/profile/updatePwd",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),$t=(e,t={})=>l({path:"/system/role/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),es=(e,t={})=>l({path:"/system/role/authUser/allocatedList",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),ts=(e,t={})=>l({path:"/system/role/authUser/cancel",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),ss=(e,t={})=>l({path:"/system/role/authUser/cancelAll",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),rs=(e,t={})=>l({path:"/system/role/authUser/selectAll",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),os=(e,t={})=>l({path:"/system/role/authUser/unallocatedList",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),ns=(e,t={})=>l({path:"/system/role/dataScope",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),is=(e,t={})=>l({path:"/system/role/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),as=(e,t={})=>l({path:"/system/role/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),cs=(e,t={})=>l({path:"/system/role/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),us=(e,t={})=>l({path:"/system/role/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),ls=(e,t={})=>l({path:"/system/user/",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),ds=(e,t={})=>l({path:"/system/user/add",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),hs=(e,t={})=>l({path:"/system/user/edit",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),ps=(e,t={})=>l({path:"/system/user/export",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),fs=(e={})=>l({path:"/system/user/importTemplate",method:"POST",secure:!0,skipErrorHandler:!1,...e}),ys=(e,t={})=>l({path:"/system/user/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),ms=(e,t={})=>l({path:"/system/user/list",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t}),Es=(e,t={})=>l({path:"/system/user/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Ss=(e,t={})=>l({path:"/system/user/resetPwd",method:"POST",body:e,secure:!0,type:p.Json,skipErrorHandler:!1,...t});class xe extends ve{constructor(t,r){super(),this.client=t,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),me(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return Z(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Z(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,r){const c=this.options,m=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),he(c,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=c.queryKey),this.updateQuery();const h=this.hasListeners();h&&Ee(this.currentQuery,m,this.options,c)&&this.executeFetch(),this.updateResult(r),h&&(this.currentQuery!==m||this.options.enabled!==c.enabled||this.options.staleTime!==c.staleTime)&&this.updateStaleTimeout();const f=this.computeRefetchInterval();h&&(this.currentQuery!==m||this.options.enabled!==c.enabled||f!==this.currentRefetchInterval)&&this.updateRefetchInterval(f)}getOptimisticResult(t){const r=this.client.getQueryCache().build(this.client,t);return this.createResult(r,t)}getCurrentResult(){return this.currentResult}trackResult(t){const r={};return Object.keys(t).forEach(c=>{Object.defineProperty(r,c,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(c),t[c])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...r}={}){return this.fetch({...r,meta:{refetchPage:t}})}fetchOptimistic(t){const r=this.client.defaultQueryOptions(t),c=this.client.getQueryCache().build(this.client,r);return c.isFetchingOptimistic=!0,c.fetch().then(()=>this.createResult(c,r))}fetch(t){var r;return this.executeFetch({...t,cancelRefetch:(r=t.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let r=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ae)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),pe||this.currentResult.isStale||!fe(this.options.staleTime))return;const r=be(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(pe||this.options.enabled===!1||!fe(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||_e.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,r){const c=this.currentQuery,m=this.options,h=this.currentResult,f=this.currentResultState,S=this.currentResultOptions,A=t!==c,O=A?t.state:this.currentQueryInitialState,R=A?this.currentResult:this.previousQueryResult,{state:E}=t;let{dataUpdatedAt:T,error:P,errorUpdatedAt:H,fetchStatus:w,status:_}=E,C=!1,G=!1,v;if(r._optimisticResults){const b=this.hasListeners(),U=!b&&me(t,r),Q=b&&Ee(t,c,r,m);(U||Q)&&(w=Ie(t.options.networkMode)?"fetching":"paused",T||(_="loading")),r._optimisticResults==="isRestoring"&&(w="idle")}if(r.keepPreviousData&&!E.dataUpdatedAt&&R!=null&&R.isSuccess&&_!=="error")v=R.data,T=R.dataUpdatedAt,_=R.status,C=!0;else if(r.select&&typeof E.data<"u")if(h&&E.data===(f==null?void 0:f.data)&&r.select===this.selectFn)v=this.selectResult;else try{this.selectFn=r.select,v=r.select(E.data),v=ye(h==null?void 0:h.data,v,r),this.selectResult=v,this.selectError=null}catch(b){this.selectError=b}else v=E.data;if(typeof r.placeholderData<"u"&&typeof v>"u"&&_==="loading"){let b;if(h!=null&&h.isPlaceholderData&&r.placeholderData===(S==null?void 0:S.placeholderData))b=h.data;else if(b=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof b<"u")try{b=r.select(b),this.selectError=null}catch(U){this.selectError=U}typeof b<"u"&&(_="success",v=ye(h==null?void 0:h.data,b,r),G=!0)}this.selectError&&(P=this.selectError,v=this.selectResult,H=Date.now(),_="error");const M=w==="fetching",V=_==="loading",x=_==="error";return{status:_,fetchStatus:w,isLoading:V,isSuccess:_==="success",isError:x,isInitialLoading:V&&M,data:v,dataUpdatedAt:T,error:P,errorUpdatedAt:H,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>O.dataUpdateCount||E.errorUpdateCount>O.errorUpdateCount,isFetching:M,isRefetching:M&&!V,isLoadingError:x&&E.dataUpdatedAt===0,isPaused:w==="paused",isPlaceholderData:G,isPreviousData:C,isRefetchError:x&&E.dataUpdatedAt!==0,isStale:oe(t,r),refetch:this.refetch,remove:this.remove}}updateResult(t){const r=this.currentResult,c=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,he(c,r))return;this.currentResult=c;const m={cache:!0},h=()=>{if(!r)return!0;const{notifyOnChangeProps:f}=this.options;if(f==="all"||!f&&!this.trackedProps.size)return!0;const S=new Set(f??this.trackedProps);return this.options.useErrorBoundary&&S.add("error"),Object.keys(this.currentResult).some(A=>{const O=A;return this.currentResult[O]!==r[O]&&S.has(O)})};(t==null?void 0:t.listeners)!==!1&&h()&&(m.listeners=!0),this.notify({...m,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const r={};t.type==="success"?r.onSuccess=!t.manual:t.type==="error"&&!ke(t.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(t){L.batch(()=>{if(t.onSuccess){var r,c,m,h;(r=(c=this.options).onSuccess)==null||r.call(c,this.currentResult.data),(m=(h=this.options).onSettled)==null||m.call(h,this.currentResult.data,null)}else if(t.onError){var f,S,A,O;(f=(S=this.options).onError)==null||f.call(S,this.currentResult.error),(A=(O=this.options).onSettled)==null||A.call(O,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(R=>{R(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Me(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function me(e,t){return Me(e,t)||e.state.dataUpdatedAt>0&&Z(e,t,t.refetchOnMount)}function Z(e,t,r){if(t.enabled!==!1){const c=typeof r=="function"?r(e):r;return c==="always"||c!==!1&&oe(e,t)}return!1}function Ee(e,t,r,c){return r.enabled!==!1&&(e!==t||c.enabled===!1)&&(!r.suspense||e.state.status!=="error")&&oe(e,r)}function oe(e,t){return e.isStaleByTime(t.staleTime)}const Te=g.exports.createContext(!1),Ue=()=>g.exports.useContext(Te);Te.Provider;function Ve(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Qe=g.exports.createContext(Ve()),Ke=()=>g.exports.useContext(Qe),Je=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Le=e=>{g.exports.useEffect(()=>{e.clearReset()},[e])},Ye=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:c})=>e.isError&&!t.isReset()&&!e.isFetching&&He(r,[e.error,c]),Ge=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Ne=(e,t)=>e.isLoading&&e.isFetching&&!t,Be=(e,t,r)=>(e==null?void 0:e.suspense)&&Ne(t,r),Fe=(e,t,r)=>t.fetchOptimistic(e).then(({data:c})=>{e.onSuccess==null||e.onSuccess(c),e.onSettled==null||e.onSettled(c,null)}).catch(c=>{r.clearReset(),e.onError==null||e.onError(c),e.onSettled==null||e.onSettled(void 0,c)});function qe(e,t){const r=we({context:e.context}),c=Ue(),m=Ke(),h=r.defaultQueryOptions(e);h._optimisticResults=c?"isRestoring":"optimistic",h.onError&&(h.onError=L.batchCalls(h.onError)),h.onSuccess&&(h.onSuccess=L.batchCalls(h.onSuccess)),h.onSettled&&(h.onSettled=L.batchCalls(h.onSettled)),Ge(h),Je(h,m),Le(m);const[f]=g.exports.useState(()=>new t(r,h)),S=f.getOptimisticResult(h);if(De(g.exports.useCallback(A=>c?()=>{}:f.subscribe(L.batchCalls(A)),[f,c]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),g.exports.useEffect(()=>{f.setOptions(h,{listeners:!1})},[h,f]),Be(h,S,c))throw Fe(h,f,m);if(Ye({result:S,errorResetBoundary:m,useErrorBoundary:h.useErrorBoundary,query:f.getCurrentQuery()}))throw S.error;return h.notifyOnChangeProps?S:f.trackResult(S)}function Ts(e,t,r){const c=Ce(e,t,r);return qe(c,xe)}let Xe=0;function ze(e,t){const r=`atom${++Xe}`,c={toString:()=>r};return typeof e=="function"?c.read=e:(c.init=e,c.read=m=>m(c),c.write=(m,h,f)=>h(c,typeof f=="function"?f(m(c)):f)),t&&(c.write=t),c}const D=Symbol(),$=e=>!!e[D],B=e=>!e[D].c,J=e=>{var t;const{b:r,c}=e[D];c&&(c(),(t=je.get(r))==null||t())},q=(e,t)=>{const r=e[D].o,c=t[D].o;return r===c||e===c||$(r)&&q(r,t)},ee=(e,t)=>{const r={b:e,o:t,c:null},c=new Promise(m=>{r.c=()=>{r.c=null,m()},t.finally(r.c)});return c[D]=r,c},We=e=>ee(e[D].b,e[D].o),je=new WeakMap,F=e=>"init"in e,te="r",se="w",Y="c",re="s",Se="h",Ze="n",$e="l",et="a",tt="m",st=e=>{const t=new WeakMap,r=new WeakMap,c=new Map;let m,h;if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&(m=new Set,h=new Set),e)for(const[o,s]of e){const n={v:s,r:0,y:!0,d:new Map};({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&(Object.freeze(n),F(o)||console.warn("Found initial value for derived atom which can cause unexpected behavior",o)),t.set(o,n)}const f=new WeakMap,S=(o,s,n)=>{let a=f.get(s);a||(a=new Map,f.set(s,a)),n.then(()=>{a.get(o)===n&&(a.delete(o),a.size||f.delete(s))}),a.set(o,n)},A=o=>{const s=new Set,n=f.get(o);return n&&(f.delete(o),n.forEach((a,i)=>{J(a),s.add(i)})),s},O=new WeakMap,R=o=>{let s=O.get(o);return s||(s=new Map,O.set(o,s)),s},E=(o,s)=>{if(o){const n=R(o);let a=n.get(s);return a||(a=E(o.p,s),a&&"p"in a&&B(a.p)&&(a=void 0),a&&n.set(s,a)),a}return t.get(s)},T=(o,s,n)=>{if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&Object.freeze(n),o)R(o).set(s,n);else{const a=t.get(s);t.set(s,n),c.has(s)||c.set(s,a)}},P=(o,s=new Map,n)=>{if(!n)return s;const a=new Map;let i=!1;return n.forEach(u=>{var d;const y=((d=E(o,u))==null?void 0:d.r)||0;a.set(u,y),s.get(u)!==y&&(i=!0)}),s.size===a.size&&!i?s:a},H=(o,s,n,a,i)=>{const u=E(o,s);if(u){if(i&&(!("p"in u)||!q(u.p,i)))return u;"p"in u&&J(u.p)}const d={v:n,r:(u==null?void 0:u.r)||0,y:!0,d:P(o,u==null?void 0:u.d,a)};let y=!(u!=null&&u.y);return!u||!("v"in u)||!Object.is(u.v,n)?(y=!0,++d.r,d.d.has(s)&&(d.d=new Map(d.d).set(s,d.r))):d.d!==u.d&&(d.d.size!==u.d.size||!Array.from(d.d.keys()).every(k=>u.d.has(k)))&&(y=!0,Promise.resolve().then(()=>{K(o)})),u&&!y?u:(T(o,s,d),d)},w=(o,s,n,a,i)=>{const u=E(o,s);if(u){if(i&&(!("p"in u)||!q(u.p,i)))return u;"p"in u&&J(u.p)}const d={e:n,r:((u==null?void 0:u.r)||0)+1,y:!0,d:P(o,u==null?void 0:u.d,a)};return T(o,s,d),d},_=(o,s,n,a)=>{const i=E(o,s);if(i&&"p"in i){if(q(i.p,n)&&!B(i.p))return i.y?i:{...i,y:!0};J(i.p)}S(o,s,n);const u={p:n,r:((i==null?void 0:i.r)||0)+1,y:!0,d:P(o,i==null?void 0:i.d,a)};return T(o,s,u),u},C=(o,s,n,a)=>{if(n instanceof Promise){const i=ee(n,n.then(u=>{H(o,s,u,a,i)}).catch(u=>{if(u instanceof Promise)return $(u)?u.then(()=>{v(o,s,!0)}):u;w(o,s,u,a,i)}));return _(o,s,i,a)}return H(o,s,n,a)},G=(o,s)=>{const n=E(o,s);if(n){const a={...n,y:!1};T(o,s,a)}else({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] could not invalidate non existing atom",s)},v=(o,s,n)=>{if(!n){const i=E(o,s);if(i){if(i.y&&"p"in i&&!B(i.p))return i;if(i.d.forEach((u,d)=>{if(d!==s)if(!r.has(d))v(o,d);else{const y=E(o,d);y&&!y.y&&v(o,d)}}),Array.from(i.d).every(([u,d])=>{const y=E(o,u);return y&&!("p"in y)&&y.r===d}))return i.y?i:{...i,y:!0}}}const a=new Set;try{const i=s.read(u=>{a.add(u);const d=u===s?E(o,u):v(o,u);if(d){if("e"in d)throw d.e;if("p"in d)throw d.p;return d.v}if(F(u))return u.init;throw new Error("no atom init")});return C(o,s,i,a)}catch(i){if(i instanceof Promise){const u=$(i)&&B(i)?We(i):ee(i,i);return _(o,s,u,a)}return w(o,s,i,a)}},M=(o,s)=>v(s,o),V=(o,s)=>{let n=r.get(s);return n||(n=X(o,s)),n},x=(o,s)=>!s.l.size&&(!s.t.size||s.t.size===1&&s.t.has(o)),ie=(o,s)=>{const n=r.get(s);n&&x(s,n)&&z(o,s)},b=(o,s)=>{const n=r.get(s);n==null||n.t.forEach(a=>{a!==s&&(G(o,a),b(o,a))})},U=(o,s,n)=>{let a=!0;const i=(y,k)=>{const I=v(o,y);if("e"in I)throw I.e;if("p"in I){if(k!=null&&k.unstable_promise)return I.p.then(()=>{const N=E(o,y);return N&&"p"in N&&N.p===I.p?new Promise(W=>setTimeout(W)).then(()=>i(y,k)):i(y,k)});throw({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.info("Reading pending atom state in write operation. We throw a promise for now.",y),I.p}if("v"in I)return I.v;throw({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",y),new Error("no value found")},u=(y,k)=>{let I;if(y===s){if(!F(y))throw new Error("atom not writable");A(y).forEach(de=>{de!==o&&C(de,y,k)});const W=E(o,y),ge=C(o,y,k);W!==ge&&b(o,y)}else I=U(o,y,k);return a||K(o),I},d=s.write(i,u,n);return a=!1,d},Q=(o,s,n)=>{const a=U(n,o,s);return K(n),a},Oe=o=>!!o.write,X=(o,s,n)=>{const a={t:new Set(n&&[n]),l:new Set};if(r.set(s,a),({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&h.add(s),v(void 0,s).d.forEach((u,d)=>{const y=r.get(d);y?y.t.add(s):d!==s&&X(o,d,s)}),Oe(s)&&s.onMount){const u=y=>Q(s,y,o),d=s.onMount(u);o=void 0,d&&(a.u=d)}return a},z=(o,s)=>{var n;const a=(n=r.get(s))==null?void 0:n.u;a&&a(),r.delete(s),({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&h.delete(s);const i=E(o,s);i?("p"in i&&J(i.p),i.d.forEach((u,d)=>{if(d!==s){const y=r.get(d);y&&(y.t.delete(s),x(d,y)&&z(o,d))}})):({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] could not find atom state to unmount",s)},ae=(o,s,n,a)=>{const i=new Set(n.d.keys());a==null||a.forEach((u,d)=>{if(i.has(d)){i.delete(d);return}const y=r.get(d);y&&(y.t.delete(s),x(d,y)&&z(o,d))}),i.forEach(u=>{const d=r.get(u);d?d.t.add(s):r.has(s)&&X(o,u,s)})},K=o=>{if(o){R(o).forEach((n,a)=>{const i=t.get(a);if(n!==i){const u=r.get(a);u==null||u.l.forEach(d=>d(o))}});return}for(;c.size;){const s=Array.from(c);c.clear(),s.forEach(([n,a])=>{const i=E(void 0,n);if(i&&i.d!==(a==null?void 0:a.d)&&ae(void 0,n,i,a==null?void 0:a.d),a&&!a.y&&(i!=null&&i.y))return;const u=r.get(n);u==null||u.l.forEach(d=>d())})}({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&m.forEach(s=>s())},Re=o=>{R(o).forEach((n,a)=>{const i=t.get(a);(!i||n.r>i.r||n.y!==i.y||n.r===i.r&&n.d!==i.d)&&(t.set(a,n),n.d!==(i==null?void 0:i.d)&&ae(o,a,n,i==null?void 0:i.d))})},ce=(o,s)=>{s&&Re(s),K(void 0)},ue=(o,s,n)=>{const i=V(n,o).l;return i.add(s),()=>{i.delete(s),ie(n,o)}},le=(o,s)=>{for(const[n,a]of o)F(n)&&(C(s,n,a),b(s,n));K(s)};return({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"?{[te]:M,[se]:Q,[Y]:ce,[re]:ue,[Se]:le,[Ze]:o=>(m.add(o),()=>{m.delete(o)}),[$e]:()=>h.values(),[et]:o=>t.get(o),[tt]:o=>r.get(o)}:{[te]:M,[se]:Q,[Y]:ce,[re]:ue,[Se]:le}},Pe=(e,t)=>({s:t?t(e).SECRET_INTERNAL_store:st(e)}),j=new Map,ne=e=>(j.has(e)||j.set(e,g.exports.createContext(Pe())),j.get(e)),Ps=({children:e,initialValues:t,scope:r,unstable_createStore:c,unstable_enableVersionedWrite:m})=>{const[h,f]=g.exports.useState({});g.exports.useEffect(()=>{const O=S.current;O.w&&(O.s[Y](null,h),delete h.p,O.v=h)},[h]);const S=g.exports.useRef();if(!S.current){const O=Pe(t,c);if(m){let R=0;O.w=E=>{f(T=>{const P=R?T:{p:T};return E(P),P})},O.v=h,O.r=E=>{++R,E(),--R}}S.current=O}const A=ne(r);return g.exports.createElement(A.Provider,{value:S.current},e)};function Os(e,t){return ze(e,t)}function rt(e,t){const r=ne(t),c=g.exports.useContext(r),{s:m,v:h}=c,f=T=>{const P=m[te](e,T);if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&!P.y)throw new Error("should not be invalidated");if("e"in P)throw P.e;if("p"in P)throw P.p;if("v"in P)return P.v;throw new Error("no atom value")},[[S,A,O],R]=g.exports.useReducer((T,P)=>{const H=f(P);return Object.is(T[1],H)&&T[2]===e?T:[P,H,e]},h,T=>{const P=f(T);return[T,P,e]});let E=A;return O!==e&&(R(S),E=f(S)),g.exports.useEffect(()=>{const{v:T}=c;T&&m[Y](e,T);const P=m[re](e,R,T);return R(T),P},[m,e,c]),g.exports.useEffect(()=>{m[Y](e,S)}),g.exports.useDebugValue(E),E}function ot(e,t){const r=ne(t),{s:c,w:m}=g.exports.useContext(r);return g.exports.useCallback(f=>{if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&!("write"in e))throw new Error("not writable atom");const S=A=>c[se](e,f,A);return m?m(S):S()},[c,m,e])}function Rs(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[rt(e,t),ot(e,t)]}export{cs as $,Rt as A,gt as B,vt as C,bt as D,Dt as E,At as F,Vt as G,Ut as H,Mt as I,Qt as J,Kt as K,Lt as L,Yt as M,Nt as N,Gt as O,Ps as P,Bt as Q,Ft as R,qt as S,Xt as T,Wt as U,zt as V,as as W,Jt as X,is as Y,$t as Z,us as _,Ts as a,Pt as a0,ns as a1,ss as a2,ts as a3,rs as a4,os as a5,es as a6,ls as a7,ut as a8,Ot as a9,ys as aa,ds as ab,hs as ac,Ss as ad,ps as ae,fs as af,Es as ag,ms as ah,Os as b,rt as c,jt as d,Zt as e,ct as f,ft as g,lt as h,ht as i,pt as j,dt as k,ne as l,St as m,yt as n,Tt as o,Et as p,mt as q,It as r,_t as s,kt as t,ot as u,Ht as v,Ct as w,xt as x,wt as y,Rs as z};
