import{r as l,be as He,n as X,e as j,bK as It,a9 as $t,ba as Rt,bb as Et,bd as Pt,bL as Tt,bM as Nt,bN as Ke,bO as At,bP as Ye,a8 as kt,bQ as Dt,N as Be,m as Fe,bR as lt,a as Ve,_ as Ie,k as r,j as s,b as B,q as Re,d as P,x as Je,O as le,bS as Kt,bT as Mt,bU as Bt,bV as _t,bW as jt,u as zt,bX as Lt,bY as Ot,Q as Ht,X as ct,V as Ft,aj as Vt,av as dt,bZ as Wt,b_ as Gt,b$ as ut,c0 as mt,c1 as ht,ay as Xt,p as _e,c2 as qt,bo as he,a4 as Qt,Y as Ee,bs as Ut,ao as Yt,c3 as Jt,E as Zt,f as $e,c4 as en,U as tn,a1 as nn,c5 as an,$ as on,F as rn,aD as sn,D as ln,c6 as cn,c7 as dn,c8 as un,o as mn,aK as Oe,c9 as hn,bE as pn,aG as gn,aH as fn,C as pt,aJ as gt,aE as We,ca as xn,cb as yn,cc as vn,B as Cn}from"./index-b4f947db.js";import{u as Ge}from"./useMutation-343b08de.js";import{a as bn,u as Sn}from"./utils-ca7c5bb3.js";import{P as Ze}from"./index-d2bfc0cb.js";import{i as et,u as wn}from"./useRequest-71d7981b.js";import{P as In}from"./index-425b959c.js";var ft=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const $n=e=>{var{prefixCls:t,className:n,avatar:a,title:o,description:c}=e,i=ft(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:m}=l.useContext(He),y=m("list",t),C=X(`${y}-item-meta`,n),h=j.createElement("div",{className:`${y}-item-meta-content`},o&&j.createElement("h4",{className:`${y}-item-meta-title`},o),c&&j.createElement("div",{className:`${y}-item-meta-description`},c));return j.createElement("div",Object.assign({},i,{className:C}),a&&j.createElement("div",{className:`${y}-item-meta-avatar`},a),(o||c)&&h)},Rn=(e,t)=>{var{prefixCls:n,children:a,actions:o,extra:c,className:i,colStyle:m}=e,y=ft(e,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:C,itemLayout:h}=l.useContext(Xe),{getPrefixCls:u}=l.useContext(He),v=()=>{let x;return l.Children.forEach(a,A=>{typeof A=="string"&&(x=!0)}),x&&l.Children.count(a)>1},d=()=>h==="vertical"?!!c:!v(),f=u("list",n),N=o&&o.length>0&&j.createElement("ul",{className:`${f}-item-action`,key:"actions"},o.map((x,A)=>j.createElement("li",{key:`${f}-item-action-${A}`},x,A!==o.length-1&&j.createElement("em",{className:`${f}-item-action-split`})))),R=C?"div":"li",$=j.createElement(R,Object.assign({},y,C?{}:{ref:t},{className:X(`${f}-item`,{[`${f}-item-no-flex`]:!d()},i)}),h==="vertical"&&c?[j.createElement("div",{className:`${f}-item-main`,key:"content"},a,N),j.createElement("div",{className:`${f}-item-extra`,key:"extra"},c)]:[a,N,It(c,{key:"extra"})]);return C?j.createElement($t,{ref:t,flex:1,style:m},$):$},xt=l.forwardRef(Rn);xt.Meta=$n;const En=xt,Pn=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:a,margin:o,padding:c,listItemPaddingSM:i,marginLG:m,borderRadiusLG:y}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:y,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:a},[`${n}-pagination`]:{margin:`${o}px ${m}px`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:i}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:`${c}px ${a}px`}}}},Tn=e=>{const{componentCls:t,screenSM:n,screenMD:a,marginLG:o,marginSM:c,margin:i}=e;return{[`@media screen and (max-width:${a})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${n})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:c}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${i}px`}}}}}},Nn=e=>{const{componentCls:t,antCls:n,controlHeight:a,minHeight:o,paddingSM:c,marginLG:i,padding:m,listItemPadding:y,colorPrimary:C,listItemPaddingSM:h,listItemPaddingLG:u,paddingXS:v,margin:d,colorText:f,colorTextDescription:N,motionDurationSlow:R,lineWidth:$}=e,x={};return["start","center","end"].forEach(A=>{x[`&-align-${A}`]={textAlign:A}}),{[`${t}`]:Object.assign(Object.assign({},Pt(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:c},[`${t}-pagination`]:Object.assign(Object.assign({marginBlockStart:i},x),{[`${n}-pagination-options`]:{textAlign:"start"}}),[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:y,color:f,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:m},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:f},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:f,transition:`all ${R}`,["&:hover"]:{color:C}}},[`${t}-item-meta-description`]:{color:N,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none",["& > li"]:{position:"relative",display:"inline-block",padding:`0 ${v}px`,color:N,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center",["&:first-child"]:{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:$,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${m}px 0`,color:N,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:m,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:i},[`${t}-item-meta`]:{marginBlockEnd:m,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:c,color:f,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:m,marginInlineStart:"auto","> li":{padding:`0 ${m}px`,["&:first-child"]:{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,["&:last-child"]:{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:a},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:u},[`${t}-sm ${t}-item`]:{padding:h},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},An=Rt("List",e=>{const t=Et(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px ${e.paddingContentHorizontalLG}px`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[Nn(t),Pn(t),Tn(t)]},{contentWidth:220});var kn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const Xe=l.createContext({});Xe.Consumer;function Me(e){var t,{pagination:n=!1,prefixCls:a,bordered:o=!1,split:c=!0,className:i,rootClassName:m,children:y,itemLayout:C,loadMore:h,grid:u,dataSource:v=[],size:d,header:f,footer:N,loading:R=!1,rowKey:$,renderItem:x,locale:A}=e,q=kn(e,["pagination","prefixCls","bordered","split","className","rootClassName","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const b=n&&typeof n=="object"?n:{},[W,T]=l.useState(b.defaultCurrent||1),[Q,U]=l.useState(b.defaultPageSize||10),{getPrefixCls:w,renderEmpty:O,direction:J}=l.useContext(He),H={current:1,total:0},ae=g=>(p,_)=>{T(p),U(_),n&&n[g]&&n[g](p,_)},re=ae("onChange"),se=ae("onShowSizeChange"),Y=(g,p)=>{if(!x)return null;let _;return typeof $=="function"?_=$(g):$?_=g[$]:_=g.key,_||(_=`list-item-${p}`),l.createElement(l.Fragment,{key:_},x(g,p))},oe=()=>!!(h||n||N),I=w("list",a),[D,G]=An(I);let k=R;typeof k=="boolean"&&(k={spinning:k});const E=k&&k.spinning;let M="";switch(d){case"large":M="lg";break;case"small":M="sm";break}const L=X(I,{[`${I}-vertical`]:C==="vertical",[`${I}-${M}`]:M,[`${I}-split`]:c,[`${I}-bordered`]:o,[`${I}-loading`]:E,[`${I}-grid`]:!!u,[`${I}-something-after-last-item`]:oe(),[`${I}-rtl`]:J==="rtl"},i,m,G),K=Tt(H,{total:v.length,current:W,pageSize:Q},n||{}),F=Math.ceil(K.total/K.pageSize);K.current>F&&(K.current=F);const Z=n?l.createElement("div",{className:X(`${I}-pagination`,`${I}-pagination-align-${(t=K==null?void 0:K.align)!==null&&t!==void 0?t:"end"}`)},l.createElement(Nt,Object.assign({},K,{onChange:re,onShowSizeChange:se}))):null;let ee=Ke(v);n&&v.length>(K.current-1)*K.pageSize&&(ee=Ke(v).splice((K.current-1)*K.pageSize,K.pageSize));const pe=Object.keys(u||{}).some(g=>["xs","sm","md","lg","xl","xxl"].includes(g)),ce=At(pe),V=l.useMemo(()=>{for(let g=0;g<Ye.length;g+=1){const p=Ye[g];if(ce[p])return p}},[ce]),ge=l.useMemo(()=>{if(!u)return;const g=V&&u[V]?u[V]:u.column;if(g)return{width:`${100/g}%`,maxWidth:`${100/g}%`}},[u==null?void 0:u.column,V]);let ie=E&&l.createElement("div",{style:{minHeight:53}});if(ee.length>0){const g=ee.map((p,_)=>Y(p,_));ie=u?l.createElement(kt,{gutter:u.gutter},l.Children.map(g,p=>l.createElement("div",{key:p==null?void 0:p.key,style:ge},p))):l.createElement("ul",{className:`${I}-items`},g)}else!y&&!E&&(ie=l.createElement("div",{className:`${I}-empty-text`},A&&A.emptyText||(O==null?void 0:O("List"))||l.createElement(Dt,{componentName:"List"})));const z=K.position||"bottom",S=l.useMemo(()=>({grid:u,itemLayout:C}),[JSON.stringify(u),C]);return D(l.createElement(Xe.Provider,{value:S},l.createElement("div",Object.assign({className:L},q),(z==="top"||z==="both")&&Z,f&&l.createElement("div",{className:`${I}-header`},f),l.createElement(Be,Object.assign({},k),ie,y),N&&l.createElement("div",{className:`${I}-footer`},N),h||(z==="bottom"||z==="both")&&Z)))}Me.Item=En;function Dn(e,t){for(var n=e,a=0;a<t.length;a+=1){if(n==null)return;n=n[t[a]]}return n}var Kn=["title","subTitle","avatar","description","extra","content","actions","type"],Mn=Kn.reduce(function(e,t){return e.set(t,!0),e},new Map);function Bn(e,t){return Ln(e)||zn(e,t)||jn(e,t)||_n()}function _n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jn(e,t){if(e){if(typeof e=="string")return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}}function tt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function zn(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,o=!1,c=void 0;try{for(var i=e[Symbol.iterator](),m;!(a=(m=i.next()).done)&&(n.push(m.value),!(t&&n.length===t));a=!0);}catch(y){o=!0,c=y}finally{try{!a&&i.return!=null&&i.return()}finally{if(o)throw c}}return n}}function Ln(e){if(Array.isArray(e))return e}function On(e,t){var n=t||{},a=n.defaultValue,o=n.value,c=n.onChange,i=n.postState,m=l.useState(function(){return o!==void 0?o:a!==void 0?typeof a=="function"?a():a:typeof e=="function"?e():e}),y=Bn(m,2),C=y[0],h=y[1],u=o!==void 0?o:C;i&&(u=i(u));function v(f){h(f),u!==f&&c&&c(f,u)}var d=l.useRef(!0);return l.useEffect(function(){if(d.current){d.current=!1;return}o===void 0&&h(o)},[o]),[u,v]}var Hn=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function Fn(e){var t,n=e.prefixCls,a=e.expandIcon,o=a===void 0?s(Kt,{}):a,c=e.onExpand,i=e.expanded,m=e.record,y=e.hashId,C=o,h="".concat(n,"-row-expand-icon"),u=function(d){c(!i),d.stopPropagation()};return typeof o=="function"&&(C=o({expanded:i,onExpand:c,record:m})),s("span",{className:X(h,y,(t={},r(t,"".concat(n,"-row-expanded"),i),r(t,"".concat(n,"-row-collapsed"),!i),t)),onClick:u,children:C})}function Vn(e){var t,n,a,o,c,i=e.prefixCls,m=l.useContext(Fe.ConfigContext),y=m.getPrefixCls,C=l.useContext(lt),h=C.hashId,u=y("pro-list",i),v="".concat(u,"-row"),d=e.title,f=e.subTitle,N=e.content,R=e.itemTitleRender;e.prefixCls;var $=e.actions;e.item,e.recordKey;var x=e.avatar,A=e.cardProps,q=e.description,b=e.isEditable,W=e.checkbox,T=e.index,Q=e.selected,U=e.loading,w=e.expand,O=e.onExpand,J=e.expandable,H=e.rowSupportExpand,ae=e.showActions,re=e.showExtra,se=e.type,Y=e.style,oe=e.className,I=oe===void 0?v:oe,D=e.record,G=e.onRow,k=e.onItem,E=e.itemHeaderRender,M=e.cardActionProps,L=e.extra,K=Ve(e,Hn),F=J||{},Z=F.expandedRowRender,ee=F.expandIcon,pe=F.expandRowByClick,ce=F.indentSize,V=ce===void 0?8:ce,ge=F.expandedRowClassName,ie=On(!!w,{value:w,onChange:O}),z=Ie(ie,2),S=z[0],g=z[1],p=X((t={},r(t,"".concat(v,"-selected"),!A&&Q),r(t,"".concat(v,"-show-action-hover"),ae==="hover"),r(t,"".concat(v,"-type-").concat(se),!!se),r(t,"".concat(v,"-editable"),b),r(t,"".concat(v,"-show-extra-hover"),re==="hover"),t),h,v),_=X(h,r({},"".concat(I,"-extra"),re==="hover")),fe=S||Object.values(J||{}).length===0,xe=Z&&Z(D,T,V,S),de=l.useMemo(function(){if(!(!$||M==="actions"))return[s("div",{onClick:function(ne){return ne.stopPropagation()},children:$},"action")]},[$,M]),Pe=l.useMemo(function(){if(!(!$||!M||M==="extra"))return[s("div",{className:"".concat(p,"-actions ").concat(h),onClick:function(ne){return ne.stopPropagation()},children:$},"action")]},[$,M,p,h]),Se=d||f?B("div",{className:"".concat(p,"-header-title ").concat(h),children:[d&&s("div",{className:"".concat(p,"-title ").concat(h),children:d}),f&&s("div",{className:"".concat(p,"-subTitle ").concat(h),children:f})]}):null,ye=(n=R&&(R==null?void 0:R(D,T,Se)))!==null&&n!==void 0?n:Se,Te=ye||x||f||q?s(Me.Item.Meta,{avatar:x,title:ye,description:q&&fe&&s("div",{className:"".concat(p,"-description ").concat(h),children:q})}):null,Ne=X(h,(a={},r(a,"".concat(p,"-item-has-checkbox"),W),r(a,"".concat(p,"-item-has-avatar"),x),r(a,p,p),a)),te=l.useMemo(function(){return x||d?B(Re,{children:[x,s("span",{className:"".concat(y("list-item-meta-title")," ").concat(h),children:d})]}):null},[x,y,h,d]),ve=A?s(le,P(P(P({bordered:!0,loading:U,hoverable:!0},A),{},{title:te,subTitle:f,extra:de,actions:Pe,bodyStyle:P({padding:24},A.bodyStyle)},k==null?void 0:k(D,T)),{},{children:s(Je,{avatar:!0,title:!1,loading:U,active:!0,children:B("div",{className:"".concat(p,"-header ").concat(h),children:[R&&(R==null?void 0:R(D,T,Se)),N]})})})):s(Me.Item,P(P(P(P({className:X(Ne,h,r({},I,I!==v))},K),{},{actions:de,extra:!!L&&s("div",{className:_,children:L})},G==null?void 0:G(D,T)),k==null?void 0:k(D,T)),{},{onClick:function(ne){var ue,Ce,Ae,ze;G==null||(ue=G(D,T))===null||ue===void 0||(Ce=ue.onClick)===null||Ce===void 0||Ce.call(ue,ne),k==null||(Ae=k(D,T))===null||Ae===void 0||(ze=Ae.onClick)===null||ze===void 0||ze.call(Ae,ne),pe&&g(!S)},children:B(Je,{avatar:!0,title:!1,loading:U,active:!0,children:[B("div",{className:"".concat(p,"-header ").concat(h),children:[B("div",{className:"".concat(p,"-header-option ").concat(h),children:[!!W&&s("div",{className:"".concat(p,"-checkbox ").concat(h),children:W}),Object.values(J||{}).length>0&&H&&Fn({prefixCls:u,hashId:h,expandIcon:ee,onExpand:g,expanded:S,record:D})]}),(o=E&&(E==null?void 0:E(D,T,Te)))!==null&&o!==void 0?o:Te]}),fe&&(N||xe)&&B("div",{className:"".concat(p,"-content ").concat(h),children:[N,Z&&H&&s("div",{className:ge&&ge(D,T,V),children:xe})]})]})}));return A?s("div",{className:X(h,(c={},r(c,"".concat(p,"-card"),A),r(c,I,I!==v),c)),style:Y,children:ve}):ve}var Wn=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function Gn(e){var t=e.dataSource,n=e.columns,a=e.rowKey,o=e.showActions,c=e.showExtra,i=e.prefixCls,m=e.actionRef,y=e.itemTitleRender,C=e.renderItem,h=e.itemCardProps,u=e.itemHeaderRender,v=e.expandable,d=e.rowSelection,f=e.pagination,N=e.onRow,R=e.onItem,$=e.rowClassName,x=Ve(e,Wn),A=l.useContext(lt),q=A.hashId,b=l.useContext(Fe.ConfigContext),W=b.getPrefixCls,T=j.useMemo(function(){return typeof a=="function"?a:function(z,S){return z[a]||S}},[a]),Q=Mt(t,"children",T),U=Ie(Q,1),w=U[0],O=Bt(t.length,P({responsive:!0},f),function(){}),J=Ie(O,1),H=J[0],ae=j.useMemo(function(){if(f===!1||!H.pageSize||t.length<H.total)return t;var z=H.current,S=z===void 0?1:z,g=H.pageSize,p=g===void 0?10:g,_=t.slice((S-1)*p,S*p);return _},[t,H,f]),re=W("pro-list",i),se=_t(d,{getRowKey:T,getRecordByKey:w,prefixCls:re,data:t,pageData:ae,expandType:"row",childrenColumnName:"children",locale:{}}),Y=Ie(se,2),oe=Y[0],I=Y[1],D=v||{},G=D.expandedRowKeys,k=D.defaultExpandedRowKeys,E=D.defaultExpandAllRows,M=E===void 0?!0:E,L=D.onExpand,K=D.onExpandedRowsChange,F=D.rowExpandable,Z=j.useState(function(){return k||(M!==!1?t.map(T):[])}),ee=Ie(Z,2),pe=ee[0],ce=ee[1],V=j.useMemo(function(){return new Set(G||pe||[])},[G,pe]),ge=j.useCallback(function(z){var S=T(z,t.indexOf(z)),g,p=V.has(S);p?(V.delete(S),g=Ke(V)):g=[].concat(Ke(V),[S]),ce(g),L&&L(!p,z),K&&K(g)},[T,V,t,L,K]),ie=oe([])[0];return s(Me,P(P({},x),{},{className:X(W("pro-list-container",i),q,x.className),dataSource:ae,pagination:f&&H,renderItem:function(S,g){var p,_,fe,xe={className:typeof $=="function"?$(S,g):$};n==null||n.forEach(function(te){var ve=te.listKey,we=te.cardActionProps;if(Mn.has(ve)){var ne=te.dataIndex||ve||te.key,ue=Array.isArray(ne)?Dn(S,ne):S[ne];we==="actions"&&ve==="actions"&&(xe.cardActionProps=we);var Ce=te.render?te.render(ue,S,g):ue;Ce!=="-"&&(xe[te.listKey]=Ce)}});var de;ie&&ie.render&&(de=ie.render(S,S,g)||void 0);var Pe=((p=m.current)===null||p===void 0?void 0:p.isEditable(P(P({},S),{},{index:g})))||{},Se=Pe.isEditable,ye=Pe.recordKey,Te=I.has(ye||g),Ne=s(Vn,P(P({cardProps:x.grid?P(P(P({},h),x.grid),{},{checked:Te,onChecked:j.isValidElement(de)?(_=de)===null||_===void 0||(fe=_.props)===null||fe===void 0?void 0:fe.onChange:void 0}):void 0},xe),{},{recordKey:ye,isEditable:Se||!1,expandable:v,expand:V.has(T(S,g)),onExpand:function(){ge(S)},index:g,record:S,item:S,showActions:o,showExtra:c,itemTitleRender:y,itemHeaderRender:u,rowSupportExpand:!F||F&&F(S),selected:I.has(T(S,g)),checkbox:de,onRow:N,onItem:R}),ye);return C?C(S,g,Ne):Ne}}))}var Xn=new jt("techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),qn=function(t){var n,a,o,c,i,m;return r({},t.componentCls,(m={backgroundColor:"transparent"},r(m,"".concat(t.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),r(m,"&-row",(i={borderBlockEnd:"1px solid ".concat(t.colorSplit)},r(i,"".concat(t.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),r(i,"&:last-child",r({borderBlockEnd:"none"},"".concat(t.antCls,"-list-item"),{borderBlockEnd:"none"})),r(i,"&:hover",(n={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},r(n,"".concat(t.antCls,"-list-item-action"),{display:"block"}),r(n,"".concat(t.antCls,"-list-item-extra"),{display:"flex"}),r(n,"".concat(t.componentCls,"-row-extra"),{display:"block"}),r(n,"".concat(t.componentCls,"-row-subheader-actions"),{display:"block"}),n)),r(i,"&-card",r({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(t.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),r(i,"&".concat(t.componentCls,"-row-editable"),r({},"".concat(t.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),r(i,"&".concat(t.componentCls,"-row-selected"),{backgroundColor:t.colorPrimaryBgHover,"&:hover":{backgroundColor:t.colorPrimaryBgHover}}),r(i,"&".concat(t.componentCls,"-row-type-new"),{animationName:Xn,animationDuration:"3s"}),r(i,"&".concat(t.componentCls,"-row-type-inline"),r({},"".concat(t.componentCls,"-row-title"),{fontWeight:"normal"})),r(i,"&".concat(t.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),r(i,"&-show-action-hover",r({},"".concat(t.antCls,`-list-item-action,
            `).concat(t.proComponentsCls,`-card-extra,
            `).concat(t.proComponentsCls,"-card-actions"),{display:"flex"})),r(i,"&-show-extra-hover",r({},"".concat(t.antCls,"-list-item-extra"),{display:"none"})),r(i,"&-extra",{display:"none"}),r(i,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:t.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),r(i,"&-expand-icon",{marginInlineEnd:8,display:"flex",fontSize:12,cursor:"pointer",height:"24px",marginRight:4,color:t.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),r(i,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),r(i,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:t.colorPrimary}}),r(i,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),r(i,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),r(i,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),r(i,"&-avatar",{display:"flex"}),r(i,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start",h4:{margin:0,padding:0}}),r(i,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),r(i,"&-header-option",{display:"flex"}),r(i,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),r(i,"&-no-split",(a={},r(a,"".concat(t.componentCls,"-row"),{borderBlockEnd:"none"}),r(a,"".concat(t.antCls,"-list ").concat(t.antCls,"-list-item"),{borderBlockEnd:"none"}),a)),r(i,"&-bordered",r({},"".concat(t.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(t.colorSplit)})),r(i,"".concat(t.antCls,"-list-vertical"),(o={},r(o,"".concat(t.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),r(o,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),r(o,"&-content",{marginBlock:0,marginInline:0}),r(o,"&-subTitle",{marginBlockStart:8}),r(o,"".concat(t.antCls,"-list-item-extra"),r({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(t.componentCls,"-row-description"),{marginBlockStart:16})),r(o,"".concat(t.antCls,"-list-bordered ").concat(t.antCls,"-list-item"),{paddingInline:0}),r(o,"".concat(t.componentCls,"-row-show-extra-hover"),r({},"".concat(t.antCls,"-list-item-extra "),{display:"none"})),o)),r(i,"".concat(t.antCls,"-list-pagination"),{marginBlockStart:t.margin,marginBlockEnd:t.margin}),r(i,"".concat(t.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),r(i,"".concat(t.antCls,"-list-vertical ").concat(t.proComponentsCls,"-list-row"),r({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(t.antCls,"-list-item"),(c={width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18},r(c,"".concat(t.antCls,"-list-item-meta-avatar"),{display:"flex",alignItems:"center",marginInlineEnd:8}),r(c,"".concat(t.antCls,"-list-item-action-split"),{display:"none"}),r(c,"".concat(t.antCls,"-list-item-meta-title"),{marginBlock:0,marginInline:0}),c))),i)),m))};function Qn(e){return zt("ProList",function(t){var n=P(P({},t),{},{componentCls:".".concat(e)});return[qn(n)]})}var Un=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function Yn(e){var t=e.metas,n=e.split,a=e.footer,o=e.rowKey,c=e.tooltip,i=e.className,m=e.options,y=m===void 0?!1:m,C=e.search,h=C===void 0?!1:C,u=e.expandable,v=e.showActions,d=e.showExtra,f=e.rowSelection,N=f===void 0?!1:f,R=e.pagination,$=R===void 0?!1:R,x=e.itemLayout,A=e.renderItem,q=e.grid,b=e.itemCardProps,W=e.onRow,T=e.onItem,Q=e.rowClassName,U=e.locale,w=e.itemHeaderRender,O=e.itemTitleRender,J=Ve(e,Un),H=l.useRef();l.useImperativeHandle(J.actionRef,function(){return H.current});var ae=l.useContext(Fe.ConfigContext),re=ae.getPrefixCls,se=l.useMemo(function(){var k=[];return Object.keys(t||{}).forEach(function(E){var M=t[E]||{},L=M.valueType;L||(E==="avatar"&&(L="avatar"),E==="actions"&&(L="option"),E==="description"&&(L="textarea")),k.push(P(P({listKey:E,dataIndex:(M==null?void 0:M.dataIndex)||E},M),{},{valueType:L}))}),k},[t]),Y=re("pro-list",e.prefixCls),oe=Qn(Y),I=oe.wrapSSR,D=oe.hashId,G=X(Y,D,r({},"".concat(Y,"-no-split"),!n));return I(s(Ot,P(P({tooltip:c},J),{},{actionRef:H,pagination:$,type:"list",rowSelection:N,search:h,options:y,className:X(Y,i,G),columns:se,rowKey:o,tableViewRender:function(E){var M=E.columns,L=E.size,K=E.pagination,F=E.rowSelection,Z=E.dataSource,ee=E.loading;return s(Gn,{grid:q,itemCardProps:b,itemTitleRender:O,prefixCls:e.prefixCls,columns:M,renderItem:A,actionRef:H,dataSource:Z||[],size:L,footer:a,split:n,rowKey:o,expandable:u,rowSelection:N===!1?void 0:F,showActions:v,showExtra:d,pagination:K,itemLayout:x,loading:ee,itemHeaderRender:w,onRow:W,onItem:T,rowClassName:Q,locale:U})}})))}function Jn(e){return s(Lt,{needDeps:!0,children:s(Yn,P({},e))})}const De=new Set;let me,nt={xs:0,sm:576,md:768,lg:992,xl:1200};function Le(){const e=me;if(yt(),e!==me)for(const t of De)t()}let ke=!1;function yt(){const e=window.innerWidth,t={};let n=!1;for(const a of Object.keys(nt))t[a]=e>=nt[a],t[a]!==me[a]&&(n=!0);n&&(me=t)}function Zn(){et&&!ke&&(me={},yt(),window.addEventListener("resize",Le),ke=!0);const[e,t]=l.useState(me);return l.useEffect(()=>{if(!et)return;ke||window.addEventListener("resize",Le);const n=()=>{t(me)};return De.add(n),()=>{De.delete(n),De.size===0&&(window.removeEventListener("resize",Le),ke=!1)}},[]),e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const qe=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleListActions",Ht(void 0));qe.debugLabel="atomRoleListActions";const Qe=()=>ct(qe),ea=()=>Ft(qe),je=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleDetails",bn({open:!1}));je.debugLabel="atomRoleDetails";const ta=()=>Sn(je),na=()=>{const e=Vt(je);return t=>{e({open:!0,roleId:t})}},be=()=>ct(je),vt="sysRole",Ct=[vt,"details"],bt=e=>{const{roleId:t}=be(),n=dt(Ct,()=>Wt({roleId:t}),{onSuccess:e,enabled:!1});return l.useEffect(()=>{t&&n.refetch()},[t]),n},St=[vt,"tree"],aa=e=>{const{roleId:t}=be(),n=dt(St,async()=>{const{menus:a,checkedKeys:o}=await Gt({roleId:t});return{treeData:a,selectedMenuIds:o,selectedTreeData:ut(a,o),allMenuIds:mt(a),allExpandedKeys:ht(a)}},{onSuccess:a=>{e(a.selectedTreeData)},enabled:!1});return l.useEffect(()=>{t&&n.refetch()},[t]),n},wt=e=>{const t=Xt();return Ge(async n=>{const a=t.getQueryData(Ct),o=t.getQueryData(St);await qt({roleId:a.roleId,roleKey:a.roleKey,roleName:a.roleName,roleSort:a.roleSort,status:a.status,menuIds:o.selectedMenuIds,menuCheckStrictly:"NO",deptCheckStrictly:"NO",...n})},{onSuccess:async()=>{e(),_e.success("保存成功")}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const at=[{required:!0,message:"请输入角色名称"}],[,oa,ia,ra]=he({title:"角色名称",dataIndex:"roleName",descriptions:{valueType:"text",formItemProps:{rules:at}},form:{valueType:"text",formItemProps:{rules:at}},meta:{valueType:"text"}}),[,sa]=he({title:"角色编号",dataIndex:"roleId",descriptions:{valueType:"text"}}),ot="控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",it=[{required:!0,message:"请输入权限字符"}],[,la,ca,da]=he({title:"权限字符",dataIndex:"roleKey",descriptions:{valueType:"text",tooltip:ot,formItemProps:{rules:it}},form:{valueType:"text",tooltip:ot,formItemProps:{rules:it}},meta:{valueType:"text"}}),ua="NORMAL",Ue=()=>{const{valueEnumSysNormalDisable:e}=Qt();return he({title:"状态",dataIndex:"status",valueEnum:e,table:{valueType:"select"},form:{initialValue:ua,valueType:"radio",colProps:{span:12}},meta:{valueType:"select"}})},rt=[{required:!0,message:"请输入显示排序"}],[,ma,ha]=he({title:"显示排序",dataIndex:"roleSort",descriptions:{valueType:"digit",formItemProps:{initialValue:0,rules:rt}},form:{valueType:"digit",formItemProps:{initialValue:0,rules:rt},colProps:{span:12}}}),[,pa,ga]=he({title:"备注",dataIndex:"remark",descriptions:{valueType:"textarea"},form:{valueType:"textarea"}}),[,fa]=he({title:"创建时间",dataIndex:"createTime",descriptions:{valueType:"dateTime"}}),xa=()=>{const[,,,e]=Ue();return{title:ra,subTitle:e,description:da}},ya=()=>{const[,,e]=Ue();return[ia,ca,e,ha,ga]},va=[sa,fa],Ca=()=>{const[,e]=Ue();return[e,ma,oa,la,pa]};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ba=()=>{const e=l.useRef(),t=Qe(),n=ya();return s(Ee,{accessKey:"system:role:add",children:s(Ut,{title:"新增角色",trigger:s(Yt,{}),formRef:e,onFinish:async o=>{var c;return await Jt({...o,menuIds:[],menuCheckStrictly:"NO",deptCheckStrictly:"NO"}),t==null||t.reload(),(c=e.current)==null||c.resetFields(),_e.success("新增成功"),!0},width:500,modalProps:{okText:"提交"},grid:!0,colProps:{span:24},layoutType:"ModalForm",columns:n})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Sa=()=>{const e=Zt(),{roleId:t,open:n}=be();return s(Ee,{accessKey:"system:user:edit",children:s($e,{type:"primary",onClick:()=>e(en("/system/role-auth/:roleId",{roleId:t.toString()})),icon:s(tn,{}),disabled:!n,children:"分配用户"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const wa=()=>{const e=Qe(),t=ta(),{roleId:n,open:a}=be(),{isLoading:o,mutateAsync:c}=Ge(an,{onSuccess:()=>{var m;e==null||e.reload(),(m=e==null?void 0:e.clearSelected)==null||m.call(e),t(),_e.success("删除成功")}});return s(Ee,{accessKey:"system:role:remove",children:s(nn,{type:"primary",size:"middle",disabled:!a,onClick:()=>on.confirm({title:"操作确认",content:`确定删除角色编号为 ${n} 的角色吗？`,onOk:()=>c({roleIds:[n]}),okButtonProps:{loading:o}})})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ia=()=>{const[e,t]=l.useState([]),[n]=rn.useForm(),a=Ca(),o=Qe(),{data:c,isFetching:i,refetch:m}=bt(()=>{t([]),n.resetFields()}),{mutateAsync:y}=wt(()=>{m(),o==null||o.reload()}),h=sn()("system:role:edit")?{form:n,editableKeys:e,onChange:(u,v)=>{if(t(u),u.length>0){const d=u[0];n.setFieldsValue({[d]:v[d]})}},onSave:async(u,v)=>{await y({[u]:v[u]})}}:void 0;return B(Be,{spinning:i,children:[s(Ze,{column:2,columns:va,dataSource:c}),s(ln,{}),s(Ze,{column:2,columns:a,dataSource:c,editable:h})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const $a=()=>{const e=ea(),t=na(),n=xa();return s(Jn,{ghost:!0,rowKey:"roleId",actionRef:e,metas:n,tableAlertRender:!1,rowSelection:{type:"radio",onSelect:({roleId:a})=>t(a)},search:{filterType:"light"},pagination:{defaultPageSize:10,defaultCurrent:1,showSizeChanger:!0},request:a=>cn(a)})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ra=()=>{const[e,t]=l.useState([]),[n,a]=l.useState(!1),[o,c]=l.useState([]),[i,m]=l.useState([]),[y,C]=l.useState(!1),[h,u]=l.useState(!0),[v,d]=l.useState(),f=l.useRef(),{open:N,roleId:R}=be(),{valueEnumSysDataScope:$}=dn(),{refetch:x}=bt(({dataScope:w})=>{var O;d(w),(O=f.current)==null||O.setFieldsValue({dataScope:w})}),{loading:A,refresh:q,data:b}=wn(async()=>{const{depts:w,checkedKeys:O}=await un(R);return{treeData:w,selectedMenuIds:O,selectedTreeData:ut(w,O),allMenuIds:mt(w),allExpandedKeys:ht(w)}},{ready:N,refreshDeps:[R],onSuccess:w=>{a(!1),m(w.selectedTreeData)}}),{isLoading:W,mutate:T}=Ge(async()=>{await xn({roleId:R,dataScope:v,deptIds:e})},{onSuccess:()=>{q(),x(),_e.success("保存成功")}}),Q=o.length===(b==null?void 0:b.allExpandedKeys.length),U=w=>{if(w||h){t((b==null?void 0:b.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((b==null?void 0:b.allMenuIds.length)===e.length){C(!0),u(!1);return}if(e.length===0){C(!1),u(!1);return}u(!0)},[b==null?void 0:b.allMenuIds,e]),B(Re,{children:[B("header",{className:"flex justify-between items-start flex-wrap",children:[s(mn,{formRef:f,submitter:!1,layout:"horizontal",children:s(In,{name:"dataScope",label:"数据权限范围",valueEnum:$,fieldProps:{onChange:w=>{d(w)}},readonly:!n})}),s(Ee,{accessKey:"system:role:edit",children:n?B(Oe,{children:[s($e,{loading:W,onClick:()=>{a(!1),m((b==null?void 0:b.selectedTreeData)??[])},children:"取消编辑"}),s($e,{type:"primary",ghost:!0,icon:s(hn,{}),loading:W,onClick:()=>T(),children:"保存"})]}):s($e,{type:"primary",ghost:!0,icon:s(pn,{}),onClick:()=>{a(!0),t((b==null?void 0:b.selectedMenuIds)??[]),m((b==null?void 0:b.treeData)??[])},children:"编辑数据权限"})})]}),v==="CUSTOM"&&B(Re,{children:[B(Oe,{wrap:!0,className:"my-2",children:[i.length>0&&s($e,{size:"small",icon:Q?s(gn,{}):s(fn,{}),onClick:()=>c(Q?[]:b.allExpandedKeys),children:Q?"全部折叠":"全部展开"}),n&&s(pt,{indeterminate:h,onChange:w=>U(w.target.checked),checked:y,children:"全选/全不选"})]}),s(Be,{spinning:A,children:i.length>0?s(gt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:n,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:w=>c(w),onCheck:w=>{t(w.checked)}}):s(We,{description:"暂未分配数据权限"})})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ea=()=>{const[e,t]=l.useState([]),[n,a]=l.useState(!1),[o,c]=l.useState([]),[i,m]=l.useState([]),[y,C]=l.useState(!1),[h,u]=l.useState(!0),{isFetching:v,data:d,refetch:f}=aa(x=>{a(!1),m(x)}),{isLoading:N,mutate:R}=wt(()=>{f()}),$=x=>{if(x||h){t((d==null?void 0:d.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((d==null?void 0:d.allMenuIds.length)===e.length){C(!0),u(!1);return}if(e.length===0){C(!1),u(!1);return}u(!0)},[d==null?void 0:d.allMenuIds,e]),B(Re,{children:[B("header",{className:"flex justify-between items-end mb-2",children:[s(yn,{expanded:o.length===(d==null?void 0:d.allExpandedKeys.length),onChange:x=>{c(x?(d==null?void 0:d.allExpandedKeys)??[]:[])}}),s(Ee,{accessKey:"system:role:edit",children:s(vn,{editable:n,loading:N,onCancel:()=>{a(!1),m((d==null?void 0:d.selectedTreeData)??[])},onSave:()=>R({menuIds:e}),onStartEdit:()=>{a(!0),t((d==null?void 0:d.selectedMenuIds)??[]),m((d==null?void 0:d.treeData)??[])}})})]}),B(Be,{spinning:v,children:[s("div",{className:"pl-1 mb-1",children:n&&s(pt,{indeterminate:h,onChange:x=>$(x.target.checked),checked:y,children:"全选/全不选"})}),i.length>0?s(gt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:n,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:x=>c(x),onCheck:x=>{t(x.checked)},height:500}):s(We,{description:"暂未分配菜单权限"})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const st={list:{xxl:7,xl:10,lg:13,md:24,sm:24,xs:24},details:{xxl:17,xl:14,lg:11,md:24,sm:24,xs:24}},Ka=()=>{const{xl:e}=Zn(),{open:t}=be();return s(Cn,{children:B(le,{ghost:!0,gutter:[16,16],wrap:!0,children:[s(le,{title:"角色列表",colSpan:st.list,extra:s(ba,{}),children:s($a,{})}),s(le,{split:"horizontal",title:"角色详情",colSpan:st.details,extra:B(Oe,{children:[s(wa,{}),s(Sa,{})]}),className:"h-full",children:t?B(Re,{children:[s(le,{children:s(Ia,{})}),B(le,{split:e?"vertical":"horizontal",children:[s(le,{children:s(Ea,{})}),s(le,{children:s(Ra,{})})]})]}):s(We,{description:"点击选择左侧角色查看详情"})})]})})};export{Ka as default};
