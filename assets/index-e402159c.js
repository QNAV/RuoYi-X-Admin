import{aA as i,aB as u,aG as n,A as l,ay as o,aH as g,aI as p,au as f,aJ as A}from"./index-88ebfced.js";import{r as c}from"./jsx-runtime-5957e344.js";import{c as C}from"./routes-5e5c9f70.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const v=()=>{const{data:t}=i();return c.exports.useCallback((e,a)=>{var s;return u(e,new Set(((s=t==null?void 0:t.userInfo)==null?void 0:s.permissions)??[]),a)},[t])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const w=t=>{const e=c.exports.useRef(),a=n(t);return c.exports.useEffect(()=>{c.exports.startTransition(()=>{a(e.current)})},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const d=(t,e=!0)=>{const a=c.exports.useRef({}),{pathname:s}=l();return c.exports.useEffect(()=>{const r=C.find(h=>o(h,s));if(a.current.isActivated=!1,!!r){if(a.current.pattern===void 0&&e){a.current.pattern=r;return}if(a.current.pattern===void 0&&!e){a.current.pattern=r,t();return}o(a.current.pattern,s)&&(a.current.isActivated=!0,t())}},[s]),a.current.isActivated};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const T=(t={})=>g({path:"/logout",method:"POST",secure:!0,skipErrorHandler:!1,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const x=()=>{const t=p(),e=f();return async()=>{await T(),A(),t.clear(),e("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{w as a,v as b,d as c,x as u};
