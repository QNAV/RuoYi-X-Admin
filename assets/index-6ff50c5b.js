import{r as l,e as z,a as s,j as _,F as $e}from"./jsx-runtime-06f68cbc.js";import{as as Oe,d as G,a$ as vt,bg as Ct,ak as bt,al as St,am as wt,c2 as It,c3 as $t,l as Ke,c4 as Et,aZ as Ye,bf as Rt,c5 as Pt,aT as Be,g as He,j as nt,b as Ve,h as we,e as r,_ as T,aU as le,c6 as Tt,c7 as Nt,c8 as kt,c9 as At,K as Kt,f as Dt,L as Bt,ca as _t,ag as _e,cb as Mt,bF as zt,W as jt,Y as Ie,cc as Lt,Z as Ot,bd as Ht,bb as Vt,aC as Wt,aJ as Ft,aI as Gt,t as Le,cd as qt,b5 as Xt,bL as Qt,bM as Yt,aG as ot,bO as it,bK as We,ce as Ut,cf as Jt,ay as Zt}from"./index-37fcb888.js";import{A as Ee}from"./index-be624491.js";import{g as Fe}from"./index-e664d339.js";import{b as ea,a as ta}from"./index-0b89c729.js";import{x as aa,z as rt,u as na,v as st,ak as oa,al as ia,y as ra,am as sa,an as la,ao as ca,ap as da,aq as ua,ar as ma}from"./react-27f57fd0.js";import{v as lt,w as ct,x as dt,j as ha}from"./index-6f927546.js";import{u as Ge}from"./useMutation-a5a4d775.js";import{a as pa,u as ga}from"./utils-409125c9.js";import{P as Ue}from"./index-4f7a74e8.js";import{S as Je}from"./Skeleton-9c00c7cd.js";import{O as fa}from"./index-e338c608.js";import{i as Ze,u as xa}from"./useRequest-d8c32193.js";import{P as ya}from"./index-07678be4.js";import"./mutation-9ec6c65f.js";import"./index-92527557.js";var ut=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const va=e=>{var{prefixCls:t,className:a,avatar:n,title:o,description:c}=e,i=ut(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:m}=l.useContext(Oe),y=m("list",t),b=G(`${y}-item-meta`,a),h=z.createElement("div",{className:`${y}-item-meta-content`},o&&z.createElement("h4",{className:`${y}-item-meta-title`},o),c&&z.createElement("div",{className:`${y}-item-meta-description`},c));return z.createElement("div",Object.assign({},i,{className:b}),n&&z.createElement("div",{className:`${y}-item-meta-avatar`},n),(o||c)&&h)},Ca=(e,t)=>{var{prefixCls:a,children:n,actions:o,extra:c,className:i,colStyle:m}=e,y=ut(e,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:b,itemLayout:h}=l.useContext(qe),{getPrefixCls:u}=l.useContext(Oe),v=()=>{let x;return l.Children.forEach(n,k=>{typeof k=="string"&&(x=!0)}),x&&l.Children.count(n)>1},d=()=>h==="vertical"?!!c:!v(),f=u("list",a),N=o&&o.length>0&&z.createElement("ul",{className:`${f}-item-action`,key:"actions"},o.map((x,k)=>z.createElement("li",{key:`${f}-item-action-${k}`},x,k!==o.length-1&&z.createElement("em",{className:`${f}-item-action-split`})))),R=b?"div":"li",$=z.createElement(R,Object.assign({},y,b?{}:{ref:t},{className:G(`${f}-item`,{[`${f}-item-no-flex`]:!d()},i)}),h==="vertical"&&c?[z.createElement("div",{className:`${f}-item-main`,key:"content"},n,N),z.createElement("div",{className:`${f}-item-extra`,key:"extra"},c)]:[n,N,vt(c,{key:"extra"})]);return b?z.createElement(Ct,{ref:t,flex:1,style:m},$):$},mt=l.forwardRef(Ca);mt.Meta=va;const ba=mt,Sa=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:n,margin:o,padding:c,listItemPaddingSM:i,marginLG:m,borderRadiusLG:y}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:y,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:n},[`${a}-pagination`]:{margin:`${o}px ${m}px`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:i}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:`${c}px ${n}px`}}}},wa=e=>{const{componentCls:t,screenSM:a,screenMD:n,marginLG:o,marginSM:c,margin:i}=e;return{[`@media screen and (max-width:${n})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${a})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:c}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${i}px`}}}}}},Ia=e=>{const{componentCls:t,antCls:a,controlHeight:n,minHeight:o,paddingSM:c,marginLG:i,padding:m,listItemPadding:y,colorPrimary:b,listItemPaddingSM:h,listItemPaddingLG:u,paddingXS:v,margin:d,colorText:f,colorTextDescription:N,motionDurationSlow:R,lineWidth:$}=e,x={};return["start","center","end"].forEach(k=>{x[`&-align-${k}`]={textAlign:k}}),{[`${t}`]:Object.assign(Object.assign({},wt(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:c},[`${t}-pagination`]:Object.assign(Object.assign({marginBlockStart:i},x),{[`${a}-pagination-options`]:{textAlign:"start"}}),[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:y,color:f,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:m},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:f},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:f,transition:`all ${R}`,["&:hover"]:{color:b}}},[`${t}-item-meta-description`]:{color:N,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none",["& > li"]:{position:"relative",display:"inline-block",padding:`0 ${v}px`,color:N,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center",["&:first-child"]:{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:$,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${m}px 0`,color:N,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:m,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:i},[`${t}-item-meta`]:{marginBlockEnd:m,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:c,color:f,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:m,marginInlineStart:"auto","> li":{padding:`0 ${m}px`,["&:first-child"]:{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,["&:last-child"]:{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:u},[`${t}-sm ${t}-item`]:{padding:h},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},$a=bt("List",e=>{const t=St(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px ${e.paddingContentHorizontalLG}px`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[Ia(t),Sa(t),wa(t)]},{contentWidth:220});var Ea=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const qe=l.createContext({});qe.Consumer;function De(e){var t,{pagination:a=!1,prefixCls:n,bordered:o=!1,split:c=!0,className:i,rootClassName:m,children:y,itemLayout:b,loadMore:h,grid:u,dataSource:v=[],size:d,header:f,footer:N,loading:R=!1,rowKey:$,renderItem:x,locale:k}=e,C=Ea(e,["pagination","prefixCls","bordered","split","className","rootClassName","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const X=a&&typeof a=="object"?a:{},[q,E]=l.useState(X.defaultCurrent||1),[te,w]=l.useState(X.defaultPageSize||10),{getPrefixCls:H,renderEmpty:ae,direction:Y}=l.useContext(Oe),O={current:1,total:0},ne=g=>(p,M)=>{E(p),w(M),a&&a[g]&&a[g](p,M)},re=ne("onChange"),se=ne("onShowSizeChange"),Q=(g,p)=>{if(!x)return null;let M;return typeof $=="function"?M=$(g):$?M=g[$]:M=g.key,M||(M=`list-item-${p}`),l.createElement(l.Fragment,{key:M},x(g,p))},oe=()=>!!(h||a||N),I=H("list",n),[K,F]=$a(I);let A=R;typeof A=="boolean"&&(A={spinning:A});const P=A&&A.spinning;let B="";switch(d){case"large":B="lg";break;case"small":B="sm";break}const L=G(I,{[`${I}-vertical`]:b==="vertical",[`${I}-${B}`]:B,[`${I}-split`]:c,[`${I}-bordered`]:o,[`${I}-loading`]:P,[`${I}-grid`]:!!u,[`${I}-something-after-last-item`]:oe(),[`${I}-rtl`]:Y==="rtl"},i,m,F),D=It(O,{total:v.length,current:q,pageSize:te},a||{}),V=Math.ceil(D.total/D.pageSize);D.current>V&&(D.current=V);const U=a?l.createElement("div",{className:G(`${I}-pagination`,`${I}-pagination-align-${(t=D==null?void 0:D.align)!==null&&t!==void 0?t:"end"}`)},l.createElement($t,Object.assign({},D,{onChange:re,onShowSizeChange:se}))):null;let J=Ke(v);a&&v.length>(D.current-1)*D.pageSize&&(J=Ke(v).splice((D.current-1)*D.pageSize,D.pageSize));const he=Object.keys(u||{}).some(g=>["xs","sm","md","lg","xl","xxl"].includes(g)),ce=Et(he),W=l.useMemo(()=>{for(let g=0;g<Ye.length;g+=1){const p=Ye[g];if(ce[p])return p}},[ce]),pe=l.useMemo(()=>{if(!u)return;const g=W&&u[W]?u[W]:u.column;if(g)return{width:`${100/g}%`,maxWidth:`${100/g}%`}},[u==null?void 0:u.column,W]);let ie=P&&l.createElement("div",{style:{minHeight:53}});if(J.length>0){const g=J.map((p,M)=>Q(p,M));ie=u?l.createElement(Rt,{gutter:u.gutter},l.Children.map(g,p=>l.createElement("div",{key:p==null?void 0:p.key,style:pe},p))):l.createElement("ul",{className:`${I}-items`},g)}else!y&&!P&&(ie=l.createElement("div",{className:`${I}-empty-text`},k&&k.emptyText||(ae==null?void 0:ae("List"))||l.createElement(Pt,{componentName:"List"})));const j=D.position||"bottom",S=l.useMemo(()=>({grid:u,itemLayout:b}),[JSON.stringify(u),b]);return K(l.createElement(qe.Provider,{value:S},l.createElement("div",Object.assign({className:L},C),(j==="top"||j==="both")&&U,f&&l.createElement("div",{className:`${I}-header`},f),l.createElement(Be,Object.assign({},A),ie,y),N&&l.createElement("div",{className:`${I}-footer`},N),h||(j==="bottom"||j==="both")&&U)))}De.Item=ba;function Ra(e,t){for(var a=e,n=0;n<t.length;n+=1){if(a==null)return;a=a[t[n]]}return a}var Pa=["title","subTitle","avatar","description","extra","content","actions","type"],Ta=Pa.reduce(function(e,t){return e.set(t,!0),e},new Map);function Na(e,t){return Da(e)||Ka(e,t)||Aa(e,t)||ka()}function ka(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aa(e,t){if(e){if(typeof e=="string")return et(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return et(e,t)}}function et(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Ka(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var a=[],n=!0,o=!1,c=void 0;try{for(var i=e[Symbol.iterator](),m;!(n=(m=i.next()).done)&&(a.push(m.value),!(t&&a.length===t));n=!0);}catch(y){o=!0,c=y}finally{try{!n&&i.return!=null&&i.return()}finally{if(o)throw c}}return a}}function Da(e){if(Array.isArray(e))return e}function Ba(e,t){var a=t||{},n=a.defaultValue,o=a.value,c=a.onChange,i=a.postState,m=l.useState(function(){return o!==void 0?o:n!==void 0?typeof n=="function"?n():n:typeof e=="function"?e():e}),y=Na(m,2),b=y[0],h=y[1],u=o!==void 0?o:b;i&&(u=i(u));function v(f){h(f),u!==f&&c&&c(f,u)}var d=l.useRef(!0);return l.useEffect(function(){if(d.current){d.current=!1;return}o===void 0&&h(o)},[o]),[u,v]}var _a=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function Ma(e){var t,a=e.prefixCls,n=e.expandIcon,o=n===void 0?s(Tt,{}):n,c=e.onExpand,i=e.expanded,m=e.record,y=e.hashId,b=o,h="".concat(a,"-row-expand-icon"),u=function(d){c(!i),d.stopPropagation()};return typeof o=="function"&&(b=o({expanded:i,onExpand:c,record:m})),s("span",{className:G(h,y,(t={},r(t,"".concat(a,"-row-expanded"),i),r(t,"".concat(a,"-row-collapsed"),!i),t)),onClick:u,children:b})}function za(e){var t,a,n,o,c,i=e.prefixCls,m=l.useContext(He.ConfigContext),y=m.getPrefixCls,b=l.useContext(nt),h=b.hashId,u=y("pro-list",i),v="".concat(u,"-row"),d=e.title,f=e.subTitle,N=e.content,R=e.itemTitleRender;e.prefixCls;var $=e.actions;e.item,e.recordKey;var x=e.avatar,k=e.cardProps,C=e.description,X=e.isEditable,q=e.checkbox,E=e.index,te=e.selected,w=e.loading,H=e.expand,ae=e.onExpand,Y=e.expandable,O=e.rowSupportExpand,ne=e.showActions,re=e.showExtra,se=e.type,Q=e.style,oe=e.className,I=oe===void 0?v:oe,K=e.record,F=e.onRow,A=e.onItem,P=e.itemHeaderRender,B=e.cardActionProps,L=e.extra,D=Ve(e,_a),V=Y||{},U=V.expandedRowRender,J=V.expandIcon,he=V.expandRowByClick,ce=V.indentSize,W=ce===void 0?8:ce,pe=V.expandedRowClassName,ie=Ba(!!H,{value:H,onChange:ae}),j=we(ie,2),S=j[0],g=j[1],p=G((t={},r(t,"".concat(v,"-selected"),!k&&te),r(t,"".concat(v,"-show-action-hover"),ne==="hover"),r(t,"".concat(v,"-type-").concat(se),!!se),r(t,"".concat(v,"-editable"),X),r(t,"".concat(v,"-show-extra-hover"),re==="hover"),t),h,v),M=G(h,r({},"".concat(I,"-extra"),re==="hover")),ge=S||Object.values(Y||{}).length===0,fe=U&&U(K,E,W,S),de=l.useMemo(function(){if(!(!$||B==="actions"))return[s("div",{onClick:function(ee){return ee.stopPropagation()},children:$},"action")]},[$,B]),Re=l.useMemo(function(){if(!(!$||!B||B==="extra"))return[s("div",{className:"".concat(p,"-actions ").concat(h),onClick:function(ee){return ee.stopPropagation()},children:$},"action")]},[$,B,p,h]),be=d||f?_("div",{className:"".concat(p,"-header-title ").concat(h),children:[d&&s("div",{className:"".concat(p,"-title ").concat(h),children:d}),f&&s("div",{className:"".concat(p,"-subTitle ").concat(h),children:f})]}):null,xe=(a=R&&(R==null?void 0:R(K,E,be)))!==null&&a!==void 0?a:be,Pe=xe||x||f||C?s(De.Item.Meta,{avatar:x,title:xe,description:C&&ge&&s("div",{className:"".concat(p,"-description ").concat(h),children:C})}):null,Te=G(h,(n={},r(n,"".concat(p,"-item-has-checkbox"),q),r(n,"".concat(p,"-item-has-avatar"),x),r(n,p,p),n)),Z=l.useMemo(function(){return x||d?_($e,{children:[x,s("span",{className:"".concat(y("list-item-meta-title")," ").concat(h),children:d})]}):null},[x,y,h,d]),ye=k?s(le,T(T(T({bordered:!0,loading:w,hoverable:!0},k),{},{title:Z,subTitle:f,extra:de,actions:Re,bodyStyle:T({padding:24},k.bodyStyle)},A==null?void 0:A(K,E)),{},{children:s(Je,{avatar:!0,title:!1,loading:w,active:!0,children:_("div",{className:"".concat(p,"-header ").concat(h),children:[R&&(R==null?void 0:R(K,E,be)),N]})})})):s(De.Item,T(T(T(T({className:G(Te,h,r({},I,I!==v))},D),{},{actions:de,extra:!!L&&s("div",{className:M,children:L})},F==null?void 0:F(K,E)),A==null?void 0:A(K,E)),{},{onClick:function(ee){var ue,ve,Ne,ze;F==null||(ue=F(K,E))===null||ue===void 0||(ve=ue.onClick)===null||ve===void 0||ve.call(ue,ee),A==null||(Ne=A(K,E))===null||Ne===void 0||(ze=Ne.onClick)===null||ze===void 0||ze.call(Ne,ee),he&&g(!S)},children:_(Je,{avatar:!0,title:!1,loading:w,active:!0,children:[_("div",{className:"".concat(p,"-header ").concat(h),children:[_("div",{className:"".concat(p,"-header-option ").concat(h),children:[!!q&&s("div",{className:"".concat(p,"-checkbox ").concat(h),children:q}),Object.values(Y||{}).length>0&&O&&Ma({prefixCls:u,hashId:h,expandIcon:J,onExpand:g,expanded:S,record:K})]}),(o=P&&(P==null?void 0:P(K,E,Pe)))!==null&&o!==void 0?o:Pe]}),ge&&(N||fe)&&_("div",{className:"".concat(p,"-content ").concat(h),children:[N,U&&O&&s("div",{className:pe&&pe(K,E,W),children:fe})]})]})}));return k?s("div",{className:G(h,(c={},r(c,"".concat(p,"-card"),k),r(c,I,I!==v),c)),style:Q,children:ye}):ye}var ja=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function La(e){var t=e.dataSource,a=e.columns,n=e.rowKey,o=e.showActions,c=e.showExtra,i=e.prefixCls,m=e.actionRef,y=e.itemTitleRender,b=e.renderItem,h=e.itemCardProps,u=e.itemHeaderRender,v=e.expandable,d=e.rowSelection,f=e.pagination,N=e.onRow,R=e.onItem,$=e.rowClassName,x=Ve(e,ja),k=l.useContext(nt),C=k.hashId,X=l.useContext(He.ConfigContext),q=X.getPrefixCls,E=z.useMemo(function(){return typeof n=="function"?n:function(j,S){return j[n]||S}},[n]),te=Nt(t,"children",E),w=we(te,1),H=w[0],ae=kt(t.length,T({responsive:!0},f),function(){}),Y=we(ae,1),O=Y[0],ne=z.useMemo(function(){if(f===!1||!O.pageSize||t.length<O.total)return t;var j=O.current,S=j===void 0?1:j,g=O.pageSize,p=g===void 0?10:g,M=t.slice((S-1)*p,S*p);return M},[t,O,f]),re=q("pro-list",i),se=At(d,{getRowKey:E,getRecordByKey:H,prefixCls:re,data:t,pageData:ne,expandType:"row",childrenColumnName:"children",locale:{}}),Q=we(se,2),oe=Q[0],I=Q[1],K=v||{},F=K.expandedRowKeys,A=K.defaultExpandedRowKeys,P=K.defaultExpandAllRows,B=P===void 0?!0:P,L=K.onExpand,D=K.onExpandedRowsChange,V=K.rowExpandable,U=z.useState(function(){return A||(B!==!1?t.map(E):[])}),J=we(U,2),he=J[0],ce=J[1],W=z.useMemo(function(){return new Set(F||he||[])},[F,he]),pe=z.useCallback(function(j){var S=E(j,t.indexOf(j)),g,p=W.has(S);p?(W.delete(S),g=Ke(W)):g=[].concat(Ke(W),[S]),ce(g),L&&L(!p,j),D&&D(g)},[E,W,t,L,D]),ie=oe([])[0];return s(De,T(T({},x),{},{className:G(q("pro-list-container",i),C,x.className),dataSource:ne,pagination:f&&O,renderItem:function(S,g){var p,M,ge,fe={className:typeof $=="function"?$(S,g):$};a==null||a.forEach(function(Z){var ye=Z.listKey,Se=Z.cardActionProps;if(Ta.has(ye)){var ee=Z.dataIndex||ye||Z.key,ue=Array.isArray(ee)?Ra(S,ee):S[ee];Se==="actions"&&ye==="actions"&&(fe.cardActionProps=Se);var ve=Z.render?Z.render(ue,S,g):ue;ve!=="-"&&(fe[Z.listKey]=ve)}});var de;ie&&ie.render&&(de=ie.render(S,S,g)||void 0);var Re=((p=m.current)===null||p===void 0?void 0:p.isEditable(T(T({},S),{},{index:g})))||{},be=Re.isEditable,xe=Re.recordKey,Pe=I.has(xe||g),Te=s(za,T(T({cardProps:x.grid?T(T(T({},h),x.grid),{},{checked:Pe,onChecked:z.isValidElement(de)?(M=de)===null||M===void 0||(ge=M.props)===null||ge===void 0?void 0:ge.onChange:void 0}):void 0},fe),{},{recordKey:xe,isEditable:be||!1,expandable:v,expand:W.has(E(S,g)),onExpand:function(){pe(S)},index:g,record:S,item:S,showActions:o,showExtra:c,itemTitleRender:y,itemHeaderRender:u,rowSupportExpand:!V||V&&V(S),selected:I.has(E(S,g)),checkbox:de,onRow:N,onItem:R}),xe);return b?b(S,g,Te):Te}}))}var Oa=new Kt("techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),Ha=function(t){var a,n,o,c,i,m;return r({},t.componentCls,(m={backgroundColor:"transparent"},r(m,"".concat(t.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),r(m,"&-row",(i={borderBlockEnd:"1px solid ".concat(t.colorSplit)},r(i,"".concat(t.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),r(i,"&:last-child",r({borderBlockEnd:"none"},"".concat(t.antCls,"-list-item"),{borderBlockEnd:"none"})),r(i,"&:hover",(a={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},r(a,"".concat(t.antCls,"-list-item-action"),{display:"block"}),r(a,"".concat(t.antCls,"-list-item-extra"),{display:"flex"}),r(a,"".concat(t.componentCls,"-row-extra"),{display:"block"}),r(a,"".concat(t.componentCls,"-row-subheader-actions"),{display:"block"}),a)),r(i,"&-card",r({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(t.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),r(i,"&".concat(t.componentCls,"-row-editable"),r({},"".concat(t.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),r(i,"&".concat(t.componentCls,"-row-selected"),{backgroundColor:t.colorPrimaryBgHover,"&:hover":{backgroundColor:t.colorPrimaryBgHover}}),r(i,"&".concat(t.componentCls,"-row-type-new"),{animationName:Oa,animationDuration:"3s"}),r(i,"&".concat(t.componentCls,"-row-type-inline"),r({},"".concat(t.componentCls,"-row-title"),{fontWeight:"normal"})),r(i,"&".concat(t.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),r(i,"&-show-action-hover",r({},"".concat(t.antCls,`-list-item-action,
            `).concat(t.proComponentsCls,`-card-extra,
            `).concat(t.proComponentsCls,"-card-actions"),{display:"flex"})),r(i,"&-show-extra-hover",r({},"".concat(t.antCls,"-list-item-extra"),{display:"none"})),r(i,"&-extra",{display:"none"}),r(i,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:t.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),r(i,"&-expand-icon",{marginInlineEnd:8,display:"flex",fontSize:12,cursor:"pointer",height:"24px",marginRight:4,color:t.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),r(i,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),r(i,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:t.colorPrimary}}),r(i,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),r(i,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),r(i,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),r(i,"&-avatar",{display:"flex"}),r(i,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start",h4:{margin:0,padding:0}}),r(i,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),r(i,"&-header-option",{display:"flex"}),r(i,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),r(i,"&-no-split",(n={},r(n,"".concat(t.componentCls,"-row"),{borderBlockEnd:"none"}),r(n,"".concat(t.antCls,"-list ").concat(t.antCls,"-list-item"),{borderBlockEnd:"none"}),n)),r(i,"&-bordered",r({},"".concat(t.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(t.colorSplit)})),r(i,"".concat(t.antCls,"-list-vertical"),(o={},r(o,"".concat(t.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),r(o,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),r(o,"&-content",{marginBlock:0,marginInline:0}),r(o,"&-subTitle",{marginBlockStart:8}),r(o,"".concat(t.antCls,"-list-item-extra"),r({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(t.componentCls,"-row-description"),{marginBlockStart:16})),r(o,"".concat(t.antCls,"-list-bordered ").concat(t.antCls,"-list-item"),{paddingInline:0}),r(o,"".concat(t.componentCls,"-row-show-extra-hover"),r({},"".concat(t.antCls,"-list-item-extra "),{display:"none"})),o)),r(i,"".concat(t.antCls,"-list-pagination"),{marginBlockStart:t.margin,marginBlockEnd:t.margin}),r(i,"".concat(t.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),r(i,"".concat(t.antCls,"-list-vertical ").concat(t.proComponentsCls,"-list-row"),r({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(t.antCls,"-list-item"),(c={width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18},r(c,"".concat(t.antCls,"-list-item-meta-avatar"),{display:"flex",alignItems:"center",marginInlineEnd:8}),r(c,"".concat(t.antCls,"-list-item-action-split"),{display:"none"}),r(c,"".concat(t.antCls,"-list-item-meta-title"),{marginBlock:0,marginInline:0}),c))),i)),m))};function Va(e){return Dt("ProList",function(t){var a=T(T({},t),{},{componentCls:".".concat(e)});return[Ha(a)]})}var Wa=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function Fa(e){var t=e.metas,a=e.split,n=e.footer,o=e.rowKey,c=e.tooltip,i=e.className,m=e.options,y=m===void 0?!1:m,b=e.search,h=b===void 0?!1:b,u=e.expandable,v=e.showActions,d=e.showExtra,f=e.rowSelection,N=f===void 0?!1:f,R=e.pagination,$=R===void 0?!1:R,x=e.itemLayout,k=e.renderItem,C=e.grid,X=e.itemCardProps,q=e.onRow,E=e.onItem,te=e.rowClassName,w=e.locale,H=e.itemHeaderRender,ae=e.itemTitleRender,Y=Ve(e,Wa),O=l.useRef();l.useImperativeHandle(Y.actionRef,function(){return O.current});var ne=l.useContext(He.ConfigContext),re=ne.getPrefixCls,se=l.useMemo(function(){var A=[];return Object.keys(t||{}).forEach(function(P){var B=t[P]||{},L=B.valueType;L||(P==="avatar"&&(L="avatar"),P==="actions"&&(L="option"),P==="description"&&(L="textarea")),A.push(T(T({listKey:P,dataIndex:(B==null?void 0:B.dataIndex)||P},B),{},{valueType:L}))}),A},[t]),Q=re("pro-list",e.prefixCls),oe=Va(Q),I=oe.wrapSSR,K=oe.hashId,F=G(Q,K,r({},"".concat(Q,"-no-split"),!a));return I(s(_t,T(T({tooltip:c},Y),{},{actionRef:O,pagination:$,type:"list",rowSelection:N,search:h,options:y,className:G(Q,i,F),columns:se,rowKey:o,tableViewRender:function(P){var B=P.columns,L=P.size,D=P.pagination,V=P.rowSelection,U=P.dataSource,J=P.loading;return s(La,{grid:C,itemCardProps:X,itemTitleRender:ae,prefixCls:e.prefixCls,columns:B,renderItem:k,actionRef:O,dataSource:U||[],size:L,footer:n,split:a,rowKey:o,expandable:u,rowSelection:N===!1?void 0:V,showActions:v,showExtra:d,pagination:D,itemLayout:x,loading:J,itemHeaderRender:H,onRow:q,onItem:E,rowClassName:te,locale:w})}})))}function Ga(e){return s(Bt,{needDeps:!0,children:s(Fa,T({},e))})}const Ae=new Set;let me,tt={xs:0,sm:576,md:768,lg:992,xl:1200};function je(){const e=me;if(ht(),e!==me)for(const t of Ae)t()}let ke=!1;function ht(){const e=window.innerWidth,t={};let a=!1;for(const n of Object.keys(tt))t[n]=e>=tt[n],t[n]!==me[n]&&(a=!0);a&&(me=t)}function qa(){Ze&&!ke&&(me={},ht(),window.addEventListener("resize",je),ke=!0);const[e,t]=l.useState(me);return l.useEffect(()=>{if(!Ze)return;ke||window.addEventListener("resize",je);const a=()=>{t(me)};return Ae.add(a),()=>{Ae.delete(a),Ae.size===0&&(window.removeEventListener("resize",je),ke=!1)}},[]),e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Xe=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleListActions",aa(void 0));Xe.debugLabel="atomRoleListActions";const Qe=()=>rt(Xe),Xa=()=>ea(Xe),Me=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleDetails",pa({open:!1,roleId:0}));Me.debugLabel="atomRoleDetails";const Qa=()=>ga(Me),Ya=()=>{const e=na(Me);return t=>{e({open:!0,roleId:t})}},Ce=()=>rt(Me),pt="sysRole",gt=[pt,"details"],ft=e=>{const{roleId:t}=Ce(),a=st(gt,()=>oa({roleId:t}),{onSuccess:e,enabled:!1});return l.useEffect(()=>{t>0&&a.refetch()},[t]),a},xt=[pt,"tree"],Ua=e=>{const{roleId:t}=Ce(),a=st(xt,async()=>{const{menus:n,checkedKeys:o}=await ia({roleId:t});return{treeData:n,selectedMenuIds:o,selectedTreeData:lt(n,o),allMenuIds:ct(n),allExpandedKeys:dt(n)}},{onSuccess:n=>{e(n.selectedTreeData)},enabled:!1});return l.useEffect(()=>{t>0&&a.refetch()},[t]),a},yt=e=>{const t=ra();return Ge(async a=>{const n=t.getQueryData(gt),o=t.getQueryData(xt);await sa({roleId:n.roleId,roleKey:n.roleKey,roleName:n.roleName,roleSort:n.roleSort,status:n.status,menuIds:o.selectedMenuIds,menuCheckStrictly:"NO",deptCheckStrictly:"NO",...a})},{onSuccess:async()=>{e(),_e.success("保存成功")}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ja=()=>{const{defaultValueSysNormalDisable:e,valueEnumSysNormalDisable:t}=Fe();return[{title:"角色名称",dataIndex:"roleName",key:"roleName",valueType:"text",formItemProps:{rules:[{required:!0,message:"请输入角色名称"}]}},{title:"权限字符",dataIndex:"roleKey",key:"roleKey",valueType:"text",tooltip:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",formItemProps:{rules:[{required:!0,message:"请输入权限字符"}]}},{valueType:"group",columns:[{title:"状态",dataIndex:"status",key:"status",valueEnum:t,valueType:"radio",formItemProps:{initialValue:e,rules:[{required:!0,message:"请选择状态"}]}},{title:"显示排序",dataIndex:"roleSort",key:"roleSort",valueType:"digit",formItemProps:{initialValue:0,rules:[{required:!0,message:"请输入显示排序"}]}}]},{title:"备注",dataIndex:"remark",key:"remark",valueType:"textarea"}]},Za=()=>{const e=l.useRef(),t=Qe(),a=Ja();return s(Ee,{accessKey:"system:role:add",children:s(Mt,{title:"新增角色",trigger:s(zt,{}),formRef:e,onFinish:async o=>{var c;return await la({...o,menuIds:[],menuCheckStrictly:"NO",deptCheckStrictly:"NO"}),t==null||t.reload(),_e.success("新增成功"),(c=e.current)==null||c.resetFields(),!0},width:500,modalProps:{okText:"提交"},layoutType:"ModalForm",columns:a})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const en=()=>{const e=jt(),{roleId:t,open:a}=Ce();return s(Ee,{accessKey:"system:user:edit",children:s(Ie,{type:"primary",ghost:!0,onClick:()=>e(Lt("/system/role-auth/:roleId",{roleId:t.toString()})),icon:s(Ot,{}),disabled:!a,children:"分配用户"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const tn=()=>{const e=Qe(),t=Qa(),{roleId:a,open:n}=Ce(),{isLoading:o,mutateAsync:c}=Ge(ca,{onSuccess:()=>{var m;e==null||e.reload(),(m=e==null?void 0:e.clearSelected)==null||m.call(e),t(),_e.success("删除成功")}});return s(Ee,{accessKey:"system:role:remove",children:s(Ht,{type:"primary",size:"middle",disabled:!n,onClick:()=>Vt.confirm({title:"操作确认",content:`确定删除角色编号为 ${a} 的角色吗？`,onOk:()=>c({roleIds:[a]}),okButtonProps:{loading:o}})})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const an=[{title:"角色编号",dataIndex:"roleId",key:"roleId",valueType:"text"},{title:"创建时间",dataIndex:"createTime",key:"createTime",valueType:"dateTime"}],nn=()=>{const{valueEnumSysNormalDisable:e}=Fe();return[{title:"状态",dataIndex:"status",key:"status",valueEnum:e,valueType:"radio"},{title:"显示排序",dataIndex:"roleSort",key:"roleSort",valueType:"digit"},{title:"角色名称",dataIndex:"roleName",key:"roleName",valueType:"text",formItemProps:{required:!0,rules:[{required:!0,message:"请输入角色名称"}]}},{title:"备注",dataIndex:"remark",key:"remark",valueType:"textarea"},{title:"权限字符",dataIndex:"roleKey",key:"roleKey",valueType:"text",tooltip:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",formItemProps:{required:!0,rules:[{required:!0,message:"请输入权限字符"}]}}]},on=()=>{const[e,t]=l.useState([]),[a]=Wt.useForm(),n=nn(),o=Qe(),{data:c,isFetching:i,refetch:m}=ft(()=>{t([]),a.resetFields()}),{mutateAsync:y}=yt(()=>{m(),o==null||o.reload()}),h=ta()("system:role:edit")?{form:a,editableKeys:e,onChange:(u,v)=>{if(t(u),u.length>0){const d=u[0];a.setFieldsValue({[d]:v[d]})}},onSave:async(u,v)=>{await y({[u]:v[u]})}}:void 0;return _(Be,{spinning:i,children:[s(Ue,{column:2,columns:an,dataSource:c}),s(Ft,{}),s(Ue,{column:2,columns:n,dataSource:c,editable:h})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const rn=()=>{const{valueEnumSysNormalDisable:e}=Fe();return{title:{title:"角色名称",dataIndex:"roleName",valueType:"text"},subTitle:{title:"状态",dataIndex:"status",valueType:"select",valueEnum:e},description:{title:"权限字符",dataIndex:"roleKey",valueType:"text"}}},sn=()=>{const e=Xa(),t=Ya(),a=rn();return s(Ga,{ghost:!0,rowKey:"roleId",actionRef:e,metas:a,tableAlertRender:!1,rowSelection:{type:"radio",onSelect:({roleId:n})=>{t(n)}},search:{filterType:"light"},pagination:{defaultPageSize:10,defaultCurrent:1,showSizeChanger:!0},request:(...n)=>da(ha(...n))})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ln=()=>{const[e,t]=l.useState([]),[a,n]=l.useState(!1),[o,c]=l.useState([]),[i,m]=l.useState([]),[y,b]=l.useState(!1),[h,u]=l.useState(!0),[v,d]=l.useState(),f=l.useRef(),{open:N,roleId:R}=Ce(),{refetch:$}=ft(({dataScope:w})=>{var H;d(w),(H=f.current)==null||H.setFieldsValue({dataScope:w})}),{loading:x,refresh:k,data:C}=xa(async()=>{const{depts:w,checkedKeys:H}=await ua(R);return{treeData:w,selectedMenuIds:H,selectedTreeData:lt(w,H),allMenuIds:ct(w),allExpandedKeys:dt(w)}},{ready:N,refreshDeps:[R],onSuccess:w=>{n(!1),m(w.selectedTreeData)}}),{isLoading:X,mutate:q}=Ge(async()=>{await ma({roleId:R,dataScope:v,deptIds:e})},{onSuccess:()=>{k(),$(),_e.success("保存成功")}}),E=o.length===(C==null?void 0:C.allExpandedKeys.length),te=w=>{if(w||h){t((C==null?void 0:C.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((C==null?void 0:C.allMenuIds.length)===e.length){b(!0),u(!1);return}if(e.length===0){b(!1),u(!1);return}u(!0)},[C==null?void 0:C.allMenuIds,e]),_($e,{children:[_("header",{className:"flex justify-between items-start flex-wrap",children:[s(Gt,{formRef:f,submitter:!1,layout:"horizontal",children:s(ya,{name:"dataScope",label:"数据权限范围",fieldProps:{options:fa,onChange:w=>{d(w)}},readonly:!a})}),s(Ee,{accessKey:"system:role:edit",children:a?_(Le,{children:[s(Ie,{loading:X,onClick:()=>{n(!1),m((C==null?void 0:C.selectedTreeData)??[])},children:"取消编辑"}),s(Ie,{type:"primary",ghost:!0,icon:s(qt,{}),loading:X,onClick:()=>q(),children:"保存"})]}):s(Ie,{type:"primary",ghost:!0,icon:s(Xt,{}),onClick:()=>{n(!0),t((C==null?void 0:C.selectedMenuIds)??[]),m((C==null?void 0:C.treeData)??[])},children:"编辑数据权限"})})]}),v==="2"&&_($e,{children:[_(Le,{wrap:!0,className:"my-2",children:[i.length>0&&s(Ie,{size:"small",icon:E?s(Qt,{}):s(Yt,{}),onClick:()=>c(E?[]:C.allExpandedKeys),children:E?"全部折叠":"全部展开"}),a&&s(ot,{indeterminate:h,onChange:w=>te(w.target.checked),checked:y,children:"全选/全不选"})]}),s(Be,{spinning:x,children:i.length>0?s(it,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:a,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:w=>c(w),onCheck:w=>{t(w.checked)}}):s(We,{description:"暂未分配数据权限"})})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const cn=()=>{const[e,t]=l.useState([]),[a,n]=l.useState(!1),[o,c]=l.useState([]),[i,m]=l.useState([]),[y,b]=l.useState(!1),[h,u]=l.useState(!0),{isFetching:v,data:d,refetch:f}=Ua(x=>{n(!1),m(x)}),{isLoading:N,mutate:R}=yt(()=>{f()}),$=x=>{if(x||h){t((d==null?void 0:d.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((d==null?void 0:d.allMenuIds.length)===e.length){b(!0),u(!1);return}if(e.length===0){b(!1),u(!1);return}u(!0)},[d==null?void 0:d.allMenuIds,e]),_($e,{children:[_("header",{className:"flex justify-between items-end mb-2",children:[s(Ut,{expanded:o.length===(d==null?void 0:d.allExpandedKeys.length),onChange:x=>{c(x?(d==null?void 0:d.allExpandedKeys)??[]:[])}}),s(Ee,{accessKey:"system:role:edit",children:s(Jt,{editable:a,loading:N,onCancel:()=>{n(!1),m((d==null?void 0:d.selectedTreeData)??[])},onSave:()=>R({menuIds:e}),onStartEdit:()=>{n(!0),t((d==null?void 0:d.selectedMenuIds)??[]),m((d==null?void 0:d.treeData)??[])}})})]}),_(Be,{spinning:v,children:[s("div",{className:"pl-1 mb-1",children:a&&s(ot,{indeterminate:h,onChange:x=>$(x.target.checked),checked:y,children:"全选/全不选"})}),i.length>0?s(it,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:a,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:x=>c(x),onCheck:x=>{t(x.checked)},height:500}):s(We,{description:"暂未分配菜单权限"})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const at={list:{xxl:7,xl:10,lg:13,md:24,sm:24,xs:24},details:{xxl:17,xl:14,lg:11,md:24,sm:24,xs:24}},En=()=>{const{xl:e}=qa(),{open:t}=Ce();return s(Zt,{children:_(le,{ghost:!0,gutter:[16,16],wrap:!0,children:[s(le,{title:"角色列表",colSpan:at.list,extra:s(Za,{}),children:s(sn,{})}),s(le,{split:"horizontal",title:"角色详情",colSpan:at.details,extra:_(Le,{children:[s(tn,{}),s(en,{})]}),className:"h-full",children:t?_($e,{children:[s(le,{children:s(on,{})}),_(le,{split:e?"vertical":"horizontal",children:[s(le,{children:s(cn,{})}),s(le,{children:s(ln,{})})]})]}):s(We,{description:"点击选择左侧角色查看详情"})})]})})};export{En as default};
