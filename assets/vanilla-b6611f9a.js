import{a as n,C as l}from"./index-08a2e909.js";import{r as H}from"./jsx-runtime-f6344dff.js";import{S as ue,s as W,n as le,q as Z,u as $,t as de,f as he,b as pe,r as ee,i as fe,a as x,v as ye,w as me,x as Ee,e as Pe}from"./utils.esm-ba37751a.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Ke=(t,e={})=>n({path:"/system/config/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ve=(t,e={})=>n({path:"/system/config/configKey",method:"GET",query:t,secure:!0,skipErrorHandler:!0,...e}),Le=(t,e={})=>n({path:"/system/config/export",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ye=(t,e={})=>n({path:"/system/config/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ge=(t={})=>n({path:"/system/config/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...t}),Ne=(t,e={})=>n({path:"/system/config/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),Be=(t,e={})=>n({path:"/system/config/updateByKey",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Fe=(t,e={})=>n({path:"/system/dept/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),qe=(t,e={})=>n({path:"/system/dept/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),je=(t,e={})=>n({path:"/system/dept/info",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),Xe=(t,e={})=>n({path:"/system/dept/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),ze=(t,e={})=>n({path:"/system/dept/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),We=(t,e={})=>n({path:"/system/dept/roleDeptTreeSelect",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),Ze=(t,e={})=>n({path:"/system/dept/treeSelect",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),$e=(t,e={})=>n({path:"/system/dict/data/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),et=(t,e={})=>n({path:"/system/dict/data/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),tt=(t,e={})=>n({path:"/system/dict/data/export",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),st=(t,e={})=>n({path:"/system/dict/data/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),rt=(t,e={})=>n({path:"/system/dict/data/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),ot=(t,e={})=>n({path:"/system/dict/data/type",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),nt=(t,e={})=>n({path:"/system/dict/type/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),it=(t,e={})=>n({path:"/system/dict/type/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),at=(t,e={})=>n({path:"/system/dict/type/export",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),ct=(t,e={})=>n({path:"/system/dict/type/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),ut=(t={})=>n({path:"/system/dict/type/optionSelect",method:"GET",secure:!0,skipErrorHandler:!1,...t}),lt=(t={})=>n({path:"/system/dict/type/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...t}),dt=(t,e={})=>n({path:"/system/dict/type/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),ht=(t,e={})=>n({path:"/system/menu/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),pt=(t,e={})=>n({path:"/system/menu/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),ft=(t,e={})=>n({path:"/system/menu/info",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),yt=(t,e={})=>n({path:"/system/menu/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),mt=(t,e={})=>n({path:"/system/menu/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),Et=(t,e={})=>n({path:"/system/menu/roleMenuTreeSelect",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),Pt=(t,e={})=>n({path:"/system/notice/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Tt=(t,e={})=>n({path:"/system/notice/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Rt=(t,e={})=>n({path:"/system/notice/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ot=(t,e={})=>n({path:"/system/notice/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),St=(t,e={})=>n({path:"/system/oss/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),vt=(t,e={})=>n({path:"/system/post/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),gt=(t,e={})=>n({path:"/system/post/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),bt=(t,e={})=>n({path:"/system/post/export",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),kt=(t,e={})=>n({path:"/system/post/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),It=(t,e={})=>n({path:"/system/post/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),_t=(t,e={})=>n({path:"/system/user/profile",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ht=(t,e={})=>n({path:"/system/user/profile/updatePwd",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),At=(t,e={})=>n({path:"/system/role/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Dt=(t,e={})=>n({path:"/system/role/authUser/allocatedList",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ut=(t,e={})=>n({path:"/system/role/authUser/cancel",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Ct=(t,e={})=>n({path:"/system/role/authUser/cancelAll",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),wt=(t,e={})=>n({path:"/system/role/authUser/selectAll",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Qt=(t,e={})=>n({path:"/system/role/authUser/unallocatedList",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Mt=(t,e={})=>n({path:"/system/role/dataScope",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Jt=(t,e={})=>n({path:"/system/role/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),xt=(t,e={})=>n({path:"/system/role/info",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),Kt=(t,e={})=>n({path:"/system/role/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Vt=(t,e={})=>n({path:"/system/role/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),Lt=(t,e={})=>n({path:"/system/user/",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),Yt=(t,e={})=>n({path:"/system/user/add",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Gt=(t,e={})=>n({path:"/system/user/edit",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Nt=(t,e={})=>n({path:"/system/user/export",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),Bt=(t={})=>n({path:"/system/user/importTemplate",method:"POST",secure:!0,skipErrorHandler:!1,...t}),Ft=(t,e={})=>n({path:"/system/user/info",method:"GET",query:t,secure:!0,skipErrorHandler:!1,...e}),qt=(t,e={})=>n({path:"/system/user/list",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e}),jt=(t,e={})=>n({path:"/system/user/remove",method:"POST",query:t,secure:!0,skipErrorHandler:!1,...e}),Xt=(t,e={})=>n({path:"/system/user/resetPwd",method:"POST",body:t,secure:!0,type:l.Json,skipErrorHandler:!1,...e});class Te extends ue{constructor(e,r){super(),this.client=e,this.options=r,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(r)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),te(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return X(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,r){const i=this.options,f=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),W(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const u=this.hasListeners();u&&se(this.currentQuery,f,this.options,i)&&this.executeFetch(),this.updateResult(r),u&&(this.currentQuery!==f||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const h=this.computeRefetchInterval();u&&(this.currentQuery!==f||this.options.enabled!==i.enabled||h!==this.currentRefetchInterval)&&this.updateRefetchInterval(h)}getOptimisticResult(e){const r=this.client.getQueryCache().build(this.client,e);return this.createResult(r,e)}getCurrentResult(){return this.currentResult}trackResult(e){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),e[i])})}),r}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...r}={}){return this.fetch({...r,meta:{refetchPage:e}})}fetchOptimistic(e){const r=this.client.defaultQueryOptions(e),i=this.client.getQueryCache().build(this.client,r);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,r))}fetch(e){var r;return this.executeFetch({...e,cancelRefetch:(r=e.cancelRefetch)!=null?r:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(le)),r}updateStaleTimeout(){if(this.clearStaleTimeout(),Z||this.currentResult.isStale||!$(this.options.staleTime))return;const r=de(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},r)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Z||this.options.enabled===!1||!$(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||he.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,r){const i=this.currentQuery,f=this.options,u=this.currentResult,h=this.currentResultState,P=this.currentResultOptions,R=e!==i,b=R?e.state:this.currentQueryInitialState,T=R?this.currentResult:this.previousQueryResult,{state:E}=e;let{dataUpdatedAt:Q,error:D,errorUpdatedAt:K,fetchStatus:k,status:S}=E,A=!1,U=!1,O;if(r._optimisticResults){const o=this.hasListeners(),a=!o&&te(e,r),c=o&&se(e,i,r,f);(a||c)&&(k=pe(e.options.networkMode)?"fetching":"paused",Q||(S="loading")),r._optimisticResults==="isRestoring"&&(k="idle")}if(r.keepPreviousData&&!E.dataUpdatedAt&&T!=null&&T.isSuccess&&S!=="error")O=T.data,Q=T.dataUpdatedAt,S=T.status,A=!0;else if(r.select&&typeof E.data<"u")if(u&&E.data===(h==null?void 0:h.data)&&r.select===this.selectFn)O=this.selectResult;else try{this.selectFn=r.select,O=r.select(E.data),O=ee(u==null?void 0:u.data,O,r),this.selectResult=O,this.selectError=null}catch(o){this.selectError=o}else O=E.data;if(typeof r.placeholderData<"u"&&typeof O>"u"&&S==="loading"){let o;if(u!=null&&u.isPlaceholderData&&r.placeholderData===(P==null?void 0:P.placeholderData))o=u.data;else if(o=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof o<"u")try{o=r.select(o),this.selectError=null}catch(a){this.selectError=a}typeof o<"u"&&(S="success",O=ee(u==null?void 0:u.data,o,r),U=!0)}this.selectError&&(D=this.selectError,O=this.selectResult,K=Date.now(),S="error");const M=k==="fetching",I=S==="loading",C=S==="error";return{status:S,fetchStatus:k,isLoading:I,isSuccess:S==="success",isError:C,isInitialLoading:I&&M,data:O,dataUpdatedAt:Q,error:D,errorUpdatedAt:K,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>b.dataUpdateCount||E.errorUpdateCount>b.errorUpdateCount,isFetching:M,isRefetching:M&&!I,isLoadingError:C&&E.dataUpdatedAt===0,isPaused:k==="paused",isPlaceholderData:U,isPreviousData:A,isRefetchError:C&&E.dataUpdatedAt!==0,isStale:z(e,r),refetch:this.refetch,remove:this.remove}}updateResult(e){const r=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,W(i,r))return;this.currentResult=i;const f={cache:!0},u=()=>{if(!r)return!0;const{notifyOnChangeProps:h}=this.options;if(h==="all"||!h&&!this.trackedProps.size)return!0;const P=new Set(h??this.trackedProps);return this.options.useErrorBoundary&&P.add("error"),Object.keys(this.currentResult).some(R=>{const b=R;return this.currentResult[b]!==r[b]&&P.has(b)})};(e==null?void 0:e.listeners)!==!1&&u()&&(f.listeners=!0),this.notify({...f,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const r={};e.type==="success"?r.onSuccess=!e.manual:e.type==="error"&&!fe(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()}notify(e){x.batch(()=>{if(e.onSuccess){var r,i,f,u;(r=(i=this.options).onSuccess)==null||r.call(i,this.currentResult.data),(f=(u=this.options).onSettled)==null||f.call(u,this.currentResult.data,null)}else if(e.onError){var h,P,R,b;(h=(P=this.options).onError)==null||h.call(P,this.currentResult.error),(R=(b=this.options).onSettled)==null||R.call(b,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(T=>{T(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function Re(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function te(t,e){return Re(t,e)||t.state.dataUpdatedAt>0&&X(t,e,e.refetchOnMount)}function X(t,e,r){if(e.enabled!==!1){const i=typeof r=="function"?r(t):r;return i==="always"||i!==!1&&z(t,e)}return!1}function se(t,e,r,i){return r.enabled!==!1&&(t!==e||i.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&z(t,r)}function z(t,e){return t.isStaleByTime(e.staleTime)}const ae=H.createContext(!1),Oe=()=>H.useContext(ae);ae.Provider;function Se(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const ve=H.createContext(Se()),ge=()=>H.useContext(ve),be=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},ke=t=>{H.useEffect(()=>{t.clearReset()},[t])},Ie=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:i})=>t.isError&&!e.isReset()&&!t.isFetching&&ye(r,[t.error,i]),_e=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},He=(t,e)=>t.isLoading&&t.isFetching&&!e,Ae=(t,e,r)=>(t==null?void 0:t.suspense)&&He(e,r),De=(t,e,r)=>e.fetchOptimistic(t).then(({data:i})=>{t.onSuccess==null||t.onSuccess(i),t.onSettled==null||t.onSettled(i,null)}).catch(i=>{r.clearReset(),t.onError==null||t.onError(i),t.onSettled==null||t.onSettled(void 0,i)});function Ue(t,e){const r=me({context:t.context}),i=Oe(),f=ge(),u=r.defaultQueryOptions(t);u._optimisticResults=i?"isRestoring":"optimistic",u.onError&&(u.onError=x.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=x.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=x.batchCalls(u.onSettled)),_e(u),be(u,f),ke(f);const[h]=H.useState(()=>new e(r,u)),P=h.getOptimisticResult(u);if(Ee(H.useCallback(R=>i?()=>{}:h.subscribe(x.batchCalls(R)),[h,i]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),H.useEffect(()=>{h.setOptions(u,{listeners:!1})},[u,h]),Ae(u,P,i))throw De(u,h,f);if(Ie({result:P,errorResetBoundary:f,useErrorBoundary:u.useErrorBoundary,query:h.getCurrentQuery()}))throw P.error;return u.notifyOnChangeProps?P:h.trackResult(P)}function zt(t,e,r){const i=Pe(t,e,r);return Ue(i,Te)}let Ce=0;function Wt(t,e){const r=`atom${++Ce}`,i={toString:()=>r};return typeof t=="function"?i.read=t:(i.init=t,i.read=f=>f(i),i.write=(f,u,h)=>u(i,typeof h=="function"?h(f(i)):h)),e&&(i.write=e),i}const B=t=>"init"in t,F=t=>!!t.write,G=new WeakMap,we=(t,e)=>{G.set(t,e),t.catch(()=>{}).finally(()=>G.delete(t))},re=(t,e)=>{const r=G.get(t);r&&(G.delete(t),r(e))},oe=(t,e)=>{t.status="fulfilled",t.value=e},ne=(t,e)=>{t.status="rejected",t.reason=e},L=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),ie=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),q=t=>"v"in t&&t.v instanceof Promise,Y=t=>{if("e"in t)throw t.e;return t.v},Qe=()=>{const t=new WeakMap,e=new WeakMap,r=new Map;let i,f;({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&(i=new Set,f=new Set);const u=s=>t.get(s),h=(s,o)=>{({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&Object.freeze(o);const a=t.get(s);if(t.set(s,o),r.has(s)||r.set(s,a),a&&q(a)){const c="v"in o?o.v instanceof Promise?o.v:Promise.resolve(o.v):Promise.reject(o.e);re(a.v,c)}},P=(s,o,a)=>{const c=new Map;let d=!1;a.forEach(p=>{const y=p===s?o:u(p);y?(c.set(p,y),o.d.get(p)!==y&&(d=!0)):({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] atom state not found")}),(d||o.d.size!==c.size)&&(o.d=c)},R=(s,o,a)=>{const c=u(s),d={d:(c==null?void 0:c.d)||new Map,v:o};return a&&P(s,d,a),c&&L(c,d)&&c.d===d.d?c:(h(s,d),d)},b=(s,o,a)=>{const c=u(s),d={d:(c==null?void 0:c.d)||new Map,e:o};return a&&P(s,d,a),c&&ie(c,d)&&c.d===d.d?c:(h(s,d),d)},T=s=>{const o=u(s);if(o&&(o.d.forEach((m,v)=>{v!==s&&!e.has(v)&&T(v)}),Array.from(o.d).every(([m,v])=>m===s||u(m)===v)))return o;const a=new Set;let c=!0;const d=m=>{if(a.add(m),m===s){const g=u(m);if(g)return Y(g);if(B(m))return m.init;throw new Error("no atom init")}const v=T(m);return Y(v)};let p,y;const V={get signal(){return p||(p=new AbortController),p.signal},get setSelf(){return({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&!F(s)&&console.warn("setSelf function cannot be used with read-only atom"),!y&&F(s)&&(y=(...m)=>{if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&c&&console.warn("setSelf function cannot be called in sync"),!c)return A(s,...m)}),y}};try{const m=s.read(d,V);if(m instanceof Promise){let v;const g=new Promise((J,ce)=>{let w=!1;m.then(_=>{w||(oe(g,_),J(_))},_=>{w||(ne(g,_),ce(_))}).finally(()=>{w||(w=!0,R(s,g,a))}),v=_=>{w||(w=!0,_.then(N=>oe(g,N),N=>ne(g,N)),J(_))}});return g.status="pending",we(g,J=>{J&&v(J),p==null||p.abort()}),R(s,g,a)}return R(s,m,a)}catch(m){return b(s,m,a)}finally{c=!1}},E=s=>Y(T(s)),Q=s=>{let o=e.get(s);return o||(o=U(s)),o},D=(s,o)=>!o.l.size&&(!o.t.size||o.t.size===1&&o.t.has(s)),K=s=>{const o=e.get(s);o&&D(s,o)&&O(s)},k=s=>{const o=e.get(s);o==null||o.t.forEach(a=>{if(a!==s){const c=u(a),d=T(a);(!c||!L(c,d))&&k(a)}})},S=(s,...o)=>{let a=!0;const c=y=>Y(T(y)),d=(y,...V)=>{let m;if(y===s){if(!B(y))throw new Error("atom not writable");const v=u(y),g=R(y,V[0]);(!v||!L(v,g))&&k(y)}else m=S(y,...V);return a||I(),m},p=s.write(c,d,...o);return a=!1,p},A=(s,...o)=>{const a=S(s,...o);return I(),a},U=(s,o)=>{const a={t:new Set(o&&[o]),l:new Set};if(e.set(s,a),({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&f.add(s),T(s).d.forEach((c,d)=>{const p=e.get(d);p?p.t.add(s):d!==s&&U(d,s)}),T(s),F(s)&&s.onMount){const c=s.onMount((...d)=>A(s,...d));c&&(a.u=c)}return a},O=s=>{var o;const a=(o=e.get(s))==null?void 0:o.u;a&&a(),e.delete(s),({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&f.delete(s);const c=u(s);c?(q(c)&&re(c.v),c.d.forEach((d,p)=>{if(p!==s){const y=e.get(p);y&&(y.t.delete(s),D(p,y)&&O(p))}})):({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] could not find atom state to unmount",s)},M=(s,o,a)=>{const c=new Set(o.d.keys());a==null||a.forEach((d,p)=>{if(c.has(p)){c.delete(p);return}const y=e.get(p);y&&(y.t.delete(s),D(p,y)&&O(p))}),c.forEach(d=>{const p=e.get(d);p?p.t.add(s):e.has(s)&&U(d,s)})},I=()=>{for(;r.size;){const s=Array.from(r);r.clear(),s.forEach(([o,a])=>{const c=u(o);if(c){c.d!==(a==null?void 0:a.d)&&M(o,c,a==null?void 0:a.d);const d=e.get(o);d&&!(a&&!q(a)&&(L(a,c)||ie(a,c)))&&d.l.forEach(p=>p())}else({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] no atom state to flush")})}({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&i.forEach(s=>s())},C=(s,o)=>{const a=Q(s);I();const c=a.l;return c.add(o),()=>{c.delete(o),K(s)}};return({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"?{get:E,set:A,sub:C,dev_subscribe_state:s=>(i.add(s),()=>{i.delete(s)}),dev_get_mounted_atoms:()=>f.values(),dev_get_atom_state:s=>t.get(s),dev_get_mounted:s=>e.get(s),dev_restore_atoms:s=>{for(const[o,a]of s)B(o)&&(R(o,a),k(o));I()}}:{get:E,set:A,sub:C}};let j;const Zt=()=>(j||(j=Qe()),j);export{Ut as $,rt as A,ut as B,st as C,ft as D,pt as E,ht as F,yt as G,mt as H,Pt as I,Tt as J,Ot as K,Rt as L,St as M,vt as N,gt as O,bt as P,It as Q,kt as R,xt as S,Et as T,Jt as U,At as V,Vt as W,Kt as X,We as Y,Mt as Z,Ct as _,Wt as a,wt as a0,Qt as a1,Dt as a2,Lt as a3,Ve as a4,Ze as a5,Ft as a6,Yt as a7,Gt as a8,Xt as a9,Nt as aa,Bt as ab,jt as ac,qt as ad,_t as b,Ht as c,Ke as d,Be as e,Le as f,Zt as g,Ge as h,Ne as i,Ye as j,Xe as k,Fe as l,ze as m,je as n,qe as o,nt as p,it as q,at as r,ot as s,lt as t,zt as u,dt as v,ct as w,$e as x,et as y,tt as z};
