import{q as l,j as a,ai as h,aj as d,ak as F,al as B,e as r,F as I,am as f,an as u,ao as E,s as b,v as x,ap as S,r as D,O as L,aq as k,ar as v,as as j}from"./index.740bf5e8.js";import{e as g,f as w,g as M,h as O,i as P}from"./index.32668247.js";import{b as R}from"./index.02109581.js";import{u as m}from"./useMutation.esm.c89cb261.js";import"./useQuery.esm.625c59fc.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const T=({infoId:e,disabled:t,isBatch:s})=>{const n=s?"\u6279\u91CF\u5220\u9664":"\u5220\u9664",{canRemoveSysOperLog:c}=g(),o=C(),{mutateAsync:y,isLoading:A}=m(async i=>{await w({infoIds:i})},{onSuccess:()=>{var i;o==null||o.reload(),(i=o==null?void 0:o.clearSelected)==null||i.call(o),l.success("\u5220\u9664\u6210\u529F")}});return a(h,{accessible:c,children:a(d,{type:"link",danger:!0,disabled:t,icon:a(F,{}),onClick:()=>{B.confirm({title:"\u5220\u9664\u7CFB\u7EDF\u8BBF\u95EE\u8BB0\u5F55",content:r(I,{children:["\u786E\u5B9A\u5220\u9664\u8BBF\u95EE\u8BB0\u5F55",a(f.Text,{code:!0,children:e}),"\u5417\uFF1F"]}),onOk:async()=>y(e),okButtonProps:{loading:A}})},children:n})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const[N,se,ne]=u({title:"\u8BBF\u95EE\u7F16\u53F7",dataIndex:"infoId",key:"infoId",valueType:"text",hideInSearch:!0}),[U,ie,ce]=u({title:"\u7528\u6237\u540D\u79F0",dataIndex:"userName",key:"userName",valueType:"text"}),[q,re,le]=u({title:"\u767B\u5F55\u5730\u5740",dataIndex:"ipaddr",key:"ipaddr",valueType:"text"}),[V,he,de]=u({title:"\u767B\u5F55\u5730\u70B9",dataIndex:"loginLocation",key:"loginLocation",valueType:"text",hideInSearch:!0}),[X,ge,me]=u({title:"\u6D4F\u89C8\u5668",dataIndex:"browser",key:"browser",valueType:"text",hideInSearch:!0}),[Y,pe,Fe]=u({title:"\u64CD\u4F5C\u7CFB\u7EDF",dataIndex:"os",key:"os",valueType:"text",hideInSearch:!0}),[K,Be,Te]=u({title:"\u64CD\u4F5C\u4FE1\u606F",dataIndex:"msg",key:"msg",valueType:"text",hideInSearch:!0}),[z,Ce,ye]=u({title:"\u64CD\u4F5C\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:E}),[G,Ae,Ie]=u({title:"\u767B\u5F55\u65E5\u671F",dataIndex:"loginTime",key:"loginTime",valueType:"dateTime",hideInSearch:!0}),H=u({title:"\u64CD\u4F5C",dataIndex:"option",key:"option",valueType:"option",render:(e,t)=>a(T,{infoId:t.infoId})},{table:{fixed:"right"}}),J=()=>[N,U,q,V,X,Y,z,K,G,H];globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const p=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/monitor/logininfor/model/index.ts/atomMainTableActions",b(void 0));p.debugLabel="atomMainTableActions";const C=()=>x(p),Q=()=>R(p);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const W=()=>{const{canRemoveSysOperLog:e}=g(),t=C(),{isLoading:s,mutate:n}=m(()=>M(),{onSuccess:()=>{t==null||t.reload(),l.success("\u6E05\u7A7A\u8BBF\u95EE\u8BB0\u5F55\u6210\u529F")}});return a(h,{accessible:e,children:a(d,{danger:!0,icon:a(F,{}),onClick:()=>B.confirm({title:"\u6E05\u7A7A\u8BBF\u95EE\u8BB0\u5F55",content:"\u6E05\u7A7A\u8BBF\u95EE\u8BB0\u5F55\u540E\u5C06\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u6E05\u7A7A\u5417\uFF1F",okButtonProps:{loading:s},onOk:n}),children:"\u6E05\u7A7A"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Z=({searchParams:e})=>{const{canExportSysOperLog:t}=g(),{isLoading:s,mutate:n}=m(()=>O(e),{onSuccess:()=>{l.success("\u5BFC\u51FA\u6210\u529F")}});return a(h,{accessible:t,children:a(d,{ghost:!0,type:"primary",icon:a(S,{}),loading:s,onClick:()=>n(),children:"\u5BFC\u51FA\u5F53\u524D\u5217\u8868"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const _=({selectedRows:e})=>r(j,{children:[r("span",{children:["\u5DF2\u9009\u62E9 ",e.length," \u9879"]}),a(T,{isBatch:!0,disabled:e.length===0,infoId:e.map(t=>t.infoId).join(",")})]}),fe=()=>{const e=J(),t=Q(),[s,n]=D.exports.useState({});return a(L,{children:a(k,{rowKey:"infoId",actionRef:t,columns:e,request:async(...c)=>{const o=v(...c);return n(o),await P(o)},toolbar:{actions:[a(W,{},"ButtonCleanUp"),a(Z,{searchParams:s},"ButtonExport")]},rowSelection:{alwaysShowAlert:!0},tableAlertRender:_})})};export{fe as default};
