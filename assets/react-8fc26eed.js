import{a as o,C as l}from"./index-58ea63b0.js";import{r as b,e as pe}from"./jsx-runtime-06f68cbc.js";import{S as ye,s as $,n as Ee,q as ee,u as te,t as me,f as Pe,b as Oe,r as se,i as Re,a as L,v as Te,w as ve,x as Se,e as be}from"./utils-1fed7460.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Xe=(e,t={})=>o({path:"/system/user/resetPwd",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ze=(e,t={})=>o({path:"/system/user/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),We=(e,t={})=>o({path:"/system/user/profile",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ze=(e,t={})=>o({path:"/system/user/profile/updatePwd",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),$e=(e,t={})=>o({path:"/system/user/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),et=(e={})=>o({path:"/system/user/importTemplate",method:"POST",secure:!0,skipErrorHandler:!0,...e}),tt=(e,t={})=>o({path:"/system/user/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!0,...t}),st=(e,t={})=>o({path:"/system/user/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),rt=(e,t={})=>o({path:"/system/user/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),nt=(e,t={})=>o({path:"/system/role/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),ot=(e,t={})=>o({path:"/system/role/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),it=(e,t={})=>o({path:"/system/role/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),at=(e,t={})=>o({path:"/system/role/dataScope",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ut=(e,t={})=>o({path:"/system/role/authUser/unallocatedList",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ct=(e,t={})=>o({path:"/system/role/authUser/selectAll",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),lt=(e,t={})=>o({path:"/system/role/authUser/cancel",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),dt=(e,t={})=>o({path:"/system/role/authUser/allocatedList",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ht=(e,t={})=>o({path:"/system/role/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ft=(e,t={})=>o({path:"/system/post/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),pt=(e,t={})=>o({path:"/system/post/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),yt=(e,t={})=>o({path:"/system/post/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Et=(e,t={})=>o({path:"/system/post/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),mt=(e,t={})=>o({path:"/system/post/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Pt=(e,t={})=>o({path:"/system/oss/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ot=(e,t={})=>o({path:"/system/notice/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Rt=(e,t={})=>o({path:"/system/notice/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Tt=(e,t={})=>o({path:"/system/notice/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),vt=(e,t={})=>o({path:"/system/notice/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),St=(e,t={})=>o({path:"/system/menu/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),bt=(e,t={})=>o({path:"/system/menu/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),gt=(e,t={})=>o({path:"/system/menu/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),_t=(e,t={})=>o({path:"/system/menu/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),kt=(e,t={})=>o({path:"/system/dict/type/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),It=(e={})=>o({path:"/system/dict/type/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...e}),Ht=(e,t={})=>o({path:"/system/dict/type/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),At=(e,t={})=>o({path:"/system/dict/type/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Dt=(e,t={})=>o({path:"/system/dict/type/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ut=(e,t={})=>o({path:"/system/dict/type/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ct=(e,t={})=>o({path:"/system/dict/data/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),wt=(e,t={})=>o({path:"/system/dict/data/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Mt=(e,t={})=>o({path:"/system/dict/data/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Qt=(e,t={})=>o({path:"/system/dict/data/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),xt=(e,t={})=>o({path:"/system/dict/data/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Vt=(e,t={})=>o({path:"/system/dept/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Kt=(e,t={})=>o({path:"/system/dept/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Jt=(e,t={})=>o({path:"/system/dept/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Lt=(e,t={})=>o({path:"/system/dept/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Yt=(e,t={})=>o({path:"/system/config/updateByKey",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Gt=(e,t={})=>o({path:"/system/config/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Nt=(e={})=>o({path:"/system/config/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...e}),Bt=(e,t={})=>o({path:"/system/config/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ft=(e,t={})=>o({path:"/system/config/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),qt=(e,t={})=>o({path:"/system/config/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),jt=(e,t={})=>o({path:"/system/user/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Xt=(e,t={})=>o({path:"/system/user/",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),zt=(e,t={})=>o({path:"/system/user/deptTree",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Wt=(e,t={})=>o({path:"/system/role/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Zt=(e,t={})=>o({path:`/system/role/deptTree/${e}`,method:"GET",secure:!0,skipErrorHandler:!1,...t}),$t=(e,t={})=>o({path:"/system/menu/roleMenuTreeSelect",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),es=(e,t={})=>o({path:"/system/menu/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),ts=(e={})=>o({path:"/system/dict/type/optionSelect",method:"GET",secure:!0,skipErrorHandler:!1,...e}),ss=(e,t={})=>o({path:"/system/dict/data/type",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),rs=(e,t={})=>o({path:"/system/dept/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),ns=(e,t={})=>o({path:"/system/config/configKey",method:"GET",query:e,secure:!0,skipErrorHandler:!0,...t});class ge extends ye{constructor(t,s){super(),this.client=t,this.options=s,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(s)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),re(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return W(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return W(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,s){const n=this.options,y=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),$(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();const u=this.hasListeners();u&&ne(this.currentQuery,y,this.options,n)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==y||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();u&&(this.currentQuery!==y||this.options.enabled!==n.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(t){const s={};return Object.keys(t).forEach(n=>{Object.defineProperty(s,n,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(n),t[n])})}),s}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...s}={}){return this.fetch({...s,meta:{refetchPage:t}})}fetchOptimistic(t){const s=this.client.defaultQueryOptions(t),n=this.client.getQueryCache().build(this.client,s);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,s))}fetch(t){var s;return this.executeFetch({...t,cancelRefetch:(s=t.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let s=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(Ee)),s}updateStaleTimeout(){if(this.clearStaleTimeout(),ee||this.currentResult.isStale||!te(this.options.staleTime))return;const s=me(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},s)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(ee||this.options.enabled===!1||!te(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Pe.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,s){const n=this.currentQuery,y=this.options,u=this.currentResult,d=this.currentResultState,p=this.currentResultOptions,T=t!==n,P=T?t.state:this.currentQueryInitialState,O=T?this.currentResult:this.previousQueryResult,{state:R}=t;let{dataUpdatedAt:H,error:Q,errorUpdatedAt:Y,fetchStatus:A,status:I}=R,w=!1,x=!1,v;if(s._optimisticResults){const g=this.hasListeners(),r=!g&&re(t,s),i=g&&ne(t,n,s,y);(r||i)&&(A=Oe(t.options.networkMode)?"fetching":"paused",H||(I="loading")),s._optimisticResults==="isRestoring"&&(A="idle")}if(s.keepPreviousData&&!R.dataUpdatedAt&&O!=null&&O.isSuccess&&I!=="error")v=O.data,H=O.dataUpdatedAt,I=O.status,w=!0;else if(s.select&&typeof R.data<"u")if(u&&R.data===(d==null?void 0:d.data)&&s.select===this.selectFn)v=this.selectResult;else try{this.selectFn=s.select,v=s.select(R.data),v=se(u==null?void 0:u.data,v,s),this.selectResult=v,this.selectError=null}catch(g){this.selectError=g}else v=R.data;if(typeof s.placeholderData<"u"&&typeof v>"u"&&I==="loading"){let g;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(p==null?void 0:p.placeholderData))g=u.data;else if(g=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof g<"u")try{g=s.select(g),this.selectError=null}catch(r){this.selectError=r}typeof g<"u"&&(I="success",v=se(u==null?void 0:u.data,g,s),x=!0)}this.selectError&&(Q=this.selectError,v=this.selectResult,Y=Date.now(),I="error");const U=A==="fetching",C=I==="loading",V=I==="error";return{status:I,fetchStatus:A,isLoading:C,isSuccess:I==="success",isError:V,isInitialLoading:C&&U,data:v,dataUpdatedAt:H,error:Q,errorUpdatedAt:Y,failureCount:R.fetchFailureCount,failureReason:R.fetchFailureReason,errorUpdateCount:R.errorUpdateCount,isFetched:R.dataUpdateCount>0||R.errorUpdateCount>0,isFetchedAfterMount:R.dataUpdateCount>P.dataUpdateCount||R.errorUpdateCount>P.errorUpdateCount,isFetching:U,isRefetching:U&&!C,isLoadingError:V&&R.dataUpdatedAt===0,isPaused:A==="paused",isPlaceholderData:x,isPreviousData:w,isRefetchError:V&&R.dataUpdatedAt!==0,isStale:Z(t,s),refetch:this.refetch,remove:this.remove}}updateResult(t){const s=this.currentResult,n=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,$(n,s))return;this.currentResult=n;const y={cache:!0},u=()=>{if(!s)return!0;const{notifyOnChangeProps:d}=this.options;if(d==="all"||!d&&!this.trackedProps.size)return!0;const p=new Set(d??this.trackedProps);return this.options.useErrorBoundary&&p.add("error"),Object.keys(this.currentResult).some(T=>{const P=T;return this.currentResult[P]!==s[P]&&p.has(P)})};(t==null?void 0:t.listeners)!==!1&&u()&&(y.listeners=!0),this.notify({...y,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const s=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const s={};t.type==="success"?s.onSuccess=!t.manual:t.type==="error"&&!Re(t.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()}notify(t){L.batch(()=>{if(t.onSuccess){var s,n,y,u;(s=(n=this.options).onSuccess)==null||s.call(n,this.currentResult.data),(y=(u=this.options).onSettled)==null||y.call(u,this.currentResult.data,null)}else if(t.onError){var d,p,T,P;(d=(p=this.options).onError)==null||d.call(p,this.currentResult.error),(T=(P=this.options).onSettled)==null||T.call(P,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(O=>{O(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function _e(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function re(e,t){return _e(e,t)||e.state.dataUpdatedAt>0&&W(e,t,t.refetchOnMount)}function W(e,t,s){if(t.enabled!==!1){const n=typeof s=="function"?s(e):s;return n==="always"||n!==!1&&Z(e,t)}return!1}function ne(e,t,s,n){return s.enabled!==!1&&(e!==t||n.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&Z(e,s)}function Z(e,t){return e.isStaleByTime(t.staleTime)}const ce=b.createContext(!1),ke=()=>b.useContext(ce);ce.Provider;function Ie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const He=b.createContext(Ie()),Ae=()=>b.useContext(He),De=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Ue=e=>{b.useEffect(()=>{e.clearReset()},[e])},Ce=({result:e,errorResetBoundary:t,useErrorBoundary:s,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&Te(s,[e.error,n]),we=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Me=(e,t)=>e.isLoading&&e.isFetching&&!t,Qe=(e,t,s)=>(e==null?void 0:e.suspense)&&Me(t,s),xe=(e,t,s)=>t.fetchOptimistic(e).then(({data:n})=>{e.onSuccess==null||e.onSuccess(n),e.onSettled==null||e.onSettled(n,null)}).catch(n=>{s.clearReset(),e.onError==null||e.onError(n),e.onSettled==null||e.onSettled(void 0,n)});function Ve(e,t){const s=ve({context:e.context}),n=ke(),y=Ae(),u=s.defaultQueryOptions(e);u._optimisticResults=n?"isRestoring":"optimistic",u.onError&&(u.onError=L.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=L.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=L.batchCalls(u.onSettled)),we(u),De(u,y),Ue(y);const[d]=b.useState(()=>new t(s,u)),p=d.getOptimisticResult(u);if(Se(b.useCallback(T=>n?()=>{}:d.subscribe(L.batchCalls(T)),[d,n]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),b.useEffect(()=>{d.setOptions(u,{listeners:!1})},[u,d]),Qe(u,p,n))throw xe(u,d,y);if(Ce({result:p,errorResetBoundary:y,useErrorBoundary:u.useErrorBoundary,query:d.getCurrentQuery()}))throw p.error;return u.notifyOnChangeProps?p:d.trackResult(p)}function os(e,t,s){const n=be(e,t,s);return Ve(n,ge)}let Ke=0;function is(e,t){const s=`atom${++Ke}`,n={toString:()=>s};return typeof e=="function"?n.read=e:(n.init=e,n.read=y=>y(n),n.write=(y,u,d)=>u(n,typeof d=="function"?d(y(n)):d)),t&&(n.write=t),n}const q=e=>"init"in e,j=e=>!!e.write,B=new WeakMap,Je=(e,t)=>{B.set(e,t),e.catch(()=>{}).finally(()=>B.delete(e))},oe=(e,t)=>{const s=B.get(e);s&&(B.delete(e),s(t))},ie=(e,t)=>{e.status="fulfilled",e.value=t},ae=(e,t)=>{e.status="rejected",e.reason=t},G=(e,t)=>"v"in e&&"v"in t&&Object.is(e.v,t.v),ue=(e,t)=>"e"in e&&"e"in t&&Object.is(e.e,t.e),X=e=>"v"in e&&e.v instanceof Promise,N=e=>{if("e"in e)throw e.e;return e.v},le=()=>{var e,t;const s=new WeakMap,n=new WeakMap,y=new Map;let u,d;((e={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:e.MODE)!=="production"&&(u=new Set,d=new Set);const p=r=>s.get(r),T=(r,i)=>{var c;((c={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:c.MODE)!=="production"&&Object.freeze(i);const a=s.get(r);if(s.set(r,i),y.has(r)||y.set(r,a),a&&X(a)){const f="v"in i?i.v instanceof Promise?i.v:Promise.resolve(i.v):Promise.reject(i.e);oe(a.v,f)}},P=(r,i,c)=>{const a=new Map;let f=!1;c.forEach(h=>{var E;const _=h===r?i:p(h);_?(a.set(h,_),i.d.get(h)!==_&&(f=!0)):((E={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:E.MODE)!=="production"&&console.warn("[Bug] atom state not found")}),(f||i.d.size!==a.size)&&(i.d=a)},O=(r,i,c)=>{const a=p(r),f={d:(a==null?void 0:a.d)||new Map,v:i};return c&&P(r,f,c),a&&G(a,f)&&a.d===f.d?a:(T(r,f),f)},R=(r,i,c)=>{const a=p(r),f={d:(a==null?void 0:a.d)||new Map,e:i};return c&&P(r,f,c),a&&ue(a,f)&&a.d===f.d?a:(T(r,f),f)},H=r=>{const i=p(r);if(i&&(i.d.forEach((m,k)=>{k!==r&&!n.has(k)&&H(k)}),Array.from(i.d).every(([m,k])=>m===r||p(m)===k)))return i;const c=new Set;let a=!0;const f=m=>{if(c.add(m),m===r){const S=p(m);if(S)return N(S);if(q(m))return m.init;throw new Error("no atom init")}const k=H(m);return N(k)};let h,E;const _={get signal(){return h||(h=new AbortController),h.signal},get setSelf(){var m;return((m={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:m.MODE)!=="production"&&!j(r)&&console.warn("setSelf function cannot be used with read-only atom"),!E&&j(r)&&(E=(...k)=>{var S;if(((S={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:S.MODE)!=="production"&&a&&console.warn("setSelf function cannot be called in sync"),!a)return v(r,...k)}),E}};try{const m=r.read(f,_);if(m instanceof Promise){let k;const S=new Promise((J,fe)=>{let M=!1;m.then(D=>{M||(ie(S,D),J(D))},D=>{M||(ae(S,D),fe(D))}).finally(()=>{M||(M=!0,O(r,S,c))}),k=D=>{M||(M=!0,D.then(F=>ie(S,F),F=>ae(S,F)),J(D))}});return S.status="pending",Je(S,J=>{J&&k(J),h==null||h.abort()}),O(r,S,c)}return O(r,m,c)}catch(m){return R(r,m,c)}finally{a=!1}},Q=r=>N(H(r)),Y=r=>{let i=n.get(r);return i||(i=U(r)),i},A=(r,i)=>!i.l.size&&(!i.t.size||i.t.size===1&&i.t.has(r)),I=r=>{const i=n.get(r);i&&A(r,i)&&C(r)},w=r=>{const i=n.get(r);i==null||i.t.forEach(c=>{if(c!==r){const a=p(c),f=H(c);(!a||!G(a,f))&&w(c)}})},x=(r,...i)=>{let c=!0;const a=E=>N(H(E)),f=(E,..._)=>{let m;if(E===r){if(!q(E))throw new Error("atom not writable");const k=p(E),S=O(E,_[0]);(!k||!G(k,S))&&w(E)}else m=x(E,..._);return c||K(),m},h=r.write(a,f,...i);return c=!1,h},v=(r,...i)=>{const c=x(r,...i);return K(),c},U=(r,i)=>{var c;const a={t:new Set(i&&[i]),l:new Set};if(n.set(r,a),((c={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:c.MODE)!=="production"&&d.add(r),H(r).d.forEach((f,h)=>{const E=n.get(h);E?E.t.add(r):h!==r&&U(h,r)}),H(r),j(r)&&r.onMount){const f=r.onMount((...h)=>v(r,...h));f&&(a.u=f)}return a},C=r=>{var i,c,a;const f=(i=n.get(r))==null?void 0:i.u;f&&f(),n.delete(r),((c={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:c.MODE)!=="production"&&d.delete(r);const h=p(r);h?(X(h)&&oe(h.v),h.d.forEach((E,_)=>{if(_!==r){const m=n.get(_);m&&(m.t.delete(r),A(_,m)&&C(_))}})):((a={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:a.MODE)!=="production"&&console.warn("[Bug] could not find atom state to unmount",r)},V=(r,i,c)=>{const a=new Set(i.d.keys());c==null||c.forEach((f,h)=>{if(a.has(h)){a.delete(h);return}const E=n.get(h);E&&(E.t.delete(r),A(h,E)&&C(h))}),a.forEach(f=>{const h=n.get(f);h?h.t.add(r):n.has(r)&&U(f,r)})},K=()=>{for(var r;y.size;){const i=Array.from(y);y.clear(),i.forEach(([c,a])=>{var f;const h=p(c);if(h){h.d!==(a==null?void 0:a.d)&&V(c,h,a==null?void 0:a.d);const E=n.get(c);E&&!(a&&!X(a)&&(G(a,h)||ue(a,h)))&&E.l.forEach(_=>_())}else((f={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:f.MODE)!=="production"&&console.warn("[Bug] no atom state to flush")})}((r={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:r.MODE)!=="production"&&u.forEach(i=>i())},g=(r,i)=>{const c=Y(r);K();const a=c.l;return a.add(i),()=>{a.delete(i),I(r)}};return((t={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:t.MODE)!=="production"?{get:Q,set:v,sub:g,dev_subscribe_state:r=>(u.add(r),()=>{u.delete(r)}),dev_get_mounted_atoms:()=>d.values(),dev_get_atom_state:r=>s.get(r),dev_get_mounted:r=>n.get(r),dev_restore_atoms:r=>{for(const[i,c]of r)q(i)&&(O(i,c),w(i));K()}}:{get:Q,set:v,sub:g}};let z;const Le=()=>(z||(z=le()),z),de=b.createContext(void 0),he=e=>{const t=b.useContext(de);return(e==null?void 0:e.store)||t||Le()},as=({children:e,store:t})=>{const s=b.useRef();return!t&&!s.current&&(s.current=le()),b.createElement(de.Provider,{value:t||s.current},e)},Ye=e=>e instanceof Promise,Ge=pe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Ne(e,t){const s=he(t),[[n,y,u],d]=b.useReducer(P=>{const O=s.get(e);return Object.is(P[0],O)&&P[1]===s&&P[2]===e?P:[O,s,e]},void 0,()=>[s.get(e),s,e]);let p=n;(y!==s||u!==e)&&(d(),p=s.get(e));const T=t==null?void 0:t.delay;return b.useEffect(()=>{const P=s.sub(e,()=>{if(typeof T=="number"){setTimeout(d,T);return}d()});return d(),P},[s,e,T]),b.useDebugValue(p),Ye(p)?Ge(p):p}function Be(e,t){const s=he(t);return b.useCallback((...y)=>{var u;if(((u={VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0})==null?void 0:u.MODE)!=="production"&&!("write"in e))throw new Error("not writable atom");return s.set(e,...y)},[s,e])}function us(e,t){return[Ne(e,t),Be(e,t)]}export{Zt as $,Qt as A,Mt as B,Ct as C,ts as D,wt as E,es as F,gt as G,_t as H,bt as I,St as J,vt as K,Tt as L,Ot as M,Rt as N,Pt as O,as as P,mt as Q,Et as R,yt as S,ft as T,pt as U,Wt as V,$t as W,it as X,ht as Y,nt as Z,ot as _,os as a,at as a0,ct as a1,lt as a2,ut as a3,dt as a4,jt as a5,ns as a6,zt as a7,Xt as a8,rt as a9,st as aa,Xe as ab,tt as ac,et as ad,ze as ae,$e as af,is as b,Ne as c,We as d,Ze as e,qt as f,Yt as g,Ft as h,Nt as i,Gt as j,Bt as k,Kt as l,Lt as m,Vt as n,rs as o,Jt as p,Ut as q,Dt as r,ss as s,At as t,Be as u,It as v,kt as w,Ht as x,us as y,xt as z};
