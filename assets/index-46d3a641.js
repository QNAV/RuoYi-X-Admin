import{aH as b,g as j,d as i,cw as D,r as m,b as $,cx as w,j as E,_ as d}from"./index-324581e1.js";import{U as O}from"./index-b67b41bd.js";var B=j.forwardRef(function(e,r){var o=e.fieldProps,s=e.title,x=s===void 0?"单击或拖动文件到此区域进行上传":s,c=e.icon,h=c===void 0?i(D,{}):c,v=e.description,C=v===void 0?"支持单次或批量上传":v,f=e.action,P=e.accept,l=e.onChange,n=e.value,p=e.children,u=e.max,a=e.proFieldProps,F=m.exports.useContext($.ConfigContext),y=m.exports.useContext(w),U=(a==null?void 0:a.mode)||y.mode||"edit",t=F.getPrefixCls("upload"),N=(u===void 0||!n||(n==null?void 0:n.length)<u)&&U!=="read"&&(a==null?void 0:a.readonly)!==!0;return E(O.Dragger,d(d({ref:r,name:"files",action:f,accept:P,fileList:n},o),{},{onChange:function(g){l==null||l(g),o!=null&&o.onChange&&(o==null||o.onChange(g))},style:d(d({},o==null?void 0:o.style),{},{display:N?void 0:"none"}),children:[i("p",{className:"".concat(t,"-drag-icon"),children:h}),i("p",{className:"".concat(t,"-text"),children:x}),i("p",{className:"".concat(t,"-hint"),children:C}),p?i("div",{className:"".concat(t,"-extra"),style:{padding:16},children:p}):null]}))}),L=b(B,{getValueFromEvent:function(r){return r.fileList}});const I=L;export{I as P};
