import{q as l,j as a,ai as h,aj as d,ak as C,al as F,e as r,F as E,am as T,an as u,ao as f,s as x,v as I,ap as S,r as k,O as v,aq as j,ar as L,as as w}from"./index.c72bb1f1.js";import{d as g,e as D,f as M,g as P,h as O}from"./index.0553b5a6.js";import{b as R}from"./index.7826b6a7.js";import{u as p}from"./useMutation.esm.69319351.js";import"./useQuery.esm.81638f94.js";import"./utils.esm.00f7e927.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const B=({infoId:e,disabled:t,isBatch:s})=>{const n=s?"\u6279\u91CF\u5220\u9664":"\u5220\u9664",{canRemoveSysOperLog:i}=g(),o=y(),{mutateAsync:b,isLoading:A}=p(async c=>{await D({infoIds:c})},{onSuccess:()=>{var c;o==null||o.reload(),(c=o==null?void 0:o.clearSelected)==null||c.call(o),l.success("\u5220\u9664\u6210\u529F")}});return a(h,{accessible:i,children:a(d,{type:"link",danger:!0,disabled:t,icon:a(C,{}),onClick:()=>{F.confirm({title:"\u5220\u9664\u7CFB\u7EDF\u8BBF\u95EE\u8BB0\u5F55",content:r(E,{children:["\u786E\u5B9A\u5220\u9664\u8BBF\u95EE\u8BB0\u5F55",a(T.Text,{code:!0,children:e}),"\u5417\uFF1F"]}),onOk:async()=>b(e),okButtonProps:{loading:A}})},children:n})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const q=u("table",{title:"\u8BBF\u95EE\u7F16\u53F7",dataIndex:"infoId",key:"infoId",valueType:"text",hideInSearch:!0}),N=u("table",{title:"\u7528\u6237\u540D\u79F0",dataIndex:"userName",key:"userName",valueType:"text"}),U=u("table",{title:"\u767B\u5F55\u5730\u5740",dataIndex:"ipaddr",key:"ipaddr",valueType:"text"}),V=u("table",{title:"\u767B\u5F55\u5730\u70B9",dataIndex:"loginLocation",key:"loginLocation",valueType:"text",hideInSearch:!0}),X=u("table",{title:"\u6D4F\u89C8\u5668",dataIndex:"browser",key:"browser",valueType:"text",hideInSearch:!0}),Y=u("table",{title:"\u64CD\u4F5C\u7CFB\u7EDF",dataIndex:"os",key:"os",valueType:"text",hideInSearch:!0}),K=u("table",{title:"\u64CD\u4F5C\u4FE1\u606F",dataIndex:"msg",key:"msg",valueType:"text",hideInSearch:!0}),z=u("table",{title:"\u64CD\u4F5C\u72B6\u6001",dataIndex:"status",key:"status",valueType:"select",valueEnum:f}),G=u("table",{title:"\u767B\u5F55\u65E5\u671F",dataIndex:"loginTime",key:"loginTime",valueType:"dateTime",hideInSearch:!0}),H=u("table",{title:"\u64CD\u4F5C",dataIndex:"option",key:"option",valueType:"option",fixed:"right",render:(e,t)=>a(B,{infoId:t.infoId})}),J=()=>[q,N,U,V,X,Y,z,K,G,H];globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const m=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/monitor/logininfor/model/index.ts/atomMainTableActions",x(void 0));m.debugLabel="atomMainTableActions";const y=()=>I(m),Q=()=>R(m);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const W=()=>{const{canRemoveSysOperLog:e}=g(),t=y(),{isLoading:s,mutate:n}=p(()=>M(),{onSuccess:()=>{t==null||t.reload(),l.success("\u6E05\u7A7A\u8BBF\u95EE\u8BB0\u5F55\u6210\u529F")}});return a(h,{accessible:e,children:a(d,{danger:!0,icon:a(C,{}),onClick:()=>F.confirm({title:"\u6E05\u7A7A\u8BBF\u95EE\u8BB0\u5F55",content:"\u6E05\u7A7A\u8BBF\u95EE\u8BB0\u5F55\u540E\u5C06\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u6E05\u7A7A\u5417\uFF1F",okButtonProps:{loading:s},onOk:n}),children:"\u6E05\u7A7A"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Z=({searchParams:e})=>{const{canExportSysOperLog:t}=g(),{isLoading:s,mutate:n}=p(()=>P(e),{onSuccess:()=>{l.success("\u5BFC\u51FA\u6210\u529F")}});return a(h,{accessible:t,children:a(d,{ghost:!0,type:"primary",icon:a(S,{}),loading:s,onClick:()=>n(),children:"\u5BFC\u51FA\u5F53\u524D\u5217\u8868"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const _=({selectedRows:e})=>r(w,{children:[r("span",{children:["\u5DF2\u9009\u62E9 ",e.length," \u9879"]}),a(B,{isBatch:!0,disabled:e.length===0,infoId:e.map(t=>t.infoId).join(",")})]}),ne=()=>{const e=J(),t=Q(),[s,n]=k.exports.useState({});return a(v,{children:a(j,{rowKey:"infoId",actionRef:t,columns:e,request:async(...i)=>{const o=L(...i);return n(o),await O(o)},toolbar:{actions:[a(W,{},"ButtonCleanUp"),a(Z,{searchParams:s},"ButtonExport")]},rowSelection:{alwaysShowAlert:!0},tableAlertRender:_})})};export{ne as default};
