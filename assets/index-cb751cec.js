import{at as N,bZ as j,C as D,b_ as R,_ as r}from"./index-c6375c14.js";import{R as $,j as t,r as g,a as E}from"./jsx-runtime-5957e344.js";import{U as O}from"./index-7dba6075.js";var w=$.forwardRef(function(e,d){var o=e.fieldProps,s=e.title,x=s===void 0?"单击或拖动文件到此区域进行上传":s,c=e.icon,h=c===void 0?t(j,{}):c,v=e.description,C=v===void 0?"支持单次或批量上传":v,f=e.action,P=e.accept,l=e.onChange,n=e.value,p=e.children,u=e.max,a=e.proFieldProps,F=g.exports.useContext(D.ConfigContext),y=g.exports.useContext(R),U=(a==null?void 0:a.mode)||y.mode||"edit",i=F.getPrefixCls("upload"),b=(u===void 0||!n||(n==null?void 0:n.length)<u)&&U!=="read"&&(a==null?void 0:a.readonly)!==!0;return E(O.Dragger,r(r({ref:d,name:"files",action:f,accept:P,fileList:n},o),{},{onChange:function(m){l==null||l(m),o!=null&&o.onChange&&(o==null||o.onChange(m))},style:r(r({},o==null?void 0:o.style),{},{display:b?void 0:"none"}),children:[t("p",{className:"".concat(i,"-drag-icon"),children:h}),t("p",{className:"".concat(i,"-text"),children:x}),t("p",{className:"".concat(i,"-hint"),children:C}),p?t("div",{className:"".concat(i,"-extra"),style:{padding:16},children:p}):null]}))}),B=N(w,{getValueFromEvent:function(d){return d.fileList}});const Z=B;export{Z as P};
