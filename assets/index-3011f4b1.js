import{u as i,s as S,g,a as c}from"./vanilla-3fa884d6.js";import{e as p,a as l,g as A,f as w}from"./index-f7881e43.js";import{r as n,R as T}from"./jsx-runtime-f6344dff.js";import{w as E}from"./utils.esm-376a1e3d.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const o=e=>i(["global","dict",e],async()=>{const t=await S({dictType:e});return p(t)},{cacheTime:1/0,staleTime:1/0}),N=()=>{const{data:e}=o("sys_normal_disable"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysNormalDisable:t,valueEnumSysNormalDisable:s}},Q=()=>{const{data:e}=o("sys_show_hide"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysShowHide:t,valueEnumSysShowHide:s}},I=()=>{const{data:e}=o("sys_yes_no"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysYesNo:t,valueEnumSysYesNo:s}},K=()=>{const{data:e}=o("sys_notice_type"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysNoticeType:t,valueEnumSysNoticeType:s}},O=()=>{const{data:e}=o("sys_notice_status"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysNoticeStatus:t,valueEnumSysNoticeStatus:s}},Y=()=>{const{data:e}=o("sys_oper_type"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysOperType:t,valueEnumSysOperType:s}},P=()=>{const{data:e}=o("sys_common_status"),t=(e==null?void 0:e.defaultValue)??null,s=(e==null?void 0:e.valueEnum)??new Map;return{defaultValueSysCommonStatus:t,valueEnumSysCommonStatus:s}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const v=(e={})=>l({path:"/info",method:"GET",secure:!0,skipErrorHandler:!1,...e});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const b=(e={})=>l({path:"/routers",method:"GET",secure:!0,skipErrorHandler:!1,...e}),d=n.createContext(void 0),_=e=>{const t=n.useContext(d);return(e==null?void 0:e.store)||t||g()};T.use;function r(e,t){const s=_(t);return n.useCallback((...u)=>{if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&!("write"in e))throw new Error("not writable atom");return s.set(e,...u)},[s,e])}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const h=["global","initialState"],m=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/models/initialState.ts/atomPermissions",c(new Set([])));m.debugLabel="atomPermissions";const C=()=>r(m),y=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/models/initialState.ts/atomKeepAliveRoutes",c([]));y.debugLabel="atomKeepAliveRoutes";const R=()=>r(y),k=()=>{const e=C(),t=R();return i(h,async()=>{const[s,a]=await Promise.all([v(),b()]);e(new Set(s.permissions));const u=A(a);return t(Object.keys(u).filter(f=>u[f].isKeepAlive)),{userInfo:s,routeSettingMap:u,menus:w(a)}},{cacheTime:1/0,staleTime:1/0})},H=()=>{const e=E();return()=>e.invalidateQueries(h)};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{H as a,P as b,Y as c,o as d,I as e,N as f,Q as g,K as h,O as i,k as u};
