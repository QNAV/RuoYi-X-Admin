import{aB as i,aC as u,aH as n,A as l,au as r,aI as g,aJ as f,as as p,aK as A}from"./index-c8d1c66b.js";import{r as c}from"./jsx-runtime-5957e344.js";import{c as C}from"./routes-8a35a220.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const w=()=>{const{data:t}=i();return c.exports.useCallback((e,a)=>{var s;return u(e,new Set(((s=t==null?void 0:t.userInfo)==null?void 0:s.permissions)??[]),a)},[t])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const v=t=>{const e=c.exports.useRef(),a=n(t);return c.exports.useEffect(()=>{a(e.current)},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const x=(t,e=!0)=>{const a=c.exports.useRef(),{pathname:s}=l();c.exports.useEffect(()=>{const o=C.find(h=>r(h,s));if(!!o){if(a.current===void 0&&e){a.current=o;return}if(a.current===void 0&&!e){a.current=o,t();return}!r(a.current,s)||t()}},[s])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const T=(t={})=>g({path:"/logout",method:"POST",secure:!0,skipErrorHandler:!1,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const y=()=>{const t=f(),e=p();return async()=>{await T(),A(),t.clear(),e("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{v as a,w as b,x as c,y as u};
