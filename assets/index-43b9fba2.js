import{aa as u,r as s,ac as n,aj as l,$ as h,ak as g,a3 as r,al as f,am as p,a0 as A,an as C}from"./index-20700433.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const m=()=>{const{data:e}=u();return s.exports.useCallback((t,a)=>{var c,o;return n(t,new Set((o=(c=e==null?void 0:e.userInfo)==null?void 0:c.permissions)!=null?o:[]),a)},[e])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const v=e=>{const t=s.exports.useRef(),a=l(e);return s.exports.useEffect(()=>{a(t.current)},[]),t};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const T=(e,t=!0)=>{const a=s.exports.useRef(),{pathname:c}=h();s.exports.useEffect(()=>{const o=g.find(i=>r(i,c));if(!!o){if(a.current===void 0&&t){a.current=o;return}if(a.current===void 0&&!t){a.current=o,e();return}!r(a.current,c)||e()}},[c])},w=e=>{const t=s.exports.useRef(!1),{pathname:a}=h();s.exports.useEffect(()=>{!t.current||(t.current=!1,e())},[a]),T(()=>{t.current=!0},!1)};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const b=(e={})=>f({path:"/logout",method:"POST",secure:!0,...e});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const x=()=>{const e=p(),t=A();return async()=>{await b(),C(),e.clear(),t("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{v as a,T as b,w as c,m as d,x as u};
