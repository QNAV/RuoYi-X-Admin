import{u as D,j as a,ai as n,aY as P,aZ as R,w as h,q as d,az as l,aF as O,aB as F,e as A,F as k,aG as x,a_ as v,s as I,v as j,g as E,r as T,a$ as N,a1 as B,aC as q,aD as L,aE as V,aA as W,b0 as Y,b1 as X,ah as G,b2 as $,M as z}from"./index.4b7085a9.js";import{d as m}from"./index.fe43d4d2.js";import{b as H,c as K}from"./index.b53a59e1.js";import{a as Z,u as _}from"./utils.6de477ae.js";import{h as J,i as Q,j as U,C as tt,k as et,b as at,l as st}from"./index.b4197fd8.js";import{u as M}from"./useMutation.esm.c58f140b.js";import{P as ot}from"./index.676f92c4.js";import"./useQuery.esm.7f4955e6.js";import"./utils.esm.332a7991.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const ct=({dictId:t})=>{const e=D();return a(n,{type:"link",icon:a(P,{}),onClick:()=>e(`${t}`),children:"\u67E5\u770B"})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const it=({record:t})=>{const e=yt();return a(n,{type:"link",icon:a(R,{}),onClick:()=>e(t),children:"\u7F16\u8F91"})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};async function ut(t,e){return h("/system/dict/type/add",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function rt(t,e){return h("/system/dict/type/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function nt(t,e){return h("/system/dict/type/export",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function ht(t,e){return h("/system/dict/type/list",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function dt(t){return h("/system/dict/type/refreshCache",{method:"POST",...t||{}})}async function lt(t,e){return h("/system/dict/type/remove",{method:"POST",params:{...t},...e||{}})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const S=({dictId:t,dictName:e,disabled:i,isBatch:o})=>{const u=o?"\u6279\u91CF\u5220\u9664":"\u5220\u9664",{canRemoveSysDict:c}=m(),s=w(),{mutateAsync:g,isLoading:r}=M(async C=>{await lt({dictIds:C})},{onSuccess:()=>{var C;s==null||s.reload(),(C=s==null?void 0:s.clearSelected)==null||C.call(s),d.success("\u5220\u9664\u6210\u529F")}});return a(l,{accessible:c,children:a(n,{type:"link",danger:!0,disabled:i,icon:a(O,{}),onClick:()=>{F.confirm({title:"\u5220\u9664\u5B57\u5178",content:A(k,{children:["\u786E\u5B9A\u5220\u9664\u5B57\u5178",a(x.Text,{code:!0,children:e}),"\u5417\uFF1F"]}),onOk:async()=>g(t),okButtonProps:{loading:r}})},children:u})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const mt=[J,Q,U,tt,et,at,st,{title:"\u64CD\u4F5C",valueType:"option",render:(t,e)=>A(v,{children:[a(ct,{dictId:e.dictId}),a(it,{record:e}),a(S,{dictId:e.dictId,dictName:e.dictName})]})}];globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const b=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/dict/model/index.ts/atomMainTableActions",I(void 0));b.debugLabel="atomMainTableActions";const w=()=>j(b),pt=()=>H(b),p=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/dict/model/index.ts/atomAddOrEditModal",Z({actionType:"add",open:!1}));p.debugLabel="atomAddOrEditModal";const gt=()=>j(p),Ct=()=>_(p),At=()=>{const t=E(p);return()=>{t({actionType:"add",open:!0})}},yt=()=>{const t=E(p);return e=>{t({actionType:"edit",open:!0,record:e})}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Tt=()=>{const t=T.exports.useRef(),{canAddSysDict:e,canEditSysDict:i}=m(),o=w(),{open:u,actionType:c,record:s}=gt(),g=Ct();return T.exports.useEffect(()=>{var r;u&&c==="edit"&&((r=t.current)==null||r.setFieldsValue(s))},[u]),a(l,{accessible:e||i,children:A(N,{formRef:t,width:500,title:c==="add"?"\u65B0\u589E\u5B57\u5178\u7C7B\u578B":"\u7F16\u8F91\u5B57\u5178\u7C7B\u578B",open:u,modalProps:{onCancel:g,okText:"\u63D0\u4EA4"},onFinish:async r=>{var y;c==="add"?(await ut(r),d.success("\u65B0\u589E\u6210\u529F")):(await rt({...r,dictId:s.dictId}),d.success("\u7F16\u8F91\u6210\u529F")),o==null||o.reload(),g(),(y=t.current)==null||y.resetFields()},children:[a(B,{name:"dictName",label:"\u5B57\u5178\u540D\u79F0",required:!0,rules:[{required:!0}]}),a(B,{name:"dictType",label:"\u5B57\u5178\u7C7B\u578B",required:!0,rules:[{required:!0}]}),a(q.Group,{name:"status",label:"\u72B6\u6001",valueEnum:L,initialValue:V.ENABLE}),a(ot,{name:"remark",label:"\u5907\u6CE8"})]})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const bt=()=>{const{canAddSysDict:t}=m(),e=At();return a(l,{accessible:t,children:a(n,{icon:a(W,{}),type:"primary",onClick:e,children:"\u65B0\u589E"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Bt=({searchParams:t})=>{const e=m(),{isLoading:i,mutate:o}=M(()=>nt(t),{onSuccess:()=>{d.success("\u5BFC\u51FA\u6210\u529F")}});return a(l,{accessible:e.canExportSysPost,children:a(n,{ghost:!0,type:"primary",icon:a(Y,{}),loading:i,onClick:()=>o(),children:"\u5BFC\u51FA\u5F53\u524D\u5217\u8868"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const ft=()=>{const{canRemoveSysDict:t}=m();return a(l,{accessible:t,children:a(n,{danger:!0,icon:a(X,{}),onClick:()=>{F.confirm({title:"\u786E\u5B9A\u8981\u5237\u65B0\u7F13\u5B58\u5417\uFF1F",content:"\u5237\u65B0\u7F13\u5B58\u540E\uFF0C\u6240\u6709\u5B57\u5178\u6570\u636E\u5C06\u91CD\u65B0\u52A0\u8F7D",onOk:async()=>{await dt(),d.success("\u5237\u65B0\u6210\u529F")}})},children:"\u5237\u65B0\u7F13\u5B58"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const f="dictId",Ft=({selectedRows:t})=>a(S,{disabled:t.length===0,isBatch:!0,dictId:t.map(e=>e.dictId).join(","),dictName:t.map(e=>e.dictName).join(",")}),jt=()=>{const{rowSelection:t,onClick:e}=K(f),i=pt(),[o,u]=T.exports.useState({});return a(G,{rowKey:f,actionRef:i,columns:mt,tableAlertOptionRender:Ft,rowSelection:t,onRow:c=>({onClick:()=>{e(c)}}),request:async(...c)=>{const s=$(...c);return u(s),await ht(s)},toolbar:{actions:[a(ft,{},"ButtonRefresh"),a(Bt,{searchParams:o},"ButtonExport"),a(bt,{},"ButtonAdd")]}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const xt=()=>A(z,{children:[a(jt,{}),a(Tt,{})]});export{xt as default};
