import{r as l,be as Oe,n as q,e as z,bJ as vt,a9 as Ct,ba as bt,bb as St,bd as wt,bK as It,bL as $t,bM as De,bN as Et,bO as Ue,a8 as Rt,bP as Pt,N as Be,m as He,bQ as nt,a as Ve,_ as we,k as r,j as s,b as _,q as $e,d as P,x as Ye,O as le,bR as Tt,bS as Nt,bT as kt,bU as At,bV as Dt,u as Kt,bW as Bt,bX as _t,Q as Mt,X as ot,V as zt,aj as jt,av as it,bY as Lt,bZ as Ot,b_ as rt,b$ as st,c0 as lt,ay as Ht,p as _e,c1 as Vt,Y as Ee,c2 as Wt,ao as Ft,a4 as We,c3 as Gt,E as qt,f as Ie,c4 as Xt,U as Qt,a1 as Ut,c5 as Yt,$ as Jt,F as Zt,aD as ea,D as ta,c6 as aa,a3 as na,c7 as oa,c8 as ia,o as ra,aK as Le,c9 as sa,bD as la,aG as ca,aH as da,C as ct,aJ as dt,aE as Fe,ca as ua,cb as ma,cc as ha,B as ga}from"./index-63c31f29.js";import{u as Ge}from"./useMutation-f7b32502.js";import{a as pa,u as fa}from"./utils-322c6316.js";import{P as Je}from"./index-880a5826.js";import{i as Ze,u as xa}from"./useRequest-39b45258.js";import{P as ya}from"./index-87ae73f9.js";var ut=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const va=e=>{var{prefixCls:t,className:a,avatar:n,title:o,description:c}=e,i=ut(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:m}=l.useContext(Oe),y=m("list",t),C=q(`${y}-item-meta`,a),h=z.createElement("div",{className:`${y}-item-meta-content`},o&&z.createElement("h4",{className:`${y}-item-meta-title`},o),c&&z.createElement("div",{className:`${y}-item-meta-description`},c));return z.createElement("div",Object.assign({},i,{className:C}),n&&z.createElement("div",{className:`${y}-item-meta-avatar`},n),(o||c)&&h)},Ca=(e,t)=>{var{prefixCls:a,children:n,actions:o,extra:c,className:i,colStyle:m}=e,y=ut(e,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:C,itemLayout:h}=l.useContext(qe),{getPrefixCls:u}=l.useContext(Oe),v=()=>{let x;return l.Children.forEach(n,k=>{typeof k=="string"&&(x=!0)}),x&&l.Children.count(n)>1},d=()=>h==="vertical"?!!c:!v(),f=u("list",a),N=o&&o.length>0&&z.createElement("ul",{className:`${f}-item-action`,key:"actions"},o.map((x,k)=>z.createElement("li",{key:`${f}-item-action-${k}`},x,k!==o.length-1&&z.createElement("em",{className:`${f}-item-action-split`})))),E=C?"div":"li",$=z.createElement(E,Object.assign({},y,C?{}:{ref:t},{className:q(`${f}-item`,{[`${f}-item-no-flex`]:!d()},i)}),h==="vertical"&&c?[z.createElement("div",{className:`${f}-item-main`,key:"content"},n,N),z.createElement("div",{className:`${f}-item-extra`,key:"extra"},c)]:[n,N,vt(c,{key:"extra"})]);return C?z.createElement(Ct,{ref:t,flex:1,style:m},$):$},mt=l.forwardRef(Ca);mt.Meta=va;const ba=mt,Sa=e=>{const{listBorderedCls:t,componentCls:a,paddingLG:n,margin:o,padding:c,listItemPaddingSM:i,marginLG:m,borderRadiusLG:y}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:y,[`${a}-header,${a}-footer,${a}-item`]:{paddingInline:n},[`${a}-pagination`]:{margin:`${o}px ${m}px`}},[`${t}${a}-sm`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:i}},[`${t}${a}-lg`]:{[`${a}-item,${a}-header,${a}-footer`]:{padding:`${c}px ${n}px`}}}},wa=e=>{const{componentCls:t,screenSM:a,screenMD:n,marginLG:o,marginSM:c,margin:i}=e;return{[`@media screen and (max-width:${n})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${a})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:c}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${i}px`}}}}}},Ia=e=>{const{componentCls:t,antCls:a,controlHeight:n,minHeight:o,paddingSM:c,marginLG:i,padding:m,listItemPadding:y,colorPrimary:C,listItemPaddingSM:h,listItemPaddingLG:u,paddingXS:v,margin:d,colorText:f,colorTextDescription:N,motionDurationSlow:E,lineWidth:$}=e,x={};return["start","center","end"].forEach(k=>{x[`&-align-${k}`]={textAlign:k}}),{[`${t}`]:Object.assign(Object.assign({},wt(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:c},[`${t}-pagination`]:Object.assign(Object.assign({marginBlockStart:i},x),{[`${a}-pagination-options`]:{textAlign:"start"}}),[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:y,color:f,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:m},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:f},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:f,transition:`all ${E}`,["&:hover"]:{color:C}}},[`${t}-item-meta-description`]:{color:N,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none",["& > li"]:{position:"relative",display:"inline-block",padding:`0 ${v}px`,color:N,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center",["&:first-child"]:{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:$,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${m}px 0`,color:N,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:m,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${a}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:i},[`${t}-item-meta`]:{marginBlockEnd:m,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:c,color:f,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:m,marginInlineStart:"auto","> li":{padding:`0 ${m}px`,["&:first-child"]:{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,["&:last-child"]:{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:n},[`${t}-split${t}-something-after-last-item ${a}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:u},[`${t}-sm ${t}-item`]:{padding:h},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},$a=bt("List",e=>{const t=St(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px ${e.paddingContentHorizontalLG}px`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[Ia(t),Sa(t),wa(t)]},{contentWidth:220});var Ea=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(a[n[o]]=e[n[o]]);return a};const qe=l.createContext({});qe.Consumer;function Ke(e){var t,{pagination:a=!1,prefixCls:n,bordered:o=!1,split:c=!0,className:i,rootClassName:m,children:y,itemLayout:C,loadMore:h,grid:u,dataSource:v=[],size:d,header:f,footer:N,loading:E=!1,rowKey:$,renderItem:x,locale:k}=e,X=Ea(e,["pagination","prefixCls","bordered","split","className","rootClassName","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const b=a&&typeof a=="object"?a:{},[F,T]=l.useState(b.defaultCurrent||1),[Q,U]=l.useState(b.defaultPageSize||10),{getPrefixCls:w,renderEmpty:O,direction:J}=l.useContext(Oe),H={current:1,total:0},ne=p=>(g,M)=>{T(g),U(M),a&&a[p]&&a[p](g,M)},re=ne("onChange"),se=ne("onShowSizeChange"),Y=(p,g)=>{if(!x)return null;let M;return typeof $=="function"?M=$(p):$?M=p[$]:M=p.key,M||(M=`list-item-${g}`),l.createElement(l.Fragment,{key:M},x(p,g))},oe=()=>!!(h||a||N),I=w("list",n),[D,G]=$a(I);let A=E;typeof A=="boolean"&&(A={spinning:A});const R=A&&A.spinning;let B="";switch(d){case"large":B="lg";break;case"small":B="sm";break}const L=q(I,{[`${I}-vertical`]:C==="vertical",[`${I}-${B}`]:B,[`${I}-split`]:c,[`${I}-bordered`]:o,[`${I}-loading`]:R,[`${I}-grid`]:!!u,[`${I}-something-after-last-item`]:oe(),[`${I}-rtl`]:J==="rtl"},i,m,G),K=It(H,{total:v.length,current:F,pageSize:Q},a||{}),V=Math.ceil(K.total/K.pageSize);K.current>V&&(K.current=V);const Z=a?l.createElement("div",{className:q(`${I}-pagination`,`${I}-pagination-align-${(t=K==null?void 0:K.align)!==null&&t!==void 0?t:"end"}`)},l.createElement($t,Object.assign({},K,{onChange:re,onShowSizeChange:se}))):null;let ee=De(v);a&&v.length>(K.current-1)*K.pageSize&&(ee=De(v).splice((K.current-1)*K.pageSize,K.pageSize));const he=Object.keys(u||{}).some(p=>["xs","sm","md","lg","xl","xxl"].includes(p)),ce=Et(he),W=l.useMemo(()=>{for(let p=0;p<Ue.length;p+=1){const g=Ue[p];if(ce[g])return g}},[ce]),ge=l.useMemo(()=>{if(!u)return;const p=W&&u[W]?u[W]:u.column;if(p)return{width:`${100/p}%`,maxWidth:`${100/p}%`}},[u==null?void 0:u.column,W]);let ie=R&&l.createElement("div",{style:{minHeight:53}});if(ee.length>0){const p=ee.map((g,M)=>Y(g,M));ie=u?l.createElement(Rt,{gutter:u.gutter},l.Children.map(p,g=>l.createElement("div",{key:g==null?void 0:g.key,style:ge},g))):l.createElement("ul",{className:`${I}-items`},p)}else!y&&!R&&(ie=l.createElement("div",{className:`${I}-empty-text`},k&&k.emptyText||(O==null?void 0:O("List"))||l.createElement(Pt,{componentName:"List"})));const j=K.position||"bottom",S=l.useMemo(()=>({grid:u,itemLayout:C}),[JSON.stringify(u),C]);return D(l.createElement(qe.Provider,{value:S},l.createElement("div",Object.assign({className:L},X),(j==="top"||j==="both")&&Z,f&&l.createElement("div",{className:`${I}-header`},f),l.createElement(Be,Object.assign({},A),ie,y),N&&l.createElement("div",{className:`${I}-footer`},N),h||(j==="bottom"||j==="both")&&Z)))}Ke.Item=ba;function Ra(e,t){for(var a=e,n=0;n<t.length;n+=1){if(a==null)return;a=a[t[n]]}return a}var Pa=["title","subTitle","avatar","description","extra","content","actions","type"],Ta=Pa.reduce(function(e,t){return e.set(t,!0),e},new Map);function Na(e,t){return Ka(e)||Da(e,t)||Aa(e,t)||ka()}function ka(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aa(e,t){if(e){if(typeof e=="string")return et(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return et(e,t)}}function et(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function Da(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var a=[],n=!0,o=!1,c=void 0;try{for(var i=e[Symbol.iterator](),m;!(n=(m=i.next()).done)&&(a.push(m.value),!(t&&a.length===t));n=!0);}catch(y){o=!0,c=y}finally{try{!n&&i.return!=null&&i.return()}finally{if(o)throw c}}return a}}function Ka(e){if(Array.isArray(e))return e}function Ba(e,t){var a=t||{},n=a.defaultValue,o=a.value,c=a.onChange,i=a.postState,m=l.useState(function(){return o!==void 0?o:n!==void 0?typeof n=="function"?n():n:typeof e=="function"?e():e}),y=Na(m,2),C=y[0],h=y[1],u=o!==void 0?o:C;i&&(u=i(u));function v(f){h(f),u!==f&&c&&c(f,u)}var d=l.useRef(!0);return l.useEffect(function(){if(d.current){d.current=!1;return}o===void 0&&h(o)},[o]),[u,v]}var _a=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function Ma(e){var t,a=e.prefixCls,n=e.expandIcon,o=n===void 0?s(Tt,{}):n,c=e.onExpand,i=e.expanded,m=e.record,y=e.hashId,C=o,h="".concat(a,"-row-expand-icon"),u=function(d){c(!i),d.stopPropagation()};return typeof o=="function"&&(C=o({expanded:i,onExpand:c,record:m})),s("span",{className:q(h,y,(t={},r(t,"".concat(a,"-row-expanded"),i),r(t,"".concat(a,"-row-collapsed"),!i),t)),onClick:u,children:C})}function za(e){var t,a,n,o,c,i=e.prefixCls,m=l.useContext(He.ConfigContext),y=m.getPrefixCls,C=l.useContext(nt),h=C.hashId,u=y("pro-list",i),v="".concat(u,"-row"),d=e.title,f=e.subTitle,N=e.content,E=e.itemTitleRender;e.prefixCls;var $=e.actions;e.item,e.recordKey;var x=e.avatar,k=e.cardProps,X=e.description,b=e.isEditable,F=e.checkbox,T=e.index,Q=e.selected,U=e.loading,w=e.expand,O=e.onExpand,J=e.expandable,H=e.rowSupportExpand,ne=e.showActions,re=e.showExtra,se=e.type,Y=e.style,oe=e.className,I=oe===void 0?v:oe,D=e.record,G=e.onRow,A=e.onItem,R=e.itemHeaderRender,B=e.cardActionProps,L=e.extra,K=Ve(e,_a),V=J||{},Z=V.expandedRowRender,ee=V.expandIcon,he=V.expandRowByClick,ce=V.indentSize,W=ce===void 0?8:ce,ge=V.expandedRowClassName,ie=Ba(!!w,{value:w,onChange:O}),j=we(ie,2),S=j[0],p=j[1],g=q((t={},r(t,"".concat(v,"-selected"),!k&&Q),r(t,"".concat(v,"-show-action-hover"),ne==="hover"),r(t,"".concat(v,"-type-").concat(se),!!se),r(t,"".concat(v,"-editable"),b),r(t,"".concat(v,"-show-extra-hover"),re==="hover"),t),h,v),M=q(h,r({},"".concat(I,"-extra"),re==="hover")),pe=S||Object.values(J||{}).length===0,fe=Z&&Z(D,T,W,S),de=l.useMemo(function(){if(!(!$||B==="actions"))return[s("div",{onClick:function(ae){return ae.stopPropagation()},children:$},"action")]},[$,B]),Re=l.useMemo(function(){if(!(!$||!B||B==="extra"))return[s("div",{className:"".concat(g,"-actions ").concat(h),onClick:function(ae){return ae.stopPropagation()},children:$},"action")]},[$,B,g,h]),be=d||f?_("div",{className:"".concat(g,"-header-title ").concat(h),children:[d&&s("div",{className:"".concat(g,"-title ").concat(h),children:d}),f&&s("div",{className:"".concat(g,"-subTitle ").concat(h),children:f})]}):null,xe=(a=E&&(E==null?void 0:E(D,T,be)))!==null&&a!==void 0?a:be,Pe=xe||x||f||X?s(Ke.Item.Meta,{avatar:x,title:xe,description:X&&pe&&s("div",{className:"".concat(g,"-description ").concat(h),children:X})}):null,Te=q(h,(n={},r(n,"".concat(g,"-item-has-checkbox"),F),r(n,"".concat(g,"-item-has-avatar"),x),r(n,g,g),n)),te=l.useMemo(function(){return x||d?_($e,{children:[x,s("span",{className:"".concat(y("list-item-meta-title")," ").concat(h),children:d})]}):null},[x,y,h,d]),ye=k?s(le,P(P(P({bordered:!0,loading:U,hoverable:!0},k),{},{title:te,subTitle:f,extra:de,actions:Re,bodyStyle:P({padding:24},k.bodyStyle)},A==null?void 0:A(D,T)),{},{children:s(Ye,{avatar:!0,title:!1,loading:U,active:!0,children:_("div",{className:"".concat(g,"-header ").concat(h),children:[E&&(E==null?void 0:E(D,T,be)),N]})})})):s(Ke.Item,P(P(P(P({className:q(Te,h,r({},I,I!==v))},K),{},{actions:de,extra:!!L&&s("div",{className:M,children:L})},G==null?void 0:G(D,T)),A==null?void 0:A(D,T)),{},{onClick:function(ae){var ue,ve,Ne,ze;G==null||(ue=G(D,T))===null||ue===void 0||(ve=ue.onClick)===null||ve===void 0||ve.call(ue,ae),A==null||(Ne=A(D,T))===null||Ne===void 0||(ze=Ne.onClick)===null||ze===void 0||ze.call(Ne,ae),he&&p(!S)},children:_(Ye,{avatar:!0,title:!1,loading:U,active:!0,children:[_("div",{className:"".concat(g,"-header ").concat(h),children:[_("div",{className:"".concat(g,"-header-option ").concat(h),children:[!!F&&s("div",{className:"".concat(g,"-checkbox ").concat(h),children:F}),Object.values(J||{}).length>0&&H&&Ma({prefixCls:u,hashId:h,expandIcon:ee,onExpand:p,expanded:S,record:D})]}),(o=R&&(R==null?void 0:R(D,T,Pe)))!==null&&o!==void 0?o:Pe]}),pe&&(N||fe)&&_("div",{className:"".concat(g,"-content ").concat(h),children:[N,Z&&H&&s("div",{className:ge&&ge(D,T,W),children:fe})]})]})}));return k?s("div",{className:q(h,(c={},r(c,"".concat(g,"-card"),k),r(c,I,I!==v),c)),style:Y,children:ye}):ye}var ja=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function La(e){var t=e.dataSource,a=e.columns,n=e.rowKey,o=e.showActions,c=e.showExtra,i=e.prefixCls,m=e.actionRef,y=e.itemTitleRender,C=e.renderItem,h=e.itemCardProps,u=e.itemHeaderRender,v=e.expandable,d=e.rowSelection,f=e.pagination,N=e.onRow,E=e.onItem,$=e.rowClassName,x=Ve(e,ja),k=l.useContext(nt),X=k.hashId,b=l.useContext(He.ConfigContext),F=b.getPrefixCls,T=z.useMemo(function(){return typeof n=="function"?n:function(j,S){return j[n]||S}},[n]),Q=Nt(t,"children",T),U=we(Q,1),w=U[0],O=kt(t.length,P({responsive:!0},f),function(){}),J=we(O,1),H=J[0],ne=z.useMemo(function(){if(f===!1||!H.pageSize||t.length<H.total)return t;var j=H.current,S=j===void 0?1:j,p=H.pageSize,g=p===void 0?10:p,M=t.slice((S-1)*g,S*g);return M},[t,H,f]),re=F("pro-list",i),se=At(d,{getRowKey:T,getRecordByKey:w,prefixCls:re,data:t,pageData:ne,expandType:"row",childrenColumnName:"children",locale:{}}),Y=we(se,2),oe=Y[0],I=Y[1],D=v||{},G=D.expandedRowKeys,A=D.defaultExpandedRowKeys,R=D.defaultExpandAllRows,B=R===void 0?!0:R,L=D.onExpand,K=D.onExpandedRowsChange,V=D.rowExpandable,Z=z.useState(function(){return A||(B!==!1?t.map(T):[])}),ee=we(Z,2),he=ee[0],ce=ee[1],W=z.useMemo(function(){return new Set(G||he||[])},[G,he]),ge=z.useCallback(function(j){var S=T(j,t.indexOf(j)),p,g=W.has(S);g?(W.delete(S),p=De(W)):p=[].concat(De(W),[S]),ce(p),L&&L(!g,j),K&&K(p)},[T,W,t,L,K]),ie=oe([])[0];return s(Ke,P(P({},x),{},{className:q(F("pro-list-container",i),X,x.className),dataSource:ne,pagination:f&&H,renderItem:function(S,p){var g,M,pe,fe={className:typeof $=="function"?$(S,p):$};a==null||a.forEach(function(te){var ye=te.listKey,Se=te.cardActionProps;if(Ta.has(ye)){var ae=te.dataIndex||ye||te.key,ue=Array.isArray(ae)?Ra(S,ae):S[ae];Se==="actions"&&ye==="actions"&&(fe.cardActionProps=Se);var ve=te.render?te.render(ue,S,p):ue;ve!=="-"&&(fe[te.listKey]=ve)}});var de;ie&&ie.render&&(de=ie.render(S,S,p)||void 0);var Re=((g=m.current)===null||g===void 0?void 0:g.isEditable(P(P({},S),{},{index:p})))||{},be=Re.isEditable,xe=Re.recordKey,Pe=I.has(xe||p),Te=s(za,P(P({cardProps:x.grid?P(P(P({},h),x.grid),{},{checked:Pe,onChecked:z.isValidElement(de)?(M=de)===null||M===void 0||(pe=M.props)===null||pe===void 0?void 0:pe.onChange:void 0}):void 0},fe),{},{recordKey:xe,isEditable:be||!1,expandable:v,expand:W.has(T(S,p)),onExpand:function(){ge(S)},index:p,record:S,item:S,showActions:o,showExtra:c,itemTitleRender:y,itemHeaderRender:u,rowSupportExpand:!V||V&&V(S),selected:I.has(T(S,p)),checkbox:de,onRow:N,onItem:E}),xe);return C?C(S,p,Te):Te}}))}var Oa=new Dt("techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),Ha=function(t){var a,n,o,c,i,m;return r({},t.componentCls,(m={backgroundColor:"transparent"},r(m,"".concat(t.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),r(m,"&-row",(i={borderBlockEnd:"1px solid ".concat(t.colorSplit)},r(i,"".concat(t.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),r(i,"&:last-child",r({borderBlockEnd:"none"},"".concat(t.antCls,"-list-item"),{borderBlockEnd:"none"})),r(i,"&:hover",(a={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},r(a,"".concat(t.antCls,"-list-item-action"),{display:"block"}),r(a,"".concat(t.antCls,"-list-item-extra"),{display:"flex"}),r(a,"".concat(t.componentCls,"-row-extra"),{display:"block"}),r(a,"".concat(t.componentCls,"-row-subheader-actions"),{display:"block"}),a)),r(i,"&-card",r({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(t.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),r(i,"&".concat(t.componentCls,"-row-editable"),r({},"".concat(t.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),r(i,"&".concat(t.componentCls,"-row-selected"),{backgroundColor:t.colorPrimaryBgHover,"&:hover":{backgroundColor:t.colorPrimaryBgHover}}),r(i,"&".concat(t.componentCls,"-row-type-new"),{animationName:Oa,animationDuration:"3s"}),r(i,"&".concat(t.componentCls,"-row-type-inline"),r({},"".concat(t.componentCls,"-row-title"),{fontWeight:"normal"})),r(i,"&".concat(t.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),r(i,"&-show-action-hover",r({},"".concat(t.antCls,`-list-item-action,
            `).concat(t.proComponentsCls,`-card-extra,
            `).concat(t.proComponentsCls,"-card-actions"),{display:"flex"})),r(i,"&-show-extra-hover",r({},"".concat(t.antCls,"-list-item-extra"),{display:"none"})),r(i,"&-extra",{display:"none"}),r(i,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:t.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),r(i,"&-expand-icon",{marginInlineEnd:8,display:"flex",fontSize:12,cursor:"pointer",height:"24px",marginRight:4,color:t.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),r(i,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),r(i,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:t.colorPrimary}}),r(i,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),r(i,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),r(i,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),r(i,"&-avatar",{display:"flex"}),r(i,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start",h4:{margin:0,padding:0}}),r(i,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),r(i,"&-header-option",{display:"flex"}),r(i,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),r(i,"&-no-split",(n={},r(n,"".concat(t.componentCls,"-row"),{borderBlockEnd:"none"}),r(n,"".concat(t.antCls,"-list ").concat(t.antCls,"-list-item"),{borderBlockEnd:"none"}),n)),r(i,"&-bordered",r({},"".concat(t.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(t.colorSplit)})),r(i,"".concat(t.antCls,"-list-vertical"),(o={},r(o,"".concat(t.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),r(o,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),r(o,"&-content",{marginBlock:0,marginInline:0}),r(o,"&-subTitle",{marginBlockStart:8}),r(o,"".concat(t.antCls,"-list-item-extra"),r({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(t.componentCls,"-row-description"),{marginBlockStart:16})),r(o,"".concat(t.antCls,"-list-bordered ").concat(t.antCls,"-list-item"),{paddingInline:0}),r(o,"".concat(t.componentCls,"-row-show-extra-hover"),r({},"".concat(t.antCls,"-list-item-extra "),{display:"none"})),o)),r(i,"".concat(t.antCls,"-list-pagination"),{marginBlockStart:t.margin,marginBlockEnd:t.margin}),r(i,"".concat(t.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),r(i,"".concat(t.antCls,"-list-vertical ").concat(t.proComponentsCls,"-list-row"),r({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(t.antCls,"-list-item"),(c={width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18},r(c,"".concat(t.antCls,"-list-item-meta-avatar"),{display:"flex",alignItems:"center",marginInlineEnd:8}),r(c,"".concat(t.antCls,"-list-item-action-split"),{display:"none"}),r(c,"".concat(t.antCls,"-list-item-meta-title"),{marginBlock:0,marginInline:0}),c))),i)),m))};function Va(e){return Kt("ProList",function(t){var a=P(P({},t),{},{componentCls:".".concat(e)});return[Ha(a)]})}var Wa=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function Fa(e){var t=e.metas,a=e.split,n=e.footer,o=e.rowKey,c=e.tooltip,i=e.className,m=e.options,y=m===void 0?!1:m,C=e.search,h=C===void 0?!1:C,u=e.expandable,v=e.showActions,d=e.showExtra,f=e.rowSelection,N=f===void 0?!1:f,E=e.pagination,$=E===void 0?!1:E,x=e.itemLayout,k=e.renderItem,X=e.grid,b=e.itemCardProps,F=e.onRow,T=e.onItem,Q=e.rowClassName,U=e.locale,w=e.itemHeaderRender,O=e.itemTitleRender,J=Ve(e,Wa),H=l.useRef();l.useImperativeHandle(J.actionRef,function(){return H.current});var ne=l.useContext(He.ConfigContext),re=ne.getPrefixCls,se=l.useMemo(function(){var A=[];return Object.keys(t||{}).forEach(function(R){var B=t[R]||{},L=B.valueType;L||(R==="avatar"&&(L="avatar"),R==="actions"&&(L="option"),R==="description"&&(L="textarea")),A.push(P(P({listKey:R,dataIndex:(B==null?void 0:B.dataIndex)||R},B),{},{valueType:L}))}),A},[t]),Y=re("pro-list",e.prefixCls),oe=Va(Y),I=oe.wrapSSR,D=oe.hashId,G=q(Y,D,r({},"".concat(Y,"-no-split"),!a));return I(s(_t,P(P({tooltip:c},J),{},{actionRef:H,pagination:$,type:"list",rowSelection:N,search:h,options:y,className:q(Y,i,G),columns:se,rowKey:o,tableViewRender:function(R){var B=R.columns,L=R.size,K=R.pagination,V=R.rowSelection,Z=R.dataSource,ee=R.loading;return s(La,{grid:X,itemCardProps:b,itemTitleRender:O,prefixCls:e.prefixCls,columns:B,renderItem:k,actionRef:H,dataSource:Z||[],size:L,footer:n,split:a,rowKey:o,expandable:u,rowSelection:N===!1?void 0:V,showActions:v,showExtra:d,pagination:K,itemLayout:x,loading:ee,itemHeaderRender:w,onRow:F,onItem:T,rowClassName:Q,locale:U})}})))}function Ga(e){return s(Bt,{needDeps:!0,children:s(Fa,P({},e))})}const Ae=new Set;let me,tt={xs:0,sm:576,md:768,lg:992,xl:1200};function je(){const e=me;if(ht(),e!==me)for(const t of Ae)t()}let ke=!1;function ht(){const e=window.innerWidth,t={};let a=!1;for(const n of Object.keys(tt))t[n]=e>=tt[n],t[n]!==me[n]&&(a=!0);a&&(me=t)}function qa(){Ze&&!ke&&(me={},ht(),window.addEventListener("resize",je),ke=!0);const[e,t]=l.useState(me);return l.useEffect(()=>{if(!Ze)return;ke||window.addEventListener("resize",je);const a=()=>{t(me)};return Ae.add(a),()=>{Ae.delete(a),Ae.size===0&&(window.removeEventListener("resize",je),ke=!1)}},[]),e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Xe=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleListActions",Mt(void 0));Xe.debugLabel="atomRoleListActions";const Qe=()=>ot(Xe),Xa=()=>zt(Xe),Me=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleDetails",pa({open:!1,roleId:0}));Me.debugLabel="atomRoleDetails";const Qa=()=>fa(Me),Ua=()=>{const e=jt(Me);return t=>{e({open:!0,roleId:t})}},Ce=()=>ot(Me),gt="sysRole",pt=[gt,"details"],ft=e=>{const{roleId:t}=Ce(),a=it(pt,()=>Lt({roleId:t}),{onSuccess:e,enabled:!1});return l.useEffect(()=>{t>0&&a.refetch()},[t]),a},xt=[gt,"tree"],Ya=e=>{const{roleId:t}=Ce(),a=it(xt,async()=>{const{menus:n,checkedKeys:o}=await Ot({roleId:t});return{treeData:n,selectedMenuIds:o,selectedTreeData:rt(n,o),allMenuIds:st(n),allExpandedKeys:lt(n)}},{onSuccess:n=>{e(n.selectedTreeData)},enabled:!1});return l.useEffect(()=>{t>0&&a.refetch()},[t]),a},yt=e=>{const t=Ht();return Ge(async a=>{const n=t.getQueryData(pt),o=t.getQueryData(xt);await Vt({roleId:n.roleId,roleKey:n.roleKey,roleName:n.roleName,roleSort:n.roleSort,status:n.status,menuIds:o.selectedMenuIds,menuCheckStrictly:"NO",deptCheckStrictly:"NO",...a})},{onSuccess:async()=>{e(),_e.success("保存成功")}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ja=()=>{const{defaultValueSysNormalDisable:e,valueEnumSysNormalDisable:t}=We();return[{title:"角色名称",dataIndex:"roleName",key:"roleName",valueType:"text",formItemProps:{rules:[{required:!0,message:"请输入角色名称"}]}},{title:"权限字符",dataIndex:"roleKey",key:"roleKey",valueType:"text",tooltip:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",formItemProps:{rules:[{required:!0,message:"请输入权限字符"}]}},{valueType:"group",columns:[{title:"状态",dataIndex:"status",key:"status",valueEnum:t,valueType:"radio",formItemProps:{initialValue:e,rules:[{required:!0,message:"请选择状态"}]}},{title:"显示排序",dataIndex:"roleSort",key:"roleSort",valueType:"digit",formItemProps:{initialValue:0,rules:[{required:!0,message:"请输入显示排序"}]}}]},{title:"备注",dataIndex:"remark",key:"remark",valueType:"textarea"}]},Za=()=>{const e=l.useRef(),t=Qe(),a=Ja();return s(Ee,{accessKey:"system:role:add",children:s(Wt,{title:"新增角色",trigger:s(Ft,{}),formRef:e,onFinish:async o=>{var c;return await Gt({...o,menuIds:[],menuCheckStrictly:"NO",deptCheckStrictly:"NO"}),t==null||t.reload(),_e.success("新增成功"),(c=e.current)==null||c.resetFields(),!0},width:500,modalProps:{okText:"提交"},layoutType:"ModalForm",columns:a})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const en=()=>{const e=qt(),{roleId:t,open:a}=Ce();return s(Ee,{accessKey:"system:user:edit",children:s(Ie,{type:"primary",ghost:!0,onClick:()=>e(Xt("/system/role-auth/:roleId",{roleId:t.toString()})),icon:s(Qt,{}),disabled:!a,children:"分配用户"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const tn=()=>{const e=Qe(),t=Qa(),{roleId:a,open:n}=Ce(),{isLoading:o,mutateAsync:c}=Ge(Yt,{onSuccess:()=>{var m;e==null||e.reload(),(m=e==null?void 0:e.clearSelected)==null||m.call(e),t(),_e.success("删除成功")}});return s(Ee,{accessKey:"system:role:remove",children:s(Ut,{type:"primary",size:"middle",disabled:!n,onClick:()=>Jt.confirm({title:"操作确认",content:`确定删除角色编号为 ${a} 的角色吗？`,onOk:()=>c({roleIds:[a]}),okButtonProps:{loading:o}})})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const an=[{title:"角色编号",dataIndex:"roleId",key:"roleId",valueType:"text"},{title:"创建时间",dataIndex:"createTime",key:"createTime",valueType:"dateTime"}],nn=()=>{const{valueEnumSysNormalDisable:e}=We();return[{title:"状态",dataIndex:"status",key:"status",valueEnum:e,valueType:"radio"},{title:"显示排序",dataIndex:"roleSort",key:"roleSort",valueType:"digit"},{title:"角色名称",dataIndex:"roleName",key:"roleName",valueType:"text",formItemProps:{required:!0,rules:[{required:!0,message:"请输入角色名称"}]}},{title:"备注",dataIndex:"remark",key:"remark",valueType:"textarea"},{title:"权限字符",dataIndex:"roleKey",key:"roleKey",valueType:"text",tooltip:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",formItemProps:{required:!0,rules:[{required:!0,message:"请输入权限字符"}]}}]},on=()=>{const[e,t]=l.useState([]),[a]=Zt.useForm(),n=nn(),o=Qe(),{data:c,isFetching:i,refetch:m}=ft(()=>{t([]),a.resetFields()}),{mutateAsync:y}=yt(()=>{m(),o==null||o.reload()}),h=ea()("system:role:edit")?{form:a,editableKeys:e,onChange:(u,v)=>{if(t(u),u.length>0){const d=u[0];a.setFieldsValue({[d]:v[d]})}},onSave:async(u,v)=>{await y({[u]:v[u]})}}:void 0;return _(Be,{spinning:i,children:[s(Je,{column:2,columns:an,dataSource:c}),s(ta,{}),s(Je,{column:2,columns:n,dataSource:c,editable:h})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const rn=()=>{const{valueEnumSysNormalDisable:e}=We();return{title:{title:"角色名称",dataIndex:"roleName",valueType:"text"},subTitle:{title:"状态",dataIndex:"status",valueType:"select",valueEnum:e},description:{title:"权限字符",dataIndex:"roleKey",valueType:"text"}}},sn=()=>{const e=Xa(),t=Ua(),a=rn();return s(Ga,{ghost:!0,rowKey:"roleId",actionRef:e,metas:a,tableAlertRender:!1,rowSelection:{type:"radio",onSelect:({roleId:n})=>{t(n)}},search:{filterType:"light"},pagination:{defaultPageSize:10,defaultCurrent:1,showSizeChanger:!0},request:(...n)=>aa(na(...n))})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ln=()=>{const[e,t]=l.useState([]),[a,n]=l.useState(!1),[o,c]=l.useState([]),[i,m]=l.useState([]),[y,C]=l.useState(!1),[h,u]=l.useState(!0),[v,d]=l.useState(),f=l.useRef(),{open:N,roleId:E}=Ce(),{valueEnumSysDataScope:$}=oa(),{refetch:x}=ft(({dataScope:w})=>{var O;d(w),(O=f.current)==null||O.setFieldsValue({dataScope:w})}),{loading:k,refresh:X,data:b}=xa(async()=>{const{depts:w,checkedKeys:O}=await ia(E);return{treeData:w,selectedMenuIds:O,selectedTreeData:rt(w,O),allMenuIds:st(w),allExpandedKeys:lt(w)}},{ready:N,refreshDeps:[E],onSuccess:w=>{n(!1),m(w.selectedTreeData)}}),{isLoading:F,mutate:T}=Ge(async()=>{await ua({roleId:E,dataScope:v,deptIds:e})},{onSuccess:()=>{X(),x(),_e.success("保存成功")}}),Q=o.length===(b==null?void 0:b.allExpandedKeys.length),U=w=>{if(w||h){t((b==null?void 0:b.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((b==null?void 0:b.allMenuIds.length)===e.length){C(!0),u(!1);return}if(e.length===0){C(!1),u(!1);return}u(!0)},[b==null?void 0:b.allMenuIds,e]),_($e,{children:[_("header",{className:"flex justify-between items-start flex-wrap",children:[s(ra,{formRef:f,submitter:!1,layout:"horizontal",children:s(ya,{name:"dataScope",label:"数据权限范围",valueEnum:$,fieldProps:{onChange:w=>{d(w)}},readonly:!a})}),s(Ee,{accessKey:"system:role:edit",children:a?_(Le,{children:[s(Ie,{loading:F,onClick:()=>{n(!1),m((b==null?void 0:b.selectedTreeData)??[])},children:"取消编辑"}),s(Ie,{type:"primary",ghost:!0,icon:s(sa,{}),loading:F,onClick:()=>T(),children:"保存"})]}):s(Ie,{type:"primary",ghost:!0,icon:s(la,{}),onClick:()=>{n(!0),t((b==null?void 0:b.selectedMenuIds)??[]),m((b==null?void 0:b.treeData)??[])},children:"编辑数据权限"})})]}),v==="CUSTOM"&&_($e,{children:[_(Le,{wrap:!0,className:"my-2",children:[i.length>0&&s(Ie,{size:"small",icon:Q?s(ca,{}):s(da,{}),onClick:()=>c(Q?[]:b.allExpandedKeys),children:Q?"全部折叠":"全部展开"}),a&&s(ct,{indeterminate:h,onChange:w=>U(w.target.checked),checked:y,children:"全选/全不选"})]}),s(Be,{spinning:k,children:i.length>0?s(dt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:a,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:w=>c(w),onCheck:w=>{t(w.checked)}}):s(Fe,{description:"暂未分配数据权限"})})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const cn=()=>{const[e,t]=l.useState([]),[a,n]=l.useState(!1),[o,c]=l.useState([]),[i,m]=l.useState([]),[y,C]=l.useState(!1),[h,u]=l.useState(!0),{isFetching:v,data:d,refetch:f}=Ya(x=>{n(!1),m(x)}),{isLoading:N,mutate:E}=yt(()=>{f()}),$=x=>{if(x||h){t((d==null?void 0:d.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((d==null?void 0:d.allMenuIds.length)===e.length){C(!0),u(!1);return}if(e.length===0){C(!1),u(!1);return}u(!0)},[d==null?void 0:d.allMenuIds,e]),_($e,{children:[_("header",{className:"flex justify-between items-end mb-2",children:[s(ma,{expanded:o.length===(d==null?void 0:d.allExpandedKeys.length),onChange:x=>{c(x?(d==null?void 0:d.allExpandedKeys)??[]:[])}}),s(Ee,{accessKey:"system:role:edit",children:s(ha,{editable:a,loading:N,onCancel:()=>{n(!1),m((d==null?void 0:d.selectedTreeData)??[])},onSave:()=>E({menuIds:e}),onStartEdit:()=>{n(!0),t((d==null?void 0:d.selectedMenuIds)??[]),m((d==null?void 0:d.treeData)??[])}})})]}),_(Be,{spinning:v,children:[s("div",{className:"pl-1 mb-1",children:a&&s(ct,{indeterminate:h,onChange:x=>$(x.target.checked),checked:y,children:"全选/全不选"})}),i.length>0?s(dt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:a,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:x=>c(x),onCheck:x=>{t(x.checked)},height:500}):s(Fe,{description:"暂未分配菜单权限"})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const at={list:{xxl:7,xl:10,lg:13,md:24,sm:24,xs:24},details:{xxl:17,xl:14,lg:11,md:24,sm:24,xs:24}},fn=()=>{const{xl:e}=qa(),{open:t}=Ce();return s(ga,{children:_(le,{ghost:!0,gutter:[16,16],wrap:!0,children:[s(le,{title:"角色列表",colSpan:at.list,extra:s(Za,{}),children:s(sn,{})}),s(le,{split:"horizontal",title:"角色详情",colSpan:at.details,extra:_(Le,{children:[s(tn,{}),s(en,{})]}),className:"h-full",children:t?_($e,{children:[s(le,{children:s(on,{})}),_(le,{split:e?"vertical":"horizontal",children:[s(le,{children:s(cn,{})}),s(le,{children:s(ln,{})})]})]}):s(Fe,{description:"点击选择左侧角色查看详情"})})]})})};export{fn as default};
