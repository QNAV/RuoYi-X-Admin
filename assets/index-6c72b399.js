import{j as s,Z as i,aj as f,p as A,a1 as g,bL as S,Q as o,d as M,q as E,W as P,Y as d,X as j,ai as h,al as R,bM as F,ax as k}from"./index-cde0b745.js";import{u as K}from"./useMutation-c6d67192.js";import{a as B,u as O}from"./utils-c4afd625.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const N=({ossConfigId:e})=>{const t=b();return s(i,{accessKey:"system:oss:edit",children:s(f,{onClick:()=>t(e)})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const V=({ossConfigIds:e,batch:t,disabled:l})=>{const{message:c,modal:u}=A.useApp(),a=T(),{mutate:x,isLoading:v}=K(S,{onSuccess:()=>{var m;a==null||a.reload(),(m=a==null?void 0:a.clearSelected)==null||m.call(a),c.success("删除成功")}});return s(i,{accessKey:"system:oss:remove",children:s(g,{batch:t,disabled:l,onClick:()=>{u.confirm({title:"删除配置",content:`确定删除编号为 ${e.join(",")} 的配置吗？`,onOk:()=>x({ossConfigIds:e}),okButtonProps:{loading:v}})}})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const[w,,D]=o({title:"配置key",dataIndex:"configKey",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[H,,Y]=o({title:"访问站点",dataIndex:"endpoint",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[q,,L]=o({title:"自定义域名",dataIndex:"domain",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[X,,Q]=o({title:"accessKey",dataIndex:"accessKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[_,,W]=o({title:"secretKey",dataIndex:"secretKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[z,,Z]=o({title:"桶名称",dataIndex:"bucketName",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[$,,G]=o({title:"前缀",dataIndex:"prefix",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),J="NO",p=()=>{const{valueEnumSysYesNo:e}=R();return o({title:"是否HTTPS",dataIndex:"isHttps",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:J}})},y=()=>{const{valueEnumSysAccessPolicy:e,defaultValueSysAccessPolicy:t}=F();return o({title:"桶权限类型",dataIndex:"accessPolicy",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:t}})},[U,,ee]=o({title:"域",dataIndex:"center",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[te,,oe]=o({title:"备注",dataIndex:"remark",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),ae="NORMAL",I=()=>{const{valueEnumSysNormalDisable:e}=k();return o({title:"状态",dataIndex:"status",valueEnum:e,table:{valueType:"select"},form:{valueType:"radio",initialValue:ae}})},se=()=>{const[e]=I(),[t]=p(),[l]=y();return[w,H,q,X,_,z,$,e,t,l,U,te,{title:"操作",valueType:"option",render:(c,u)=>M(E,{children:[s(N,{ossConfigId:u.ossConfigId}),s(V,{ossConfigIds:[u.ossConfigId]})]})}]},le=()=>{const[,,e]=I(),[,,t]=p(),[,,l]=y();return[D,Y,L,Q,W,Z,G,{valueType:"group",columns:[e,t,l]},ee,oe]},r=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomMainTableActions",P(void 0));r.debugLabel="atomMainTableActions";const T=()=>d(r),ne=()=>j(r);var C=(e=>(e[e.Add=0]="Add",e[e.Edit=1]="Edit",e))(C||{});const ue={[0]:"新增",[1]:"编辑"},n=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomAddOrEditModal",B({open:!1,actionType:0}));n.debugLabel="atomAddOrEditModal";const re=()=>d(n),ce=()=>{const e=h(n);return()=>{e({open:!0,actionType:0})}},b=()=>{const e=h(n);return t=>{e({open:!0,actionType:1,ossConfigId:t})}},me=()=>O(n),ye=Object.freeze(Object.defineProperty({__proto__:null,OssConfigActionType:C,OssConfigActionTypeTextMap:ue,useActionRefMainTable:ne,useAtomValueAddOrEditModal:re,useAtomValueMainTableActions:T,useFormColumns:le,useHideAddOrEditModal:me,useShowAddModal:ce,useShowEditModal:b,useTableColumns:se},Symbol.toStringTag,{value:"Module"}));export{V as B,ue as O,re as a,me as b,C as c,le as d,ce as e,ne as f,se as g,ye as i,T as u};
