import{r as g,bb as Be,Y,d as k,j as n,U as a,bc as dt,ao as ut,bd as mt,be as ye,bf as De,bg as ht,bh as Ne,bi as pt,bj as He,an as ft,aN as Je,bk as gt,X as _e,bl as Qe,V as Me,bm as vt,F as Ke,ap as xt,_ as R,a9 as Ve,aw as Pe,bn as Ct,az as Se,bo as yt,bp as bt,bq as wt,br as St,bs as Rt,Q as Et,ak as It,p as Ze,s as et,aB as Pt,R as Nt,a1 as Ee,aD as je,bt as At,al as Re,aE as Tt,o as Fe,a3 as qe,aG as kt,aH as Dt,aI as tt,aJ as Bt,aF as _t,aK as Ge,bu as Mt,bv as Kt,aU as We,aO as jt,aP as Ft,bw as Lt,aS as Ot,aM as at,aL as $t,at as Ye,$ as Xe,aT as Ue,ba as zt,O as Ht}from"./index.7c81fac9.js";import{b as Le}from"./index.2df64043.js";import{a as Vt,b as qt}from"./index.85f7a3f8.js";import{P as Gt}from"./index.f047b983.js";import{P as Wt}from"./index.853fa8fc.js";import{u as Yt,b as Xt,C as Ut,v as Jt,w as Qt,j as Zt,x as ea}from"./index.5e39d783.js";import{e as ta}from"./SysMenuService.310549e0.js";import{u as nt}from"./useRequest.fbda2368.js";import{u as ot}from"./useMutation.esm.173c6737.js";import"./useQuery.esm.c8244a57.js";import"./utils.esm.0bacd143.js";var rt=globalThis&&globalThis.__rest||function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(s[o[i]]=e[o[i]]);return s},aa=function(t){var s=t.prefixCls,o=t.className,i=t.avatar,c=t.title,r=t.description,p=rt(t,["prefixCls","className","avatar","title","description"]),E=g.exports.useContext(Be),T=E.getPrefixCls,d=T("list",s),N=Y("".concat(d,"-item-meta"),o),u=k("div",{className:"".concat(d,"-item-meta-content"),children:[c&&n("h4",{className:"".concat(d,"-item-meta-title"),children:c}),r&&n("div",{className:"".concat(d,"-item-meta-description"),children:r})]});return k("div",{...p,className:N,children:[i&&n("div",{className:"".concat(d,"-item-meta-avatar"),children:i}),(c||r)&&u]})},na=function(t,s){var o=t.prefixCls,i=t.children,c=t.actions,r=t.extra,p=t.className,E=t.colStyle,T=rt(t,["prefixCls","children","actions","extra","className","colStyle"]),d=g.exports.useContext(Oe),N=d.grid,u=d.itemLayout,m=g.exports.useContext(Be),l=m.getPrefixCls,F=function(){var h;return g.exports.Children.forEach(i,function(f){typeof f=="string"&&(h=!0)}),h&&g.exports.Children.count(i)>1},D=function(){return u==="vertical"?!!r:!F()},b=l("list",o),y=c&&c.length>0&&n("ul",{className:"".concat(b,"-item-action"),children:c.map(function(L,h){return k("li",{children:[L,h!==c.length-1&&n("em",{className:"".concat(b,"-item-action-split")})]},"".concat(b,"-item-action-").concat(h))})},"actions"),_=N?"div":"li",z=n(_,{...T,...N?{}:{ref:s},className:Y("".concat(b,"-item"),a({},"".concat(b,"-item-no-flex"),!D()),p),children:u==="vertical"&&r?[k("div",{className:"".concat(b,"-item-main"),children:[i,y]},"content"),n("div",{className:"".concat(b,"-item-extra"),children:r},"extra")]:[i,y,dt(r,{key:"extra"})]});return N?n(ut,{ref:s,flex:1,style:E,children:z}):z},it=g.exports.forwardRef(na);it.Meta=aa;const oa=it;var ra=globalThis&&globalThis.__rest||function(e,t){var s={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(s[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(s[o[i]]=e[o[i]]);return s},Oe=g.exports.createContext({});Oe.Consumer;function Ae(e){var t,s=e.pagination,o=s===void 0?!1:s,i=e.prefixCls,c=e.bordered,r=c===void 0?!1:c,p=e.split,E=p===void 0?!0:p,T=e.className,d=e.children,N=e.itemLayout,u=e.loadMore,m=e.grid,l=e.dataSource,F=l===void 0?[]:l,D=e.size,b=e.header,y=e.footer,_=e.loading,z=_===void 0?!1:_,L=e.rowKey,h=e.renderItem,f=e.locale,ve=ra(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),Z=o&&mt(o)==="object"?o:{},le=g.exports.useState(Z.defaultCurrent||1),de=ye(le,2),ee=de[0],$=de[1],ue=g.exports.useState(Z.defaultPageSize||10),te=ye(ue,2),me=te[0],X=te[1],U=g.exports.useContext(Be),W=U.getPrefixCls,A=U.renderEmpty,V=U.direction,K={current:1,total:0},w={},j=function(P){return function(H,B){$(H),X(B),o&&o[P]&&o[P](H,B)}},O=j("onChange"),ae=j("onShowSizeChange"),q=function(P,H){if(!h)return null;var B;return typeof L=="function"?B=L(P):L?B=P[L]:B=P.key,B||(B="list-item-".concat(H)),w[H]=B,h(P,H)},ne=function(){return!!(u||o||y)},he=function(P,H){return n("div",{className:"".concat(P,"-empty-text"),children:f&&f.emptyText||H("List")})},M=W("list",i),J=z;typeof J=="boolean"&&(J={spinning:J});var G=J&&J.spinning,oe="";switch(D){case"large":oe="lg";break;case"small":oe="sm";break}var xe=Y(M,(t={},a(t,"".concat(M,"-vertical"),N==="vertical"),a(t,"".concat(M,"-").concat(oe),oe),a(t,"".concat(M,"-split"),E),a(t,"".concat(M,"-bordered"),r),a(t,"".concat(M,"-loading"),G),a(t,"".concat(M,"-grid"),!!m),a(t,"".concat(M,"-something-after-last-item"),ne()),a(t,"".concat(M,"-rtl"),V==="rtl"),t),T),S=De(De(De({},K),{total:F.length,current:ee,pageSize:me}),o||{}),v=Math.ceil(S.total/S.pageSize);S.current>v&&(S.current=v);var I=o?n("div",{className:"".concat(M,"-pagination"),children:n(ht,{...S,onChange:O,onShowSizeChange:ae})}):null,x=Ne(F);o&&F.length>(S.current-1)*S.pageSize&&(x=Ne(F).splice((S.current-1)*S.pageSize,S.pageSize));var re=Object.keys(m||{}).some(function(C){return["xs","sm","md","lg","xl","xxl"].includes(C)}),ie=pt(re),Q=g.exports.useMemo(function(){for(var C=0;C<He.length;C+=1){var P=He[C];if(ie[P])return P}},[ie]),se=g.exports.useMemo(function(){if(!!m){var C=Q&&m[Q]?m[Q]:m.column;if(C)return{width:"".concat(100/C,"%"),maxWidth:"".concat(100/C,"%")}}},[m==null?void 0:m.column,Q]),pe=G&&n("div",{style:{minHeight:53}});if(x.length>0){var fe=x.map(function(C,P){return q(C,P)}),ge=g.exports.Children.map(fe,function(C,P){return n("div",{style:se,children:C},w[P])});pe=m?n(ft,{gutter:m.gutter,children:ge}):n("ul",{className:"".concat(M,"-items"),children:fe})}else!d&&!G&&(pe=he(M,A||gt));var ce=S.position||"bottom",be=g.exports.useMemo(function(){return{grid:m,itemLayout:N}},[JSON.stringify(m),N]);return n(Oe.Provider,{value:be,children:k("div",{className:xe,...ve,children:[(ce==="top"||ce==="both")&&I,b&&n("div",{className:"".concat(M,"-header"),children:b}),k(Je,{...J,children:[pe,d]}),y&&n("div",{className:"".concat(M,"-footer"),children:y}),u||(ce==="bottom"||ce==="both")&&I]})})}Ae.Item=oa;var ia=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function sa(e){var t,s=e.prefixCls,o=e.expandIcon,i=o===void 0?n(Ct,{}):o,c=e.onExpand,r=e.expanded,p=e.record,E=i,T="".concat(s,"-row-expand-icon"),d=function(u){c(!r),u.stopPropagation()};return typeof i=="function"&&(E=i({expanded:r,onExpand:c,record:p})),n("span",{className:Y(T,(t={},a(t,"".concat(s,"-row-expanded"),r),a(t,"".concat(s,"-row-collapsed"),!r),t)),onClick:d,children:E})}function ca(e){var t,s,o,i,c,r=e.prefixCls,p=g.exports.useContext(_e.ConfigContext),E=p.getPrefixCls,T=Qe(),d=T.hashId,N=E("pro-list",r),u="".concat(N,"-row"),m=e.title,l=e.subTitle,F=e.content,D=e.itemTitleRender;e.prefixCls;var b=e.actions;e.item,e.recordKey;var y=e.avatar,_=e.cardProps,z=e.description,L=e.isEditable,h=e.checkbox,f=e.index,ve=e.selected,Z=e.loading,le=e.expand,de=e.onExpand,ee=e.expandable,$=e.rowSupportExpand,ue=e.showActions,te=e.showExtra,me=e.type,X=e.style,U=e.className,W=U===void 0?u:U,A=e.record,V=e.onRow,K=e.onItem,w=e.itemHeaderRender,j=e.cardActionProps,O=e.extra,ae=Me(e,ia),q=ee||{},ne=q.expandedRowRender,he=q.expandIcon,M=q.expandRowByClick,J=q.indentSize,G=J===void 0?8:J,oe=q.expandedRowClassName,xe=vt(!!le,{value:le,onChange:de}),S=ye(xe,2),v=S[0],I=S[1],x=Y((t={},a(t,"".concat(u,"-selected"),!_&&ve),a(t,"".concat(u,"-show-action-hover"),ue==="hover"),a(t,"".concat(u,"-type-").concat(me),!!me),a(t,"".concat(u,"-editable"),L),a(t,"".concat(u,"-show-extra-hover"),te==="hover"),t),d,u),re=Y(d,a({},"".concat(W,"-extra"),te==="hover")),ie=v||Object.values(ee||{}).length===0,Q=ne&&ne(A,f,G,v),se=g.exports.useMemo(function(){if(!(!b||j==="actions"))return[n("div",{onClick:function(B){return B.stopPropagation()},children:b},"action")]},[b,j]),pe=g.exports.useMemo(function(){if(!(!b||!j||j==="extra"))return[n("div",{onClick:function(B){return B.stopPropagation()},children:b},"action")]},[b,j]),fe=m||l?k("div",{className:"".concat(x,"-header-title ").concat(d),children:[m&&n("div",{className:"".concat(x,"-title ").concat(d),children:m}),l&&n("div",{className:"".concat(x,"-subTitle ").concat(d),children:l})]}):null,ge=(s=D&&(D==null?void 0:D(A,f,fe)))!==null&&s!==void 0?s:fe,ce=ge||y||l||z?n(Ae.Item.Meta,{avatar:y,title:ge,description:z&&ie&&n("div",{className:"".concat(x,"-description ").concat(d),children:z})}):null,be=Y(d,(o={},a(o,"".concat(x,"-item-has-checkbox"),h),a(o,"".concat(x,"-item-has-avatar"),y),a(o,x,x),o)),C=g.exports.useMemo(function(){return y||m?k(Ke,{children:[y&&n(xt,{size:22,src:y,className:"".concat(E("list-item-meta-avatar")," ").concat(d)}),n("span",{className:"".concat(E("list-item-meta-title")," ").concat(d),children:m})]}):null},[y,E,d,m]),P=_?n(Pe,R(R(R({bordered:!0,loading:Z,hoverable:!0},_),{},{title:C,subTitle:l,extra:se,actions:pe,bodyStyle:R({padding:24},_.bodyStyle)},K==null?void 0:K(A,f)),{},{children:n(Ve,{avatar:!0,title:!1,loading:Z,active:!0,children:k("div",{className:"".concat(x,"-header ").concat(d),children:[D&&(D==null?void 0:D(A,f,fe)),F]})})})):n(Ae.Item,R(R(R(R({className:Y(be,a({},W,W!==u))},ae),{},{actions:se,extra:!!O&&n("div",{className:re,children:O})},V==null?void 0:V(A,f)),K==null?void 0:K(A,f)),{},{onClick:function(B){var Ce,we,Ie,ke;V==null||(Ce=V(A,f))===null||Ce===void 0||(we=Ce.onClick)===null||we===void 0||we.call(Ce,B),K==null||(Ie=K(A,f))===null||Ie===void 0||(ke=Ie.onClick)===null||ke===void 0||ke.call(Ie,B),M&&I(!v)},children:k(Ve,{avatar:!0,title:!1,loading:Z,active:!0,children:[k("div",{className:"".concat(x,"-header ").concat(d),children:[k("div",{className:"".concat(x,"-header-option ").concat(d),children:[!!h&&n("div",{className:"".concat(x,"-checkbox ").concat(d),children:h}),Object.values(ee||{}).length>0&&$&&sa({prefixCls:N,expandIcon:he,onExpand:I,expanded:v,record:A})]}),(i=w&&(w==null?void 0:w(A,f,ce)))!==null&&i!==void 0?i:ce]}),ie&&(F||Q)&&k("div",{className:"".concat(x,"-content ").concat(d),children:[F,ne&&$&&n("div",{className:oe&&oe(A,f,G),children:Q})]})]})}));return _?n("div",{className:Y(d,(c={},a(c,"".concat(x,"-card"),_),a(c,W,W!==u),c)),style:X,children:P}):P}var la=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function da(e){var t=e.dataSource,s=e.columns,o=e.rowKey,i=e.showActions,c=e.showExtra,r=e.prefixCls,p=e.actionRef,E=e.itemTitleRender,T=e.renderItem,d=e.itemCardProps,N=e.itemHeaderRender,u=e.expandable,m=e.rowSelection,l=e.pagination,F=e.onRow,D=e.onItem,b=e.rowClassName,y=Me(e,la),_=Qe(),z=_.hashId,L=g.exports.useContext(_e.ConfigContext),h=L.getPrefixCls,f=Se.useMemo(function(){return typeof o=="function"?o:function(S,v){return S[o]||v}},[o]),ve=yt(t,"children",f),Z=ye(ve,1),le=Z[0],de=bt(t.length,R({responsive:!0},l),function(){}),ee=ye(de,1),$=ee[0],ue=Se.useMemo(function(){if(l===!1||!$.pageSize||t.length<$.total)return t;var S=$.current,v=S===void 0?1:S,I=$.pageSize,x=I===void 0?10:I,re=t.slice((v-1)*x,v*x);return re},[t,$,l]),te=h("pro-list",r),me=wt(m,{getRowKey:f,getRecordByKey:le,prefixCls:te,data:t,pageData:ue,expandType:"row",childrenColumnName:"children",locale:{}}),X=ye(me,2),U=X[0],W=X[1],A=u||{},V=A.expandedRowKeys,K=A.defaultExpandedRowKeys,w=A.defaultExpandAllRows,j=w===void 0?!0:w,O=A.onExpand,ae=A.onExpandedRowsChange,q=A.rowExpandable,ne=Se.useState(function(){return K||(j!==!1?t.map(f):[])}),he=ye(ne,2),M=he[0],J=he[1],G=Se.useMemo(function(){return new Set(V||M||[])},[V,M]),oe=Se.useCallback(function(S){var v=f(S,t.indexOf(S)),I,x=G.has(v);x?(G.delete(v),I=Ne(G)):I=[].concat(Ne(G),[v]),J(I),O&&O(!x,S),ae&&ae(I)},[f,G,t,O,ae]),xe=U([])[0];return n(Ae,R(R({},y),{},{className:Y(h("pro-list-container",r),z,y.className),dataSource:ue,pagination:l&&$,renderItem:function(v,I){var x,re,ie,Q={className:typeof b=="function"?b(v,I):b};s==null||s.forEach(function(C){var P=C.listKey,H=C.cardActionProps;if(!!St.has(P)){var B=C.dataIndex||P||C.key,Ce=Array.isArray(B)?Rt(v,B):v[B];H==="actions"&&P==="actions"&&(Q.cardActionProps=H);var we=C.render?C.render(Ce,v,I):Ce;we!=="-"&&(Q[C.listKey]=we)}});var se;xe&&xe.render&&(se=xe.render(v,v,I)||void 0);var pe=((x=p.current)===null||x===void 0?void 0:x.isEditable(R(R({},v),{},{index:I})))||{},fe=pe.isEditable,ge=pe.recordKey,ce=W.has(ge||I),be=n(ca,R(R({cardProps:y.grid?R(R(R({},d),y.grid),{},{checked:ce,onChecked:Se.isValidElement(se)?(re=se)===null||re===void 0||(ie=re.props)===null||ie===void 0?void 0:ie.onChange:void 0}):void 0},Q),{},{recordKey:ge,isEditable:fe||!1,expandable:u,expand:G.has(f(v,I)),onExpand:function(){oe(v)},index:I,record:v,item:v,showActions:i,showExtra:c,itemTitleRender:E,itemHeaderRender:N,rowSupportExpand:!q||q&&q(v),selected:W.has(f(v,I)),checkbox:se,onRow:F,onItem:D}),ge);return T?T(v,I,be):be}}))}var ua=function(t){var s,o,i,c,r,p;return a({},t.componentCls,(p={backgroundColor:"transparent"},a(p,"".concat(t.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),a(p,"&-row",(r={borderBlockEnd:"1px solid ".concat(t.colorSplit)},a(r,"".concat(t.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),a(r,"&:last-child",a({borderBlockEnd:"none"},"".concat(t.antCls,"-list-item"),{borderBlockEnd:"none"})),a(r,"&:hover",(s={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},a(s,"".concat(t.antCls,"-list-item-action"),{display:"block"}),a(s,"".concat(t.antCls,"-list-item-extra"),{display:"flex"}),a(s,"".concat(t.componentCls,"-row-extra"),{display:"block"}),a(s,"".concat(t.componentCls,"-row-subheader-actions"),{display:"block"}),s)),a(r,"&-card",a({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(t.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),a(r,"&".concat(t.componentCls,"-row-editable"),a({},"".concat(t.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),a(r,"&".concat(t.componentCls,"-row-selected"),{backgroundColor:t.colorPrimaryBgHover,"&:hover":{backgroundColor:t.colorPrimaryBgHover}}),a(r,"&".concat(t.componentCls,"-row-type-new"),{animation:"techUiListActive 3s"}),a(r,"&".concat(t.componentCls,"-row-type-inline"),a({},"".concat(t.componentCls,"-row-title"),{fontWeight:"normal"})),a(r,"&".concat(t.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),a(r,"&-show-action-hover",(o={},a(o,"".concat(t.antCls,`-list-item-action,
            `).concat(t.proComponentsCls,`-card-extra,
            `).concat(t.proComponentsCls,"-card-actions"),{display:"none"}),a(o,"&:hover",a({},"".concat(t.proComponentsCls,"-card-extra,").concat(t.proComponentsCls,"-card-actions"),{display:"flex"})),o)),a(r,"&-show-extra-hover",a({},"".concat(t.antCls,"-list-item-extra"),{display:"none"})),a(r,"&-extra",{display:"none"}),a(r,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:t.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),a(r,"&-expand-icon",{marginInlineEnd:8,color:t.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),a(r,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),a(r,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:t.colorPrimary}}),a(r,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),a(r,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),a(r,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),a(r,"&-avatar",{display:"flex"}),a(r,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start"}),a(r,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),a(r,"&-header-option",{display:"flex"}),a(r,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),a(r,"&-no-split",(i={},a(i,"".concat(t.componentCls,"-row"),{borderBlockEnd:"none"}),a(i,"".concat(t.antCls,"-list ").concat(t.antCls,"-list-item"),{borderBlockEnd:"none"}),i)),a(r,"&-bordered",a({},"".concat(t.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(t.colorSplit)})),a(r,"".concat(t.antCls,"-list-vertical"),(c={},a(c,"".concat(t.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),a(c,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),a(c,"&-content",{marginBlock:0,marginInline:0}),a(c,"&-subTitle",{marginBlockStart:8}),a(c,"".concat(t.antCls,"-list-item-extra"),a({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(t.componentCls,"-row-description"),{marginBlockStart:16})),a(c,"".concat(t.antCls,"-list-bordered ").concat(t.antCls,"-list-item"),{paddingInline:0}),a(c,"".concat(t.componentCls,"-row-show-extra-hover"),a({},"".concat(t.antCls,"-list-item-extra "),{display:"none"})),c)),a(r,"".concat(t.antCls,"-list-pagination"),{marginBlockEnd:t.marginLG}),a(r,"".concat(t.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),a(r,"".concat(t.antCls,"-list-vertical .").concat(t.proComponentsCls,"-list-row ").concat(t.antCls,"-list"),a({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(t.antCls,"-list-item"),{width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18,"&-meta-avatar":{display:"flex",alignItems:"center",marginInlineEnd:8},"&-action-split":{display:"none"},"&-meta-title":{marginBlock:0,marginInline:0}})),a(r,"@keyframes techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),r)),p))};function ma(e){return Et("ProList",function(t){var s=R(R({},t),{},{componentCls:".".concat(e)});return[ua(s)]})}var ha=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function pa(e){var t=e.metas,s=e.split,o=e.footer,i=e.rowKey,c=e.tooltip,r=e.className,p=e.options,E=p===void 0?!1:p,T=e.search,d=T===void 0?!1:T,N=e.expandable,u=e.showActions,m=e.showExtra,l=e.rowSelection,F=l===void 0?!1:l,D=e.pagination,b=D===void 0?!1:D,y=e.itemLayout,_=e.renderItem,z=e.grid,L=e.itemCardProps,h=e.onRow,f=e.onItem,ve=e.rowClassName,Z=e.locale,le=e.itemHeaderRender,de=e.itemTitleRender,ee=Me(e,ha),$=g.exports.useRef();g.exports.useImperativeHandle(ee.actionRef,function(){return $.current});var ue=g.exports.useContext(_e.ConfigContext),te=ue.getPrefixCls,me=g.exports.useMemo(function(){var K=[];return Object.keys(t||{}).forEach(function(w){var j=t[w]||{},O=j.valueType;O||(w==="avatar"&&(O="avatar"),w==="actions"&&(O="option"),w==="description"&&(O="textarea")),K.push(R(R({listKey:w,dataIndex:(j==null?void 0:j.dataIndex)||w},j),{},{valueType:O}))}),K},[t]),X=te("pro-list",e.prefixCls),U=ma(X),W=U.wrapSSR,A=U.hashId,V=Y(X,A,a({},"".concat(X,"-no-split"),!s));return W(n(It,R(R({tooltip:c},ee),{},{actionRef:$,pagination:b,type:"list",rowSelection:F,search:d,options:E,className:Y(X,r,V),columns:me,rowKey:i,tableViewRender:function(w){var j=w.columns,O=w.size,ae=w.pagination,q=w.rowSelection,ne=w.dataSource,he=w.loading;return n(da,{grid:z,itemCardProps:L,itemTitleRender:de,prefixCls:e.prefixCls,columns:j,renderItem:_,actionRef:$,dataSource:ne||[],size:O,footer:o,split:s,rowKey:i,expandable:N,rowSelection:F===!1?void 0:q,showActions:u,showExtra:m,pagination:ae,itemLayout:y,loading:he,itemHeaderRender:le,onRow:h,onItem:f,rowClassName:ve,locale:Z})}})))}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const st="systemRole",$e=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/AtomRoleListActions",Ze({key:`${st}AtomRoleListActions`,default:void 0}));$e.debugLabel="AtomRoleListActions";const ze=()=>et($e),fa=()=>Vt($e),Te=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/AtomRoleDetails",Ze({key:`${st}AtomRoleDetails`,default:{visible:!1,roleId:0,roleName:""}}));Te.debugLabel="AtomRoleDetails";const ga=()=>Pt(Te),va=()=>Nt(Te),ct=()=>et(Te);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};async function xa(e,t){return Ee("/system/role/add",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function Ca(e,t){return Ee("/system/role/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function ya(e,t){return Ee("/system/role/info",{method:"GET",params:{...e},...t||{}})}async function ba(e,t){return Ee("/system/role/list",{method:"POST",headers:{"Content-Type":"application/json"},data:e,...t||{}})}async function wa(e,t){return Ee("/system/role/remove",{method:"POST",params:{...e},...t||{}})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Sa=()=>{const e=Le(),t=g.exports.useRef(),s=ze();return n(je,{accessible:e.canAddSysRole,children:k(At,{title:"\u65B0\u5EFA\u89D2\u8272",trigger:n(Re,{type:"primary",icon:n(Tt,{}),children:"\u65B0\u5EFA"}),formRef:t,onFinish:async o=>{var i;return await xa({...o,menuIds:[],menuCheckStrictly:!0}),s==null||s.reload(),(i=t.current)==null||i.resetFields(),Fe.success("\u65B0\u5EFA\u6210\u529F"),!0},width:500,children:[n(qe,{name:"roleName",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0}]}),n(qe,{name:"roleKey",label:"\u6743\u9650\u5B57\u7B26",rules:[{required:!0}],tooltip:"\u63A7\u5236\u5668\u4E2D\u5B9A\u4E49\u7684\u6743\u9650\u5B57\u7B26\uFF0C\u5982\uFF1A@PreAuthorize(`@ss.hasRole('admin')`)"}),n(Gt,{name:"roleSort",label:"\u663E\u793A\u6392\u5E8F",rules:[{required:!0}],initialValue:0}),n(kt.Group,{name:"status",label:"\u72B6\u6001",valueEnum:Dt,initialValue:tt.ENABLE}),n(Wt,{name:"remark",label:"\u5907\u6CE8"})]})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ra=()=>{const e=Le(),t=ze(),s=ga(),{roleId:o,roleName:i}=ct(),c=()=>_t.confirm({title:"\u5220\u9664\u786E\u8BA4",content:k(Ke,{children:["\u786E\u5B9A\u5BF9\u89D2\u8272",n(Ge.Text,{code:!0,children:i}),"\u8FDB\u884C",n(Ge.Text,{code:!0,children:"\u5220\u9664"}),"\u64CD\u4F5C\u5417\uFF1F"]}),onOk:async()=>{var r;await wa({roleIds:o}),t==null||t.reload(),(r=t==null?void 0:t.clearSelected)==null||r.call(t),s(),Fe.success("\u5220\u9664\u6210\u529F")}});return n(je,{accessible:e.canRemoveSysRole,children:n(Re,{danger:!0,ghost:!0,icon:n(Bt,{}),onClick:c,children:"\u5220\u9664"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ea={title:"label",key:"id",children:"children"},lt=e=>{const t=[];return e.forEach(({id:s,children:o})=>{t.push(s),o&&t.push(...lt(o))}),t},Ia=({roleId:e,handleEdit:t})=>{var L;const[s,o]=g.exports.useState([]),[i,c]=g.exports.useState(!1),[r,p]=g.exports.useState([]),[E,T]=g.exports.useState([]),[d,N]=g.exports.useState(!1),[u,m]=g.exports.useState(!0),{data:l,refresh:F}=nt(async()=>{const{menus:h,checkedKeys:f}=await ta({roleId:e});return{treeData:h,selectedMenuIds:f,selectedTreeData:Mt(h,f),allMenuIds:Kt(h)}},{ready:e>0,refreshDeps:[e],onSuccess:h=>{c(!1),T(h.selectedTreeData)}}),{isLoading:D,mutate:b}=ot(async()=>{await t({menuIds:s}),F()}),y=lt((L=l==null?void 0:l.treeData)!=null?L:[]),_=(r==null?void 0:r.length)!==0&&(r==null?void 0:r.length)===(y==null?void 0:y.length),z=h=>{var f;if(h||u){o((f=l==null?void 0:l.allMenuIds)!=null?f:[]);return}o([])};return g.exports.useEffect(()=>{if((l==null?void 0:l.allMenuIds.length)===s.length){N(!0),m(!1);return}if(s.length===0){N(!1),m(!1);return}m(!0)},[l==null?void 0:l.allMenuIds,s]),k(Ke,{children:[k("header",{className:"flex justify-between mb-2",children:[k(We,{children:[E.length>0&&n(Re,{size:"small",icon:_?n(jt,{}):n(Ft,{}),onClick:()=>p(_?[]:y),children:_?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),i&&n(Lt,{indeterminate:u,onChange:h=>z(h.target.checked),checked:d,children:"\u5168\u9009/\u5168\u4E0D\u9009"})]}),n(je,{accessible:!0,children:i?k(We,{children:[n(Re,{loading:D,onClick:()=>{var h;c(!1),T((h=l==null?void 0:l.selectedTreeData)!=null?h:[])},children:"\u53D6\u6D88\u7F16\u8F91"}),n(Re,{type:"primary",ghost:!0,loading:D,onClick:()=>b(),children:"\u4FDD\u5B58"})]}):n(Re,{type:"primary",ghost:!0,onClick:()=>{var h,f;c(!0),o((h=l==null?void 0:l.selectedMenuIds)!=null?h:[]),T((f=l==null?void 0:l.treeData)!=null?f:[])},children:"\u7F16\u8F91\u6743\u9650"})})]}),n("div",{className:"h-[390px] overflow-y-auto",children:E.length>0?n(Ot,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:i,checkStrictly:!0,fieldNames:Ea,checkedKeys:s,treeData:E,expandedKeys:r,onExpand:h=>p(h),onCheck:h=>{o(h.checked)}}):n(at,{description:"\u6682\u672A\u5206\u914D\u6743\u9650"})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Pa=()=>{const[e,t]=g.exports.useState([]),[s]=$t.useForm(),o=Le(),i=ze(),{roleId:c,visible:r}=ct(),{data:p,loading:E,refresh:T}=nt(()=>ya({roleId:c}),{ready:r&&c>0,refreshDeps:[c],onSuccess:()=>{t([])}}),{mutateAsync:d}=ot(async u=>{var m;await Ca({roleId:c,menuIds:(m=p==null?void 0:p.menuIds)!=null?m:[],roleKey:p.roleKey,roleName:p.roleName,roleSort:p.roleSort,status:p.status,...u})},{onSuccess:()=>{T(),i==null||i.reload(),Fe.success("\u4FDD\u5B58\u6210\u529F")}}),N=o.canEditSysRole&&p?{form:s,editableKeys:e,onChange:(u,m)=>{t(u),u.length===1&&!Array.isArray(m)&&s.setFieldsValue({[u[0]]:m[u[0]]})},onSave:async(u,m)=>{await d({[u]:m[u]})}}:void 0;return r?k(Je,{spinning:E,children:[n(Ye,{column:2,columns:[Yt,Xt],dataSource:p}),n(Xe,{}),n(Ye,{column:2,columns:[Ut,Jt,Qt,Zt,ea],dataSource:p,editable:N}),n(Xe,{}),n(Ia,{roleId:c,handleEdit:u=>d(u)})]}):n(at,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u89D2\u8272\u67E5\u770B\u8BE6\u60C5"})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Na=()=>{const e=fa(),t=va(),{onClick:s,rowSelection:o,selectedRows:i}=qt("roleId","radio");return g.exports.useEffect(()=>{i.length===1&&t({roleId:i[0].roleId,roleName:i[0].roleName,visible:!0})},[i]),n(pa,{ghost:!0,rowKey:"roleId",actionRef:e,metas:{title:{dataIndex:"roleName"},subTitle:{dataIndex:"status",render:c=>c===tt.ENABLE?n(Ue,{color:"success",children:"\u542F\u7528\u4E2D"}):n(Ue,{color:"error",children:"\u5DF2\u7981\u7528"})}},tableAlertRender:!1,onRow:c=>({onClick:()=>s(c)}),rowSelection:o,pagination:{pageSize:10},request:(...c)=>ba(zt(...c))})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Oa=()=>n(Ht,{children:k(Pe,{ghost:!0,gutter:24,children:[n(Pe,{title:"\u89D2\u8272\u5217\u8868",colSpan:"400px",extra:n(Sa,{}),children:n(Na,{})}),n(Pe,{title:"\u89D2\u8272\u8BE6\u60C5",extra:n(Ra,{}),children:n(Pa,{})})]})});export{Oa as default};
