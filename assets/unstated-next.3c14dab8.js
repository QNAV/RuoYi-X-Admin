import{j as r,F as Ce,d as E,a as b,r as u,aC as ye,_ as ie,ab as se,g as H,h as X,a8 as ge,a7 as be,aD as xe,ao as ce}from"./index.4a7583d0.js";import{P as we,N as Ne}from"./PortalWrapper.7f9fd477.js";import{K as oe,t as ke,g as de}from"./index.4fe5dc19.js";var Se=typeof process<"u"&&process.versions!=null&&process.versions.node!=null,pe=function(){return typeof window<"u"&&typeof window.document<"u"&&typeof window.matchMedia<"u"&&!Se};const Ee=pe;var Oe=function(t){var i=t.prefixCls,a=t.className,n=t.style,l=t.children,s=t.containerRef;return r(Ce,{children:r("div",{className:E("".concat(i,"-content"),a),style:b({},n),"aria-modal":"true",role:"dialog",ref:s,children:l})})},ue=u.exports.createContext(null);function fe(e){return typeof e=="string"&&String(Number(e))===e?(ye(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var ve={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function me(e){var t,i,a,n,l=e.prefixCls,s=e.open,h=e.placement,k=e.inline,x=e.push,S=e.forceRender,w=e.autoFocus,L=e.keyboard,v=e.scrollLocker,p=e.rootClassName,O=e.rootStyle,C=e.zIndex,Y=e.className,q=e.style,z=e.motion,P=e.width,J=e.height,V=e.children,B=e.contentWrapperStyle,j=e.mask,Q=e.maskClosable,W=e.maskMotion,A=e.maskClassName,F=e.maskStyle,N=e.afterOpenChange,K=e.onClose,D=u.exports.useRef(),R=u.exports.useRef(),T=u.exports.useRef(),U=function(f){var I=f.keyCode,M=f.shiftKey;switch(I){case oe.TAB:{if(I===oe.TAB){if(!M&&document.activeElement===T.current){var ae;(ae=R.current)===null||ae===void 0||ae.focus({preventScroll:!0})}else if(M&&document.activeElement===R.current){var re;(re=T.current)===null||re===void 0||re.focus({preventScroll:!0})}}break}case oe.ESC:{K&&L&&K(f);break}}};u.exports.useEffect(function(){if(s&&w){var o;(o=D.current)===null||o===void 0||o.focus({preventScroll:!0})}},[s,w]);var d=u.exports.useState(!1),$=ie(d,2),Z=$[0],G=$[1],c=u.exports.useContext(ue),_;x===!1?_={distance:0}:x===!0?_={}:_=x||{};var y=(t=(i=(a=_)===null||a===void 0?void 0:a.distance)!==null&&i!==void 0?i:c==null?void 0:c.pushDistance)!==null&&t!==void 0?t:180,ee=u.exports.useMemo(function(){return{pushDistance:y,push:function(){G(!0)},pull:function(){G(!1)}}},[y]);u.exports.useEffect(function(){if(s){var o;c==null||(o=c.push)===null||o===void 0||o.call(c)}else{var f;c==null||(f=c.pull)===null||f===void 0||f.call(c)}},[s]),u.exports.useEffect(function(){s&&j&&(v==null||v.lock())},[s,j]),u.exports.useEffect(function(){return function(){var o;v==null||v.unLock(),c==null||(o=c.pull)===null||o===void 0||o.call(c)}},[]);var te=j&&r(se,{...W,visible:s,children:function(o,f){var I=o.className,M=o.style;return r("div",{className:E("".concat(l,"-mask"),I,A),style:b(b({},M),F),onClick:Q?K:void 0,ref:f})}},"mask"),ne=typeof z=="function"?z(h):z,m={};if(Z&&y)switch(h){case"top":m.transform="translateY(".concat(y,"px)");break;case"bottom":m.transform="translateY(".concat(-y,"px)");break;case"left":m.transform="translateX(".concat(y,"px)");break;default:m.transform="translateX(".concat(-y,"px)");break}h==="left"||h==="right"?m.width=fe(P):m.height=fe(J);var g=r(se,{...ne,visible:s,forceRender:S,onVisibleChanged:function(f){N==null||N(f),f||v==null||v.unLock()},removeOnLeave:!1,leavedClassName:"".concat(l,"-content-wrapper-hidden"),children:function(o,f){var I=o.className,M=o.style;return r("div",{className:E("".concat(l,"-content-wrapper"),I),style:b(b(b({},m),M),B),children:r(Oe,{containerRef:f,prefixCls:l,className:Y,style:q,children:V})})}},"panel"),le=b({},O);return C&&(le.zIndex=C),r(ue.Provider,{value:ee,children:H("div",{className:E(l,"".concat(l,"-").concat(h),p,(n={},X(n,"".concat(l,"-open"),s),X(n,"".concat(l,"-inline"),k),n)),style:le,tabIndex:-1,ref:D,onKeyDown:U,children:[te,r("div",{tabIndex:0,ref:R,style:ve,"aria-hidden":"true","data-sentinel":"start"}),g,r("div",{tabIndex:0,ref:T,style:ve,"aria-hidden":"true","data-sentinel":"end"})]})})}var Pe=function(){return document.body},he=function(t){var i=t.open,a=t.getContainer,n=t.forceRender,l=t.wrapperClassName,s=t.prefixCls,h=t.afterOpenChange,k=t.destroyOnClose,x=u.exports.useState(!1),S=ie(x,2),w=S[0],L=S[1],v=function(C){L(C),h==null||h(C)};if(!n&&!w&&!i&&k)return null;var p=b(b({},t),{},{prefixCls:s,afterOpenChange:v});return a===!1?r(me,{...p,inline:!0}):r(we,{visible:i,forceRender:n,getContainer:a,wrapperClassName:l,children:function(O){var C=O.scrollLocker;return r(me,{...p,scrollLocker:C})}})};he.defaultProps={open:!1,getContainer:Pe,prefixCls:"rc-drawer",placement:"right",autoFocus:!0,keyboard:!0,width:378,mask:!0,maskClosable:!0};var De=globalThis&&globalThis.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]]);return i};ke("default","large");var Re={distance:180};function Le(e){var t=e.width,i=e.height,a=e.size,n=a===void 0?"default":a,l=e.closable,s=l===void 0?!0:l,h=e.mask,k=h===void 0?!0:h,x=e.push,S=x===void 0?Re:x,w=e.closeIcon,L=w===void 0?r(xe,{}):w,v=e.bodyStyle,p=e.drawerStyle,O=e.className,C=e.visible,Y=e.open,q=e.children,z=e.style,P=e.title,J=e.headerStyle,V=e.onClose,B=e.footer,j=e.footerStyle,Q=e.prefixCls,W=e.getContainer,A=e.extra,F=e.afterVisibleChange,N=e.afterOpenChange,K=De(e,["width","height","size","closable","mask","push","closeIcon","bodyStyle","drawerStyle","className","visible","open","children","style","title","headerStyle","onClose","footer","footerStyle","prefixCls","getContainer","extra","afterVisibleChange","afterOpenChange"]),D=u.exports.useContext(ge),R=D.getPopupContainer,T=D.getPrefixCls,U=D.direction,d=T("drawer",Q),$=W===void 0&&R?function(){return R(document.body)}:W,Z=s&&r("button",{type:"button",onClick:V,"aria-label":"Close",className:"".concat(d,"-close"),children:L});[["visible","open"],["afterVisibleChange","afterOpenChange"]].forEach(function(m){var g=ie(m,2);g[0],g[1]});function G(){return!P&&!s?null:H("div",{className:E("".concat(d,"-header"),X({},"".concat(d,"-header-close-only"),s&&!P&&!A)),style:J,children:[H("div",{className:"".concat(d,"-header-title"),children:[Z,P&&r("div",{className:"".concat(d,"-title"),children:P})]}),A&&r("div",{className:"".concat(d,"-extra"),children:A})]})}function c(){if(!B)return null;var m="".concat(d,"-footer");return r("div",{className:m,style:j,children:B})}var _=E(X({"no-mask":!k},"".concat(d,"-rtl"),U==="rtl"),O),y=u.exports.useMemo(function(){return t!=null?t:n==="large"?736:378},[t,n]),ee=u.exports.useMemo(function(){return i!=null?i:n==="large"?736:378},[i,n]),te={motionName:de(d,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ne=function(g){return{motionName:de(d,"panel-motion-".concat(g)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}};return r(Ne,{status:!0,override:!0,children:r(he,{prefixCls:d,onClose:V,...K,open:Y||C,mask:k,push:S,width:y,height:ee,rootClassName:_,getContainer:$,afterOpenChange:function(g){N==null||N(g),F==null||F(g)},maskMotion:te,motion:ne,rootStyle:z,children:H("div",{className:"".concat(d,"-wrapper-body"),style:be({},p),children:[G(),r("div",{className:"".concat(d,"-body"),style:v,children:q}),c()]})})})}function ze(e){var t=ce.createContext(null);function i(n){var l=e(n.initialState);return r(t.Provider,{value:l,children:n.children})}function a(){var n=ce.useContext(t);if(n===null)throw new Error("Component must be wrapped with <Container.Provider>");return n}return{Provider:i,useContainer:a}}export{Le as D,ze as c,Ee as i};
