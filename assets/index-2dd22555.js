import{j as s,b as v,F as A}from"./antdProComponents-adac7b3f.js";import{A as i,G as g,l as S,aJ as M,g as o,e as E,h as d,f as P,F as h,I as F,aK as R,V as j}from"./index-3a0ef4a4.js";import{bm as K}from"./antd-aee96f72.js";import{u as k}from"./useMutation-8cb3539a.js";import{a as B,u as O}from"./utils-a67a12c8.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const V=({ossConfigId:e})=>{const t=b();return s(i,{accessKey:"system:oss:edit",children:s(g,{onClick:()=>t(e)})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const N=({ossConfigIds:e,batch:t,disabled:l})=>{const{message:m,modal:u}=K.useApp(),a=T(),{mutate:f,isLoading:x}=k(M,{onSuccess:()=>{var c;a==null||a.reload(),(c=a==null?void 0:a.clearSelected)==null||c.call(a),m.success("删除成功")}});return s(i,{accessKey:"system:oss:remove",children:s(S,{batch:t,disabled:l,onClick:()=>{u.confirm({title:"删除配置",content:`确定删除编号为 ${e.join(",")} 的配置吗？`,onOk:()=>f({ossConfigIds:e}),okButtonProps:{loading:x}})}})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const[w,,D]=o({title:"配置key",dataIndex:"configKey",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[H,,Y]=o({title:"访问站点",dataIndex:"endpoint",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[q,,L]=o({title:"自定义域名",dataIndex:"domain",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[X,,_]=o({title:"accessKey",dataIndex:"accessKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[Q,,W]=o({title:"secretKey",dataIndex:"secretKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[z,,G]=o({title:"桶名称",dataIndex:"bucketName",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[J,,$]=o({title:"前缀",dataIndex:"prefix",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),U="NO",p=()=>{const{valueEnumSysYesNo:e}=F();return o({title:"是否HTTPS",dataIndex:"isHttps",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:U}})},y=()=>{const{valueEnumSysAccessPolicy:e,defaultValueSysAccessPolicy:t}=R();return o({title:"桶权限类型",dataIndex:"accessPolicy",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:t}})},[Z,,ee]=o({title:"域",dataIndex:"center",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[te,,oe]=o({title:"备注",dataIndex:"remark",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),ae="NORMAL",I=()=>{const{valueEnumSysNormalDisable:e}=j();return o({title:"状态",dataIndex:"status",valueEnum:e,table:{valueType:"select"},form:{valueType:"radio",initialValue:ae}})},se=()=>{const[e]=I(),[t]=p(),[l]=y();return[w,H,q,X,Q,z,J,e,t,l,Z,te,{title:"操作",valueType:"option",render:(m,u)=>v(A,{children:[s(V,{ossConfigId:u.ossConfigId}),s(N,{ossConfigIds:[u.ossConfigId]})]})}]},le=()=>{const[,,e]=I(),[,,t]=p(),[,,l]=y();return[D,Y,L,_,W,G,$,{valueType:"group",columns:[e,t,l]},ee,oe]},r=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomMainTableActions",E(void 0));r.debugLabel="atomMainTableActions";const T=()=>d(r),ne=()=>P(r);var C=(e=>(e[e.Add=0]="Add",e[e.Edit=1]="Edit",e))(C||{});const ue={[0]:"新增",[1]:"编辑"},n=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomAddOrEditModal",B({open:!1,actionType:0}));n.debugLabel="atomAddOrEditModal";const re=()=>d(n),me=()=>{const e=h(n);return()=>{e({open:!0,actionType:0})}},b=()=>{const e=h(n);return t=>{e({open:!0,actionType:1,ossConfigId:t})}},ce=()=>O(n),Te=Object.freeze(Object.defineProperty({__proto__:null,OssConfigActionType:C,OssConfigActionTypeTextMap:ue,useActionRefMainTable:ne,useAtomValueAddOrEditModal:re,useAtomValueMainTableActions:T,useFormColumns:le,useHideAddOrEditModal:ce,useShowAddModal:me,useShowEditModal:b,useTableColumns:se},Symbol.toStringTag,{value:"Module"}));export{N as B,ue as O,re as a,ce as b,C as c,le as d,me as e,ne as f,se as g,Te as i,T as u};
