import{a as o}from"./jsx-runtime-f6344dff.js";import{a9 as l,bg as u,bh as h,aw as d,aC as m,bk as p}from"./index-0cc72bc5.js";import{A as g}from"./index-69b35e55.js";import{b as y}from"./index-8f357e68.js";import{a as x,b as I}from"./index-d553535a.js";import{e as T,f as b}from"./Monitor-2bee4caa.js";import{k,j as f}from"./index-a77e5815.js";import"./index-4a4e95a5.js";import"./vanilla-b7320c16.js";import"./utils.esm-376a1e3d.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const n=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/monitor/online/model/index.ts/atomMainTableActions",x(void 0));n.debugLabel="atomMainTableActions";const A=()=>I(n),v=()=>y(n);globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const s=({userName:e,tokenId:t,batch:i=!1,disabled:c})=>{const a=A();return o(g,{accessKey:r=>r.has(k)?!0:i?r.has("monitor:online:batchLogout"):r.has("monitor:online:forceLogout"),children:o(l,{icon:o(u,{}),disabled:c,danger:!0,size:"small",type:"link",onClick:()=>{h.confirm({title:"操作确认",content:`确定强退用户 ${e} 吗？`,onOk:async()=>{var r;await T({tokenId:t}),(r=a==null?void 0:a.clearSelected)==null||r.call(a),a==null||a.reload(),d.success("强退成功")}})},children:i?"批量强退":"强退"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const j=()=>[{title:"序号",dataIndex:"index",key:"index",valueType:"indexBorder"},{title:"会话编号",dataIndex:"tokenId",key:"tokenId",valueType:"text",hideInSearch:!0,ellipsis:!0,copyable:!0},{title:"用户名称",dataIndex:"userName",key:"userName",valueType:"text"},{title:"部门名称",dataIndex:"deptName",key:"deptName",valueType:"text",hideInSearch:!0},{title:"主机地址",dataIndex:"ipaddr",key:"ipaddr",valueType:"text"},{title:"登录地点",dataIndex:"loginLocation",key:"loginLocation",valueType:"text",hideInSearch:!0},{title:"浏览器",dataIndex:"browser",key:"browser",valueType:"text",hideInSearch:!0},{title:"操作系统",dataIndex:"os",key:"os",valueType:"text",hideInSearch:!0},{title:"登录时间",dataIndex:"loginTime",key:"loginTime",valueType:"dateTime",hideInSearch:!0,sorter:!0},{title:"操作",valueType:"option",fixed:"right",render:(e,t)=>o(s,{tokenId:t.tokenId,userName:t.userName})}],C=({selectedRows:e})=>o(s,{batch:!0,disabled:e.length===0,userName:e.map(t=>t.userName).join(","),tokenId:e.map(t=>t.tokenId).join(",")}),U=()=>{const e=v(),t=j();return o(m,{children:o(p,{rowKey:"tokenId",scroll:{x:"105%"},actionRef:e,columns:t,request:(...i)=>b(f(...i)),tableAlertOptionRender:C})})};export{U as default};
