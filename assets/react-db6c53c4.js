import{a as o,C as l}from"./index-4e3ee620.js";import{r as v,a as he,R as fe}from"./jsx-runtime-f6344dff.js";import{S as pe,s as W,n as ye,q as Z,u as $,t as me,f as Ee,b as Pe,r as ee,i as Re,a as V,v as Te,w as Oe,x as Se,e as ve}from"./utils-592971c8.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const je=(e,t={})=>o({path:"/system/config/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Xe=(e,t={})=>o({path:"/system/config/configKey",method:"GET",query:e,secure:!0,skipErrorHandler:!0,...t}),ze=(e,t={})=>o({path:"/system/config/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),We=(e,t={})=>o({path:"/system/config/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ze=(e={})=>o({path:"/system/config/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...e}),$e=(e,t={})=>o({path:"/system/config/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),et=(e,t={})=>o({path:"/system/config/updateByKey",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),tt=(e,t={})=>o({path:"/system/dept/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),st=(e,t={})=>o({path:"/system/dept/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),rt=(e,t={})=>o({path:"/system/dept/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),nt=(e,t={})=>o({path:"/system/dept/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ot=(e,t={})=>o({path:"/system/dept/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),it=(e,t={})=>o({path:"/system/dept/roleDeptTreeSelect",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),at=(e,t={})=>o({path:"/system/dept/treeSelect",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ut=(e,t={})=>o({path:"/system/dict/data/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ct=(e,t={})=>o({path:"/system/dict/data/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),lt=(e,t={})=>o({path:"/system/dict/data/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),dt=(e,t={})=>o({path:"/system/dict/data/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),ht=(e,t={})=>o({path:"/system/dict/data/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),ft=(e,t={})=>o({path:"/system/dict/data/type",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),pt=(e,t={})=>o({path:"/system/dict/type/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),yt=(e,t={})=>o({path:"/system/dict/type/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),mt=(e,t={})=>o({path:"/system/dict/type/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Et=(e,t={})=>o({path:"/system/dict/type/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Pt=(e={})=>o({path:"/system/dict/type/optionSelect",method:"GET",secure:!0,skipErrorHandler:!1,...e}),Rt=(e={})=>o({path:"/system/dict/type/refreshCache",method:"POST",secure:!0,skipErrorHandler:!1,...e}),Tt=(e,t={})=>o({path:"/system/dict/type/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Ot=(e,t={})=>o({path:"/system/menu/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),St=(e,t={})=>o({path:"/system/menu/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),vt=(e,t={})=>o({path:"/system/menu/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),gt=(e,t={})=>o({path:"/system/menu/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),bt=(e,t={})=>o({path:"/system/menu/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),_t=(e,t={})=>o({path:"/system/menu/roleMenuTreeSelect",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),kt=(e,t={})=>o({path:"/system/notice/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),It=(e,t={})=>o({path:"/system/notice/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),At=(e,t={})=>o({path:"/system/notice/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ht=(e,t={})=>o({path:"/system/notice/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Dt=(e,t={})=>o({path:"/system/oss/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ut=(e,t={})=>o({path:"/system/post/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ct=(e,t={})=>o({path:"/system/post/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),wt=(e,t={})=>o({path:"/system/post/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Qt=(e,t={})=>o({path:"/system/post/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),xt=(e,t={})=>o({path:"/system/post/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),Mt=(e,t={})=>o({path:"/system/user/profile",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Vt=(e,t={})=>o({path:"/system/user/profile/updatePwd",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Kt=(e,t={})=>o({path:"/system/role/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Jt=(e,t={})=>o({path:"/system/role/authUser/allocatedList",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Lt=(e,t={})=>o({path:"/system/role/authUser/cancel",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Yt=(e,t={})=>o({path:"/system/role/authUser/cancelAll",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Gt=(e,t={})=>o({path:"/system/role/authUser/selectAll",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Nt=(e,t={})=>o({path:"/system/role/authUser/unallocatedList",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Bt=(e,t={})=>o({path:"/system/role/dataScope",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Ft=(e,t={})=>o({path:"/system/role/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),qt=(e,t={})=>o({path:"/system/role/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),jt=(e,t={})=>o({path:"/system/role/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Xt=(e,t={})=>o({path:"/system/role/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),zt=(e,t={})=>o({path:"/system/user/",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),Wt=(e,t={})=>o({path:"/system/user/add",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),Zt=(e,t={})=>o({path:"/system/user/edit",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),$t=(e,t={})=>o({path:"/system/user/export",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),es=(e={})=>o({path:"/system/user/importTemplate",method:"POST",secure:!0,skipErrorHandler:!1,...e}),ts=(e,t={})=>o({path:"/system/user/info",method:"GET",query:e,secure:!0,skipErrorHandler:!1,...t}),ss=(e,t={})=>o({path:"/system/user/list",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t}),rs=(e,t={})=>o({path:"/system/user/remove",method:"POST",query:e,secure:!0,skipErrorHandler:!1,...t}),ns=(e,t={})=>o({path:"/system/user/resetPwd",method:"POST",body:e,secure:!0,type:l.Json,skipErrorHandler:!1,...t});class ge extends pe{constructor(t,s){super(),this.client=t,this.options=s,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(s)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.length===1&&(this.currentQuery.addObserver(this),te(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return X(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return X(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,s){const i=this.options,p=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),W(i,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=i.queryKey),this.updateQuery();const u=this.hasListeners();u&&se(this.currentQuery,p,this.options,i)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==p||this.options.enabled!==i.enabled||this.options.staleTime!==i.staleTime)&&this.updateStaleTimeout();const d=this.computeRefetchInterval();u&&(this.currentQuery!==p||this.options.enabled!==i.enabled||d!==this.currentRefetchInterval)&&this.updateRefetchInterval(d)}getOptimisticResult(t){const s=this.client.getQueryCache().build(this.client,t);return this.createResult(s,t)}getCurrentResult(){return this.currentResult}trackResult(t){const s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(i),t[i])})}),s}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...s}={}){return this.fetch({...s,meta:{refetchPage:t}})}fetchOptimistic(t){const s=this.client.defaultQueryOptions(t),i=this.client.getQueryCache().build(this.client,s);return i.isFetchingOptimistic=!0,i.fetch().then(()=>this.createResult(i,s))}fetch(t){var s;return this.executeFetch({...t,cancelRefetch:(s=t.cancelRefetch)!=null?s:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let s=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(s=s.catch(ye)),s}updateStaleTimeout(){if(this.clearStaleTimeout(),Z||this.currentResult.isStale||!$(this.options.staleTime))return;const s=me(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},s)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Z||this.options.enabled===!1||!$(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||Ee.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,s){const i=this.currentQuery,p=this.options,u=this.currentResult,d=this.currentResultState,m=this.currentResultOptions,P=t!==i,T=P?t.state:this.currentQueryInitialState,R=P?this.currentResult:this.previousQueryResult,{state:O}=t;let{dataUpdatedAt:Q,error:D,errorUpdatedAt:K,fetchStatus:k,status:g}=O,H=!1,U=!1,S;if(s._optimisticResults){const n=this.hasListeners(),a=!n&&te(t,s),c=n&&se(t,i,s,p);(a||c)&&(k=Pe(t.options.networkMode)?"fetching":"paused",Q||(g="loading")),s._optimisticResults==="isRestoring"&&(k="idle")}if(s.keepPreviousData&&!O.dataUpdatedAt&&R!=null&&R.isSuccess&&g!=="error")S=R.data,Q=R.dataUpdatedAt,g=R.status,H=!0;else if(s.select&&typeof O.data<"u")if(u&&O.data===(d==null?void 0:d.data)&&s.select===this.selectFn)S=this.selectResult;else try{this.selectFn=s.select,S=s.select(O.data),S=ee(u==null?void 0:u.data,S,s),this.selectResult=S,this.selectError=null}catch(n){this.selectError=n}else S=O.data;if(typeof s.placeholderData<"u"&&typeof S>"u"&&g==="loading"){let n;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(m==null?void 0:m.placeholderData))n=u.data;else if(n=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof n<"u")try{n=s.select(n),this.selectError=null}catch(a){this.selectError=a}typeof n<"u"&&(g="success",S=ee(u==null?void 0:u.data,n,s),U=!0)}this.selectError&&(D=this.selectError,S=this.selectResult,K=Date.now(),g="error");const x=k==="fetching",I=g==="loading",C=g==="error";return{status:g,fetchStatus:k,isLoading:I,isSuccess:g==="success",isError:C,isInitialLoading:I&&x,data:S,dataUpdatedAt:Q,error:D,errorUpdatedAt:K,failureCount:O.fetchFailureCount,failureReason:O.fetchFailureReason,errorUpdateCount:O.errorUpdateCount,isFetched:O.dataUpdateCount>0||O.errorUpdateCount>0,isFetchedAfterMount:O.dataUpdateCount>T.dataUpdateCount||O.errorUpdateCount>T.errorUpdateCount,isFetching:x,isRefetching:x&&!I,isLoadingError:C&&O.dataUpdatedAt===0,isPaused:k==="paused",isPlaceholderData:U,isPreviousData:H,isRefetchError:C&&O.dataUpdatedAt!==0,isStale:z(t,s),refetch:this.refetch,remove:this.remove}}updateResult(t){const s=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,W(i,s))return;this.currentResult=i;const p={cache:!0},u=()=>{if(!s)return!0;const{notifyOnChangeProps:d}=this.options;if(d==="all"||!d&&!this.trackedProps.size)return!0;const m=new Set(d??this.trackedProps);return this.options.useErrorBoundary&&m.add("error"),Object.keys(this.currentResult).some(P=>{const T=P;return this.currentResult[T]!==s[T]&&m.has(T)})};(t==null?void 0:t.listeners)!==!1&&u()&&(p.listeners=!0),this.notify({...p,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const s=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const s={};t.type==="success"?s.onSuccess=!t.manual:t.type==="error"&&!Re(t.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()}notify(t){V.batch(()=>{if(t.onSuccess){var s,i,p,u;(s=(i=this.options).onSuccess)==null||s.call(i,this.currentResult.data),(p=(u=this.options).onSettled)==null||p.call(u,this.currentResult.data,null)}else if(t.onError){var d,m,P,T;(d=(m=this.options).onError)==null||d.call(m,this.currentResult.error),(P=(T=this.options).onSettled)==null||P.call(T,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(R=>{R(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function be(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function te(e,t){return be(e,t)||e.state.dataUpdatedAt>0&&X(e,t,t.refetchOnMount)}function X(e,t,s){if(t.enabled!==!1){const i=typeof s=="function"?s(e):s;return i==="always"||i!==!1&&z(e,t)}return!1}function se(e,t,s,i){return s.enabled!==!1&&(e!==t||i.enabled===!1)&&(!s.suspense||e.state.status!=="error")&&z(e,s)}function z(e,t){return e.isStaleByTime(t.staleTime)}const ae=v.createContext(!1),_e=()=>v.useContext(ae);ae.Provider;function ke(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Ie=v.createContext(ke()),Ae=()=>v.useContext(Ie),He=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},De=e=>{v.useEffect(()=>{e.clearReset()},[e])},Ue=({result:e,errorResetBoundary:t,useErrorBoundary:s,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&Te(s,[e.error,i]),Ce=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},we=(e,t)=>e.isLoading&&e.isFetching&&!t,Qe=(e,t,s)=>(e==null?void 0:e.suspense)&&we(t,s),xe=(e,t,s)=>t.fetchOptimistic(e).then(({data:i})=>{e.onSuccess==null||e.onSuccess(i),e.onSettled==null||e.onSettled(i,null)}).catch(i=>{s.clearReset(),e.onError==null||e.onError(i),e.onSettled==null||e.onSettled(void 0,i)});function Me(e,t){const s=Oe({context:e.context}),i=_e(),p=Ae(),u=s.defaultQueryOptions(e);u._optimisticResults=i?"isRestoring":"optimistic",u.onError&&(u.onError=V.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=V.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=V.batchCalls(u.onSettled)),Ce(u),He(u,p),De(p);const[d]=v.useState(()=>new t(s,u)),m=d.getOptimisticResult(u);if(Se(v.useCallback(P=>i?()=>{}:d.subscribe(V.batchCalls(P)),[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(u,{listeners:!1})},[u,d]),Qe(u,m,i))throw xe(u,d,p);if(Ue({result:m,errorResetBoundary:p,useErrorBoundary:u.useErrorBoundary,query:d.getCurrentQuery()}))throw m.error;return u.notifyOnChangeProps?m:d.trackResult(m)}function os(e,t,s){const i=ve(e,t,s);return Me(i,ge)}let Ve=0;function is(e,t){const s=`atom${++Ve}`,i={toString:()=>s};return typeof e=="function"?i.read=e:(i.init=e,i.read=p=>p(i),i.write=(p,u,d)=>u(i,typeof d=="function"?d(p(i)):d)),t&&(i.write=t),i}const B=e=>"init"in e,F=e=>!!e.write,G=new WeakMap,Ke=(e,t)=>{G.set(e,t),e.catch(()=>{}).finally(()=>G.delete(e))},re=(e,t)=>{const s=G.get(e);s&&(G.delete(e),s(t))},ne=(e,t)=>{e.status="fulfilled",e.value=t},oe=(e,t)=>{e.status="rejected",e.reason=t},L=(e,t)=>"v"in e&&"v"in t&&Object.is(e.v,t.v),ie=(e,t)=>"e"in e&&"e"in t&&Object.is(e.e,t.e),q=e=>"v"in e&&e.v instanceof Promise,Y=e=>{if("e"in e)throw e.e;return e.v},ue=()=>{const e=new WeakMap,t=new WeakMap,s=new Map;let i,p;({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&(i=new Set,p=new Set);const u=r=>e.get(r),d=(r,n)=>{({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&Object.freeze(n);const a=e.get(r);if(e.set(r,n),s.has(r)||s.set(r,a),a&&q(a)){const c="v"in n?n.v instanceof Promise?n.v:Promise.resolve(n.v):Promise.reject(n.e);re(a.v,c)}},m=(r,n,a)=>{const c=new Map;let h=!1;a.forEach(f=>{const y=f===r?n:u(f);y?(c.set(f,y),n.d.get(f)!==y&&(h=!0)):({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] atom state not found")}),(h||n.d.size!==c.size)&&(n.d=c)},P=(r,n,a)=>{const c=u(r),h={d:(c==null?void 0:c.d)||new Map,v:n};return a&&m(r,h,a),c&&L(c,h)&&c.d===h.d?c:(d(r,h),h)},T=(r,n,a)=>{const c=u(r),h={d:(c==null?void 0:c.d)||new Map,e:n};return a&&m(r,h,a),c&&ie(c,h)&&c.d===h.d?c:(d(r,h),h)},R=r=>{const n=u(r);if(n&&(n.d.forEach((E,b)=>{b!==r&&!t.has(b)&&R(b)}),Array.from(n.d).every(([E,b])=>E===r||u(E)===b)))return n;const a=new Set;let c=!0;const h=E=>{if(a.add(E),E===r){const _=u(E);if(_)return Y(_);if(B(E))return E.init;throw new Error("no atom init")}const b=R(E);return Y(b)};let f,y;const J={get signal(){return f||(f=new AbortController),f.signal},get setSelf(){return({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&!F(r)&&console.warn("setSelf function cannot be used with read-only atom"),!y&&F(r)&&(y=(...E)=>{if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&c&&console.warn("setSelf function cannot be called in sync"),!c)return H(r,...E)}),y}};try{const E=r.read(h,J);if(E instanceof Promise){let b;const _=new Promise((M,de)=>{let w=!1;E.then(A=>{w||(ne(_,A),M(A))},A=>{w||(oe(_,A),de(A))}).finally(()=>{w||(w=!0,P(r,_,a))}),b=A=>{w||(w=!0,A.then(N=>ne(_,N),N=>oe(_,N)),M(A))}});return _.status="pending",Ke(_,M=>{M&&b(M),f==null||f.abort()}),P(r,_,a)}return P(r,E,a)}catch(E){return T(r,E,a)}finally{c=!1}},O=r=>Y(R(r)),Q=r=>{let n=t.get(r);return n||(n=U(r)),n},D=(r,n)=>!n.l.size&&(!n.t.size||n.t.size===1&&n.t.has(r)),K=r=>{const n=t.get(r);n&&D(r,n)&&S(r)},k=r=>{const n=t.get(r);n==null||n.t.forEach(a=>{if(a!==r){const c=u(a),h=R(a);(!c||!L(c,h))&&k(a)}})},g=(r,...n)=>{let a=!0;const c=y=>Y(R(y)),h=(y,...J)=>{let E;if(y===r){if(!B(y))throw new Error("atom not writable");const b=u(y),_=P(y,J[0]);(!b||!L(b,_))&&k(y)}else E=g(y,...J);return a||I(),E},f=r.write(c,h,...n);return a=!1,f},H=(r,...n)=>{const a=g(r,...n);return I(),a},U=(r,n)=>{const a={t:new Set(n&&[n]),l:new Set};if(t.set(r,a),({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&p.add(r),R(r).d.forEach((c,h)=>{const f=t.get(h);f?f.t.add(r):h!==r&&U(h,r)}),R(r),F(r)&&r.onMount){const c=r.onMount((...h)=>H(r,...h));c&&(a.u=c)}return a},S=r=>{var n;const a=(n=t.get(r))==null?void 0:n.u;a&&a(),t.delete(r),({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&p.delete(r);const c=u(r);c?(q(c)&&re(c.v),c.d.forEach((h,f)=>{if(f!==r){const y=t.get(f);y&&(y.t.delete(r),D(f,y)&&S(f))}})):({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] could not find atom state to unmount",r)},x=(r,n,a)=>{const c=new Set(n.d.keys());a==null||a.forEach((h,f)=>{if(c.has(f)){c.delete(f);return}const y=t.get(f);y&&(y.t.delete(r),D(f,y)&&S(f))}),c.forEach(h=>{const f=t.get(h);f?f.t.add(r):t.has(r)&&U(h,r)})},I=()=>{for(;s.size;){const r=Array.from(s);s.clear(),r.forEach(([n,a])=>{const c=u(n);if(c){c.d!==(a==null?void 0:a.d)&&x(n,c,a==null?void 0:a.d);const h=t.get(n);h&&!(a&&!q(a)&&(L(a,c)||ie(a,c)))&&h.l.forEach(f=>f())}else({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&console.warn("[Bug] no atom state to flush")})}({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&i.forEach(r=>r())},C=(r,n)=>{const a=Q(r);I();const c=a.l;return c.add(n),()=>{c.delete(n),K(r)}};return({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"?{get:O,set:H,sub:C,dev_subscribe_state:r=>(i.add(r),()=>{i.delete(r)}),dev_get_mounted_atoms:()=>p.values(),dev_get_atom_state:r=>e.get(r),dev_get_mounted:r=>t.get(r),dev_restore_atoms:r=>{for(const[n,a]of r)B(n)&&(P(n,a),k(n));I()}}:{get:O,set:H,sub:C}};let j;const Je=()=>(j||(j=ue()),j),ce=v.createContext(void 0),le=e=>{const t=v.useContext(ce);return(e==null?void 0:e.store)||t||Je()},as=({children:e,store:t})=>{const s=v.useRef();return!t&&!s.current&&(s.current=ue()),he(ce.Provider,{value:t||s.current,children:e})},Le=e=>e instanceof Promise,Ye=fe.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function Ge(e,t){const s=le(t),[[i,p,u],d]=v.useReducer(T=>{const R=s.get(e);return Object.is(T[0],R)&&T[1]===s&&T[2]===e?T:[R,s,e]},void 0,()=>[s.get(e),s,e]);let m=i;(p!==s||u!==e)&&(d(),m=s.get(e));const P=t==null?void 0:t.delay;return v.useEffect(()=>{const T=s.sub(e,()=>{if(typeof P=="number"){setTimeout(d,P);return}d()});return d(),T},[s,e,P]),v.useDebugValue(m),Le(m)?Ye(m):m}function Ne(e,t){const s=le(t);return v.useCallback((...p)=>{if(({VITE_API_HOST:"https://test-ryx-admin-api.p.quicknav.cn",VITE_TOKEN_KEY:"RUOYI_TOKEN_GH",BASE_URL:"/RuoYi-X-Admin/",MODE:"gh",DEV:!1,PROD:!0}&&"gh")!=="production"&&!("write"in e))throw new Error("not writable atom");return s.set(e,...p)},[s,e])}function us(e,t){return[Ge(e,t),Ne(e,t)]}export{it as $,ct as A,lt as B,ht as C,Pt as D,dt as E,vt as F,St as G,Ot as H,gt as I,bt as J,kt as K,It as L,Ht as M,At as N,Dt as O,as as P,Ut as Q,Ct as R,wt as S,xt as T,Qt as U,qt as V,_t as W,Ft as X,Kt as Y,Xt as Z,jt as _,os as a,Bt as a0,Yt as a1,Lt as a2,Gt as a3,Nt as a4,Jt as a5,zt as a6,Xe as a7,at as a8,ts as a9,Wt as aa,Zt as ab,ns as ac,$t as ad,es as ae,rs as af,ss as ag,is as b,Ge as c,Mt as d,Vt as e,je as f,et as g,ze as h,Ze as i,$e as j,We as k,nt as l,tt as m,ot as n,rt as o,st as p,pt as q,yt as r,ft as s,mt as t,Ne as u,Rt as v,Tt as w,Et as x,us as y,ut as z};
