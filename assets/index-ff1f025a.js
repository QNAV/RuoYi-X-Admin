import{aa as i,r as h,ac as u,aj as n,$ as l,ak as g,a3 as o,al as f,am as p,a0 as A,an as C}from"./index-9ee3b490.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const j=()=>{const{data:t}=i();return h.exports.useCallback((e,a)=>{var c,s;return u(e,new Set((s=(c=t==null?void 0:t.userInfo)==null?void 0:c.permissions)!=null?s:[]),a)},[t])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const m=t=>{const e=h.exports.useRef(),a=n(t);return h.exports.useEffect(()=>{a(e.current)},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const w=(t,e=!0)=>{const a=h.exports.useRef(),{pathname:c}=l();h.exports.useEffect(()=>{const s=g.find(r=>o(r,c));if(!!s){if(a.current===void 0&&e){a.current=s;return}if(a.current===void 0&&!e){a.current=s,t();return}!o(a.current,c)||t()}},[c])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const T=(t={})=>f({path:"/logout",method:"POST",secure:!0,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const v=()=>{const t=p(),e=A();return async()=>{await T(),C(),t.clear(),e("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{m as a,j as b,w as c,v as u};
