import{j as s,A as i,T as f,y as A,aZ as g,p as o,a as S,F as M,q as E,v as d,t as P,R as h,V as R,a_ as F,a5 as j}from"./index-b5eebe28.js";import{bg as k}from"./antd-f7a9cbdb.js";import{u as K}from"./useMutation-cb32f323.js";import{a as B,u as O}from"./utils-2835fcdf.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const V=({ossConfigId:e})=>{const t=b();return s(i,{accessKey:"system:oss:edit",children:s(f,{onClick:()=>t(e)})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const N=({ossConfigIds:e,batch:t,disabled:n})=>{const{message:c,modal:u}=k.useApp(),a=T(),{mutate:v,isLoading:x}=K(g,{onSuccess:()=>{var m;a==null||a.reload(),(m=a==null?void 0:a.clearSelected)==null||m.call(a),c.success("删除成功")}});return s(i,{accessKey:"system:oss:remove",children:s(A,{batch:t,disabled:n,onClick:()=>{u.confirm({title:"删除配置",content:`确定删除编号为 ${e.join(",")} 的配置吗？`,onOk:()=>v({ossConfigIds:e}),okButtonProps:{loading:x}})}})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const[w,,D]=o({title:"配置key",dataIndex:"configKey",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[H,,q]=o({title:"访问站点",dataIndex:"endpoint",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[Y,,_]=o({title:"自定义域名",dataIndex:"domain",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[L,,X]=o({title:"accessKey",dataIndex:"accessKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[Q,,W]=o({title:"secretKey",dataIndex:"secretKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[z,,Z]=o({title:"桶名称",dataIndex:"bucketName",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[$,,G]=o({title:"前缀",dataIndex:"prefix",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),J="NO",p=()=>{const{valueEnumSysYesNo:e}=R();return o({title:"是否HTTPS",dataIndex:"isHttps",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:J}})},y=()=>{const{valueEnumSysAccessPolicy:e,defaultValueSysAccessPolicy:t}=F();return o({title:"桶权限类型",dataIndex:"accessPolicy",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:t}})},[U,,ee]=o({title:"域",dataIndex:"center",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[te,,oe]=o({title:"备注",dataIndex:"remark",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),ae="NORMAL",I=()=>{const{valueEnumSysNormalDisable:e}=j();return o({title:"状态",dataIndex:"status",valueEnum:e,table:{valueType:"select"},form:{valueType:"radio",initialValue:ae}})},se=()=>{const[e]=I(),[t]=p(),[n]=y();return[w,H,Y,L,Q,z,$,e,t,n,U,te,{title:"操作",valueType:"option",render:(c,u)=>S(M,{children:[s(V,{ossConfigId:u.ossConfigId}),s(N,{ossConfigIds:[u.ossConfigId]})]})}]},ne=()=>{const[,,e]=I(),[,,t]=p(),[,,n]=y();return[D,q,_,X,W,Z,G,{valueType:"group",columns:[e,t,n]},ee,oe]},r=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomMainTableActions",E(void 0));r.debugLabel="atomMainTableActions";const T=()=>d(r),le=()=>P(r);var C=(e=>(e[e.Add=0]="Add",e[e.Edit=1]="Edit",e))(C||{});const ue={[0]:"新增",[1]:"编辑"},l=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomAddOrEditModal",B({open:!1,actionType:0}));l.debugLabel="atomAddOrEditModal";const re=()=>d(l),ce=()=>{const e=h(l);return()=>{e({open:!0,actionType:0})}},b=()=>{const e=h(l);return t=>{e({open:!0,actionType:1,ossConfigId:t})}},me=()=>O(l),Ie=Object.freeze(Object.defineProperty({__proto__:null,OssConfigActionType:C,OssConfigActionTypeTextMap:ue,useActionRefMainTable:le,useAtomValueAddOrEditModal:re,useAtomValueMainTableActions:T,useFormColumns:ne,useHideAddOrEditModal:me,useShowAddModal:ce,useShowEditModal:b,useTableColumns:se},Symbol.toStringTag,{value:"Module"}));export{N as B,ue as O,re as a,me as b,C as c,ne as d,ce as e,le as f,se as g,Ie as i,T as u};
