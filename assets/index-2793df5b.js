import{r as l,bj as He,n as X,e as j,bU as It,ac as $t,bf as Rt,bg as Et,bi as Pt,bV as Tt,bW as At,bX as Ke,bY as Nt,bZ as Ye,ab as kt,b_ as Dt,O as Be,m as Fe,b$ as lt,a as Ve,_ as Ie,k as r,j as s,b as B,p as Re,d as P,w as Je,Q as le,c0 as Kt,c1 as Mt,c2 as Bt,c3 as _t,c4 as jt,u as zt,c5 as Ot,c6 as Lt,$ as Ht,a1 as ct,a0 as Ft,am as Vt,ax as dt,c7 as Wt,c8 as Gt,c9 as ut,ca as mt,cb as ht,aA as Xt,A as _e,cc as qt,V as he,a7 as Qt,a2 as Ee,aq as Ut,at as Yt,cd as Jt,E as Zt,f as $e,ce as en,U as tn,a5 as nn,cf as an,F as on,aG as rn,D as sn,cg as ln,ch as cn,ci as dn,o as un,aN as Le,cj as mn,bO as hn,aJ as pn,aK as gn,C as pt,aM as gt,aH as We,ck as fn,cl as xn,cm as yn,B as vn}from"./index-d811d324.js";import{u as Ge}from"./useMutation-e83f1394.js";import{a as Cn,u as bn}from"./utils-85fed1a2.js";import{P as Ze}from"./index-496500c0.js";import{i as et,u as Sn}from"./useRequest-86f5ffe5.js";import{P as wn}from"./index-281137b0.js";var ft=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const In=e=>{var{prefixCls:t,className:n,avatar:a,title:o,description:c}=e,i=ft(e,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:h}=l.useContext(He),y=h("list",t),v=X(`${y}-item-meta`,n),m=j.createElement("div",{className:`${y}-item-meta-content`},o&&j.createElement("h4",{className:`${y}-item-meta-title`},o),c&&j.createElement("div",{className:`${y}-item-meta-description`},c));return j.createElement("div",Object.assign({},i,{className:v}),a&&j.createElement("div",{className:`${y}-item-meta-avatar`},a),(o||c)&&m)},$n=(e,t)=>{var{prefixCls:n,children:a,actions:o,extra:c,className:i,colStyle:h}=e,y=ft(e,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:v,itemLayout:m}=l.useContext(Xe),{getPrefixCls:u}=l.useContext(He),C=()=>{let x;return l.Children.forEach(a,N=>{typeof N=="string"&&(x=!0)}),x&&l.Children.count(a)>1},d=()=>m==="vertical"?!!c:!C(),f=u("list",n),T=o&&o.length>0&&j.createElement("ul",{className:`${f}-item-action`,key:"actions"},o.map((x,N)=>j.createElement("li",{key:`${f}-item-action-${N}`},x,N!==o.length-1&&j.createElement("em",{className:`${f}-item-action-split`})))),A=v?"div":"li",I=j.createElement(A,Object.assign({},y,v?{}:{ref:t},{className:X(`${f}-item`,{[`${f}-item-no-flex`]:!d()},i)}),m==="vertical"&&c?[j.createElement("div",{className:`${f}-item-main`,key:"content"},a,T),j.createElement("div",{className:`${f}-item-extra`,key:"extra"},c)]:[a,T,It(c,{key:"extra"})]);return v?j.createElement($t,{ref:t,flex:1,style:h},I):I},xt=l.forwardRef($n);xt.Meta=In;const Rn=xt,En=e=>{const{listBorderedCls:t,componentCls:n,paddingLG:a,margin:o,padding:c,listItemPaddingSM:i,marginLG:h,borderRadiusLG:y}=e;return{[`${t}`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:y,[`${n}-header,${n}-footer,${n}-item`]:{paddingInline:a},[`${n}-pagination`]:{margin:`${o}px ${h}px`}},[`${t}${n}-sm`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:i}},[`${t}${n}-lg`]:{[`${n}-item,${n}-header,${n}-footer`]:{padding:`${c}px ${a}px`}}}},Pn=e=>{const{componentCls:t,screenSM:n,screenMD:a,marginLG:o,marginSM:c,margin:i}=e;return{[`@media screen and (max-width:${a})`]:{[`${t}`]:{[`${t}-item`]:{[`${t}-item-action`]:{marginInlineStart:o}}},[`${t}-vertical`]:{[`${t}-item`]:{[`${t}-item-extra`]:{marginInlineStart:o}}}},[`@media screen and (max-width: ${n})`]:{[`${t}`]:{[`${t}-item`]:{flexWrap:"wrap",[`${t}-action`]:{marginInlineStart:c}}},[`${t}-vertical`]:{[`${t}-item`]:{flexWrap:"wrap-reverse",[`${t}-item-main`]:{minWidth:e.contentWidth},[`${t}-item-extra`]:{margin:`auto auto ${i}px`}}}}}},Tn=e=>{const{componentCls:t,antCls:n,controlHeight:a,minHeight:o,paddingSM:c,marginLG:i,padding:h,listItemPadding:y,colorPrimary:v,listItemPaddingSM:m,listItemPaddingLG:u,paddingXS:C,margin:d,colorText:f,colorTextDescription:T,motionDurationSlow:A,lineWidth:I}=e,x={};return["start","center","end"].forEach(N=>{x[`&-align-${N}`]={textAlign:N}}),{[`${t}`]:Object.assign(Object.assign({},Pt(e)),{position:"relative","*":{outline:"none"},[`${t}-header, ${t}-footer`]:{background:"transparent",paddingBlock:c},[`${t}-pagination`]:Object.assign(Object.assign({marginBlockStart:i},x),{[`${n}-pagination-options`]:{textAlign:"start"}}),[`${t}-spin`]:{minHeight:o,textAlign:"center"},[`${t}-items`]:{margin:0,padding:0,listStyle:"none"},[`${t}-item`]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:y,color:f,[`${t}-item-meta`]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",[`${t}-item-meta-avatar`]:{marginInlineEnd:h},[`${t}-item-meta-content`]:{flex:"1 0",width:0,color:f},[`${t}-item-meta-title`]:{marginBottom:e.marginXXS,color:f,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":{color:f,transition:`all ${A}`,["&:hover"]:{color:v}}},[`${t}-item-meta-description`]:{color:T,fontSize:e.fontSize,lineHeight:e.lineHeight}},[`${t}-item-action`]:{flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none",["& > li"]:{position:"relative",display:"inline-block",padding:`0 ${C}px`,color:T,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center",["&:first-child"]:{paddingInlineStart:0}},[`${t}-item-action-split`]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:I,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}}},[`${t}-empty`]:{padding:`${h}px 0`,color:T,fontSize:e.fontSizeSM,textAlign:"center"},[`${t}-empty-text`]:{padding:h,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"},[`${t}-item-no-flex`]:{display:"block"}}),[`${t}-grid ${n}-col > ${t}-item`]:{display:"block",maxWidth:"100%",marginBlockEnd:d,paddingBlock:0,borderBlockEnd:"none"},[`${t}-vertical ${t}-item`]:{alignItems:"initial",[`${t}-item-main`]:{display:"block",flex:1},[`${t}-item-extra`]:{marginInlineStart:i},[`${t}-item-meta`]:{marginBlockEnd:h,[`${t}-item-meta-title`]:{marginBlockStart:0,marginBlockEnd:c,color:f,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}},[`${t}-item-action`]:{marginBlockStart:h,marginInlineStart:"auto","> li":{padding:`0 ${h}px`,["&:first-child"]:{paddingInlineStart:0}}}},[`${t}-split ${t}-item`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,["&:last-child"]:{borderBlockEnd:"none"}},[`${t}-split ${t}-header`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-split${t}-empty ${t}-footer`]:{borderTop:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-loading ${t}-spin-nested-loading`]:{minHeight:a},[`${t}-split${t}-something-after-last-item ${n}-spin-container > ${t}-items > ${t}-item:last-child`]:{borderBlockEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`},[`${t}-lg ${t}-item`]:{padding:u},[`${t}-sm ${t}-item`]:{padding:m},[`${t}:not(${t}-vertical)`]:{[`${t}-item-no-flex`]:{[`${t}-item-action`]:{float:"right"}}}}},An=Rt("List",e=>{const t=Et(e,{listBorderedCls:`${e.componentCls}-bordered`,minHeight:e.controlHeightLG,listItemPadding:`${e.paddingContentVertical}px 0`,listItemPaddingSM:`${e.paddingContentVerticalSM}px ${e.paddingContentHorizontal}px`,listItemPaddingLG:`${e.paddingContentVerticalLG}px ${e.paddingContentHorizontalLG}px`});return[Tn(t),En(t),Pn(t)]},{contentWidth:220});var Nn=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]]);return n};const Xe=l.createContext({});Xe.Consumer;function Me(e){var t,{pagination:n=!1,prefixCls:a,bordered:o=!1,split:c=!0,className:i,rootClassName:h,children:y,itemLayout:v,loadMore:m,grid:u,dataSource:C=[],size:d,header:f,footer:T,loading:A=!1,rowKey:I,renderItem:x,locale:N}=e,q=Nn(e,["pagination","prefixCls","bordered","split","className","rootClassName","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const U=n&&typeof n=="object"?n:{},[b,R]=l.useState(U.defaultCurrent||1),[ne,W]=l.useState(U.defaultPageSize||10),{getPrefixCls:Y,renderEmpty:w,direction:O}=l.useContext(He),H={current:1,total:0},ae=g=>(p,_)=>{R(p),W(_),n&&n[g]&&n[g](p,_)},re=ae("onChange"),se=ae("onShowSizeChange"),Q=(g,p)=>{if(!x)return null;let _;return typeof I=="function"?_=I(g):I?_=g[I]:_=g.key,_||(_=`list-item-${p}`),l.createElement(l.Fragment,{key:_},x(g,p))},oe=()=>!!(m||n||T),$=Y("list",a),[D,G]=An($);let k=A;typeof k=="boolean"&&(k={spinning:k});const E=k&&k.spinning;let M="";switch(d){case"large":M="lg";break;case"small":M="sm";break}const L=X($,{[`${$}-vertical`]:v==="vertical",[`${$}-${M}`]:M,[`${$}-split`]:c,[`${$}-bordered`]:o,[`${$}-loading`]:E,[`${$}-grid`]:!!u,[`${$}-something-after-last-item`]:oe(),[`${$}-rtl`]:O==="rtl"},i,h,G),K=Tt(H,{total:C.length,current:b,pageSize:ne},n||{}),F=Math.ceil(K.total/K.pageSize);K.current>F&&(K.current=F);const J=n?l.createElement("div",{className:X(`${$}-pagination`,`${$}-pagination-align-${(t=K==null?void 0:K.align)!==null&&t!==void 0?t:"end"}`)},l.createElement(At,Object.assign({},K,{onChange:re,onShowSizeChange:se}))):null;let Z=Ke(C);n&&C.length>(K.current-1)*K.pageSize&&(Z=Ke(C).splice((K.current-1)*K.pageSize,K.pageSize));const pe=Object.keys(u||{}).some(g=>["xs","sm","md","lg","xl","xxl"].includes(g)),ce=Nt(pe),V=l.useMemo(()=>{for(let g=0;g<Ye.length;g+=1){const p=Ye[g];if(ce[p])return p}},[ce]),ge=l.useMemo(()=>{if(!u)return;const g=V&&u[V]?u[V]:u.column;if(g)return{width:`${100/g}%`,maxWidth:`${100/g}%`}},[u==null?void 0:u.column,V]);let ie=E&&l.createElement("div",{style:{minHeight:53}});if(Z.length>0){const g=Z.map((p,_)=>Q(p,_));ie=u?l.createElement(kt,{gutter:u.gutter},l.Children.map(g,p=>l.createElement("div",{key:p==null?void 0:p.key,style:ge},p))):l.createElement("ul",{className:`${$}-items`},g)}else!y&&!E&&(ie=l.createElement("div",{className:`${$}-empty-text`},N&&N.emptyText||(w==null?void 0:w("List"))||l.createElement(Dt,{componentName:"List"})));const z=K.position||"bottom",S=l.useMemo(()=>({grid:u,itemLayout:v}),[JSON.stringify(u),v]);return D(l.createElement(Xe.Provider,{value:S},l.createElement("div",Object.assign({className:L},q),(z==="top"||z==="both")&&J,f&&l.createElement("div",{className:`${$}-header`},f),l.createElement(Be,Object.assign({},k),ie,y),T&&l.createElement("div",{className:`${$}-footer`},T),m||(z==="bottom"||z==="both")&&J)))}Me.Item=Rn;function kn(e,t){for(var n=e,a=0;a<t.length;a+=1){if(n==null)return;n=n[t[a]]}return n}var Dn=["title","subTitle","avatar","description","extra","content","actions","type"],Kn=Dn.reduce(function(e,t){return e.set(t,!0),e},new Map);function Mn(e,t){return zn(e)||jn(e,t)||_n(e,t)||Bn()}function Bn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(e,t){if(e){if(typeof e=="string")return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tt(e,t)}}function tt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function jn(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],a=!0,o=!1,c=void 0;try{for(var i=e[Symbol.iterator](),h;!(a=(h=i.next()).done)&&(n.push(h.value),!(t&&n.length===t));a=!0);}catch(y){o=!0,c=y}finally{try{!a&&i.return!=null&&i.return()}finally{if(o)throw c}}return n}}function zn(e){if(Array.isArray(e))return e}function On(e,t){var n=t||{},a=n.defaultValue,o=n.value,c=n.onChange,i=n.postState,h=l.useState(function(){return o!==void 0?o:a!==void 0?typeof a=="function"?a():a:typeof e=="function"?e():e}),y=Mn(h,2),v=y[0],m=y[1],u=o!==void 0?o:v;i&&(u=i(u));function C(f){m(f),u!==f&&c&&c(f,u)}var d=l.useRef(!0);return l.useEffect(function(){if(d.current){d.current=!1;return}o===void 0&&m(o)},[o]),[u,C]}var Ln=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function Hn(e){var t,n=e.prefixCls,a=e.expandIcon,o=a===void 0?s(Kt,{}):a,c=e.onExpand,i=e.expanded,h=e.record,y=e.hashId,v=o,m="".concat(n,"-row-expand-icon"),u=function(d){c(!i),d.stopPropagation()};return typeof o=="function"&&(v=o({expanded:i,onExpand:c,record:h})),s("span",{className:X(m,y,(t={},r(t,"".concat(n,"-row-expanded"),i),r(t,"".concat(n,"-row-collapsed"),!i),t)),onClick:u,children:v})}function Fn(e){var t,n,a,o,c,i=e.prefixCls,h=l.useContext(Fe.ConfigContext),y=h.getPrefixCls,v=l.useContext(lt),m=v.hashId,u=y("pro-list",i),C="".concat(u,"-row"),d=e.title,f=e.subTitle,T=e.content,A=e.itemTitleRender;e.prefixCls;var I=e.actions;e.item,e.recordKey;var x=e.avatar,N=e.cardProps,q=e.description,U=e.isEditable,b=e.checkbox,R=e.index,ne=e.selected,W=e.loading,Y=e.expand,w=e.onExpand,O=e.expandable,H=e.rowSupportExpand,ae=e.showActions,re=e.showExtra,se=e.type,Q=e.style,oe=e.className,$=oe===void 0?C:oe,D=e.record,G=e.onRow,k=e.onItem,E=e.itemHeaderRender,M=e.cardActionProps,L=e.extra,K=Ve(e,Ln),F=O||{},J=F.expandedRowRender,Z=F.expandIcon,pe=F.expandRowByClick,ce=F.indentSize,V=ce===void 0?8:ce,ge=F.expandedRowClassName,ie=On(!!Y,{value:Y,onChange:w}),z=Ie(ie,2),S=z[0],g=z[1],p=X((t={},r(t,"".concat(C,"-selected"),!N&&ne),r(t,"".concat(C,"-show-action-hover"),ae==="hover"),r(t,"".concat(C,"-type-").concat(se),!!se),r(t,"".concat(C,"-editable"),U),r(t,"".concat(C,"-show-extra-hover"),re==="hover"),t),m,C),_=X(m,r({},"".concat($,"-extra"),re==="hover")),fe=S||Object.values(O||{}).length===0,xe=J&&J(D,R,V,S),de=l.useMemo(function(){if(!(!I||M==="actions"))return[s("div",{onClick:function(te){return te.stopPropagation()},children:I},"action")]},[I,M]),Pe=l.useMemo(function(){if(!(!I||!M||M==="extra"))return[s("div",{className:"".concat(p,"-actions ").concat(m),onClick:function(te){return te.stopPropagation()},children:I},"action")]},[I,M,p,m]),Se=d||f?B("div",{className:"".concat(p,"-header-title ").concat(m),children:[d&&s("div",{className:"".concat(p,"-title ").concat(m),children:d}),f&&s("div",{className:"".concat(p,"-subTitle ").concat(m),children:f})]}):null,ye=(n=A&&(A==null?void 0:A(D,R,Se)))!==null&&n!==void 0?n:Se,Te=ye||x||f||q?s(Me.Item.Meta,{avatar:x,title:ye,description:q&&fe&&s("div",{className:"".concat(p,"-description ").concat(m),children:q})}):null,Ae=X(m,(a={},r(a,"".concat(p,"-item-has-checkbox"),b),r(a,"".concat(p,"-item-has-avatar"),x),r(a,p,p),a)),ee=l.useMemo(function(){return x||d?B(Re,{children:[x,s("span",{className:"".concat(y("list-item-meta-title")," ").concat(m),children:d})]}):null},[x,y,m,d]),ve=N?s(le,P(P(P({bordered:!0,loading:W,hoverable:!0},N),{},{title:ee,subTitle:f,extra:de,actions:Pe,bodyStyle:P({padding:24},N.bodyStyle)},k==null?void 0:k(D,R)),{},{children:s(Je,{avatar:!0,title:!1,loading:W,active:!0,children:B("div",{className:"".concat(p,"-header ").concat(m),children:[A&&(A==null?void 0:A(D,R,Se)),T]})})})):s(Me.Item,P(P(P(P({className:X(Ae,m,r({},$,$!==C))},K),{},{actions:de,extra:!!L&&s("div",{className:_,children:L})},G==null?void 0:G(D,R)),k==null?void 0:k(D,R)),{},{onClick:function(te){var ue,Ce,Ne,ze;G==null||(ue=G(D,R))===null||ue===void 0||(Ce=ue.onClick)===null||Ce===void 0||Ce.call(ue,te),k==null||(Ne=k(D,R))===null||Ne===void 0||(ze=Ne.onClick)===null||ze===void 0||ze.call(Ne,te),pe&&g(!S)},children:B(Je,{avatar:!0,title:!1,loading:W,active:!0,children:[B("div",{className:"".concat(p,"-header ").concat(m),children:[B("div",{className:"".concat(p,"-header-option ").concat(m),children:[!!b&&s("div",{className:"".concat(p,"-checkbox ").concat(m),children:b}),Object.values(O||{}).length>0&&H&&Hn({prefixCls:u,hashId:m,expandIcon:Z,onExpand:g,expanded:S,record:D})]}),(o=E&&(E==null?void 0:E(D,R,Te)))!==null&&o!==void 0?o:Te]}),fe&&(T||xe)&&B("div",{className:"".concat(p,"-content ").concat(m),children:[T,J&&H&&s("div",{className:ge&&ge(D,R,V),children:xe})]})]})}));return N?s("div",{className:X(m,(c={},r(c,"".concat(p,"-card"),N),r(c,$,$!==C),c)),style:Q,children:ve}):ve}var Vn=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function Wn(e){var t=e.dataSource,n=e.columns,a=e.rowKey,o=e.showActions,c=e.showExtra,i=e.prefixCls,h=e.actionRef,y=e.itemTitleRender,v=e.renderItem,m=e.itemCardProps,u=e.itemHeaderRender,C=e.expandable,d=e.rowSelection,f=e.pagination,T=e.onRow,A=e.onItem,I=e.rowClassName,x=Ve(e,Vn),N=l.useContext(lt),q=N.hashId,U=l.useContext(Fe.ConfigContext),b=U.getPrefixCls,R=j.useMemo(function(){return typeof a=="function"?a:function(z,S){return z[a]||S}},[a]),ne=Mt(t,"children",R),W=Ie(ne,1),Y=W[0],w=Bt(t.length,P({responsive:!0},f),function(){}),O=Ie(w,1),H=O[0],ae=j.useMemo(function(){if(f===!1||!H.pageSize||t.length<H.total)return t;var z=H.current,S=z===void 0?1:z,g=H.pageSize,p=g===void 0?10:g,_=t.slice((S-1)*p,S*p);return _},[t,H,f]),re=b("pro-list",i),se=_t(d,{getRowKey:R,getRecordByKey:Y,prefixCls:re,data:t,pageData:ae,expandType:"row",childrenColumnName:"children",locale:{}}),Q=Ie(se,2),oe=Q[0],$=Q[1],D=C||{},G=D.expandedRowKeys,k=D.defaultExpandedRowKeys,E=D.defaultExpandAllRows,M=E===void 0?!0:E,L=D.onExpand,K=D.onExpandedRowsChange,F=D.rowExpandable,J=j.useState(function(){return k||(M!==!1?t.map(R):[])}),Z=Ie(J,2),pe=Z[0],ce=Z[1],V=j.useMemo(function(){return new Set(G||pe||[])},[G,pe]),ge=j.useCallback(function(z){var S=R(z,t.indexOf(z)),g,p=V.has(S);p?(V.delete(S),g=Ke(V)):g=[].concat(Ke(V),[S]),ce(g),L&&L(!p,z),K&&K(g)},[R,V,t,L,K]),ie=oe([])[0];return s(Me,P(P({},x),{},{className:X(b("pro-list-container",i),q,x.className),dataSource:ae,pagination:f&&H,renderItem:function(S,g){var p,_,fe,xe={className:typeof I=="function"?I(S,g):I};n==null||n.forEach(function(ee){var ve=ee.listKey,we=ee.cardActionProps;if(Kn.has(ve)){var te=ee.dataIndex||ve||ee.key,ue=Array.isArray(te)?kn(S,te):S[te];we==="actions"&&ve==="actions"&&(xe.cardActionProps=we);var Ce=ee.render?ee.render(ue,S,g):ue;Ce!=="-"&&(xe[ee.listKey]=Ce)}});var de;ie&&ie.render&&(de=ie.render(S,S,g)||void 0);var Pe=((p=h.current)===null||p===void 0?void 0:p.isEditable(P(P({},S),{},{index:g})))||{},Se=Pe.isEditable,ye=Pe.recordKey,Te=$.has(ye||g),Ae=s(Fn,P(P({cardProps:x.grid?P(P(P({},m),x.grid),{},{checked:Te,onChecked:j.isValidElement(de)?(_=de)===null||_===void 0||(fe=_.props)===null||fe===void 0?void 0:fe.onChange:void 0}):void 0},xe),{},{recordKey:ye,isEditable:Se||!1,expandable:C,expand:V.has(R(S,g)),onExpand:function(){ge(S)},index:g,record:S,item:S,showActions:o,showExtra:c,itemTitleRender:y,itemHeaderRender:u,rowSupportExpand:!F||F&&F(S),selected:$.has(R(S,g)),checkbox:de,onRow:T,onItem:A}),ye);return v?v(S,g,Ae):Ae}}))}var Gn=new jt("techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),Xn=function(t){var n,a,o,c,i,h;return r({},t.componentCls,(h={backgroundColor:"transparent"},r(h,"".concat(t.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),r(h,"&-row",(i={borderBlockEnd:"1px solid ".concat(t.colorSplit)},r(i,"".concat(t.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),r(i,"&:last-child",r({borderBlockEnd:"none"},"".concat(t.antCls,"-list-item"),{borderBlockEnd:"none"})),r(i,"&:hover",(n={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},r(n,"".concat(t.antCls,"-list-item-action"),{display:"block"}),r(n,"".concat(t.antCls,"-list-item-extra"),{display:"flex"}),r(n,"".concat(t.componentCls,"-row-extra"),{display:"block"}),r(n,"".concat(t.componentCls,"-row-subheader-actions"),{display:"block"}),n)),r(i,"&-card",r({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(t.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),r(i,"&".concat(t.componentCls,"-row-editable"),r({},"".concat(t.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),r(i,"&".concat(t.componentCls,"-row-selected"),{backgroundColor:t.colorPrimaryBgHover,"&:hover":{backgroundColor:t.colorPrimaryBgHover}}),r(i,"&".concat(t.componentCls,"-row-type-new"),{animationName:Gn,animationDuration:"3s"}),r(i,"&".concat(t.componentCls,"-row-type-inline"),r({},"".concat(t.componentCls,"-row-title"),{fontWeight:"normal"})),r(i,"&".concat(t.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),r(i,"&-show-action-hover",r({},"".concat(t.antCls,`-list-item-action,
            `).concat(t.proComponentsCls,`-card-extra,
            `).concat(t.proComponentsCls,"-card-actions"),{display:"flex"})),r(i,"&-show-extra-hover",r({},"".concat(t.antCls,"-list-item-extra"),{display:"none"})),r(i,"&-extra",{display:"none"}),r(i,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:t.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),r(i,"&-expand-icon",{marginInlineEnd:8,display:"flex",fontSize:12,cursor:"pointer",height:"24px",marginRight:4,color:t.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),r(i,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),r(i,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:t.colorPrimary}}),r(i,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),r(i,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),r(i,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),r(i,"&-avatar",{display:"flex"}),r(i,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start",h4:{margin:0,padding:0}}),r(i,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),r(i,"&-header-option",{display:"flex"}),r(i,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),r(i,"&-no-split",(a={},r(a,"".concat(t.componentCls,"-row"),{borderBlockEnd:"none"}),r(a,"".concat(t.antCls,"-list ").concat(t.antCls,"-list-item"),{borderBlockEnd:"none"}),a)),r(i,"&-bordered",r({},"".concat(t.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(t.colorSplit)})),r(i,"".concat(t.antCls,"-list-vertical"),(o={},r(o,"".concat(t.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),r(o,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),r(o,"&-content",{marginBlock:0,marginInline:0}),r(o,"&-subTitle",{marginBlockStart:8}),r(o,"".concat(t.antCls,"-list-item-extra"),r({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(t.componentCls,"-row-description"),{marginBlockStart:16})),r(o,"".concat(t.antCls,"-list-bordered ").concat(t.antCls,"-list-item"),{paddingInline:0}),r(o,"".concat(t.componentCls,"-row-show-extra-hover"),r({},"".concat(t.antCls,"-list-item-extra "),{display:"none"})),o)),r(i,"".concat(t.antCls,"-list-pagination"),{marginBlockStart:t.margin,marginBlockEnd:t.margin}),r(i,"".concat(t.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),r(i,"".concat(t.antCls,"-list-vertical ").concat(t.proComponentsCls,"-list-row"),r({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(t.antCls,"-list-item"),(c={width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18},r(c,"".concat(t.antCls,"-list-item-meta-avatar"),{display:"flex",alignItems:"center",marginInlineEnd:8}),r(c,"".concat(t.antCls,"-list-item-action-split"),{display:"none"}),r(c,"".concat(t.antCls,"-list-item-meta-title"),{marginBlock:0,marginInline:0}),c))),i)),h))};function qn(e){return zt("ProList",function(t){var n=P(P({},t),{},{componentCls:".".concat(e)});return[Xn(n)]})}var Qn=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function Un(e){var t=e.metas,n=e.split,a=e.footer,o=e.rowKey,c=e.tooltip,i=e.className,h=e.options,y=h===void 0?!1:h,v=e.search,m=v===void 0?!1:v,u=e.expandable,C=e.showActions,d=e.showExtra,f=e.rowSelection,T=f===void 0?!1:f,A=e.pagination,I=A===void 0?!1:A,x=e.itemLayout,N=e.renderItem,q=e.grid,U=e.itemCardProps,b=e.onRow,R=e.onItem,ne=e.rowClassName,W=e.locale,Y=e.itemHeaderRender,w=e.itemTitleRender,O=Ve(e,Qn),H=l.useRef();l.useImperativeHandle(O.actionRef,function(){return H.current});var ae=l.useContext(Fe.ConfigContext),re=ae.getPrefixCls,se=l.useMemo(function(){var k=[];return Object.keys(t||{}).forEach(function(E){var M=t[E]||{},L=M.valueType;L||(E==="avatar"&&(L="avatar"),E==="actions"&&(L="option"),E==="description"&&(L="textarea")),k.push(P(P({listKey:E,dataIndex:(M==null?void 0:M.dataIndex)||E},M),{},{valueType:L}))}),k},[t]),Q=re("pro-list",e.prefixCls),oe=qn(Q),$=oe.wrapSSR,D=oe.hashId,G=X(Q,D,r({},"".concat(Q,"-no-split"),!n));return $(s(Lt,P(P({tooltip:c},O),{},{actionRef:H,pagination:I,type:"list",rowSelection:T,search:m,options:y,className:X(Q,i,G),columns:se,rowKey:o,tableViewRender:function(E){var M=E.columns,L=E.size,K=E.pagination,F=E.rowSelection,J=E.dataSource,Z=E.loading;return s(Wn,{grid:q,itemCardProps:U,itemTitleRender:w,prefixCls:e.prefixCls,columns:M,renderItem:N,actionRef:H,dataSource:J||[],size:L,footer:a,split:n,rowKey:o,expandable:u,rowSelection:T===!1?void 0:F,showActions:C,showExtra:d,pagination:K,itemLayout:x,loading:Z,itemHeaderRender:Y,onRow:b,onItem:R,rowClassName:ne,locale:W})}})))}function Yn(e){return s(Ot,{needDeps:!0,children:s(Un,P({},e))})}const De=new Set;let me,nt={xs:0,sm:576,md:768,lg:992,xl:1200};function Oe(){const e=me;if(yt(),e!==me)for(const t of De)t()}let ke=!1;function yt(){const e=window.innerWidth,t={};let n=!1;for(const a of Object.keys(nt))t[a]=e>=nt[a],t[a]!==me[a]&&(n=!0);n&&(me=t)}function Jn(){et&&!ke&&(me={},yt(),window.addEventListener("resize",Oe),ke=!0);const[e,t]=l.useState(me);return l.useEffect(()=>{if(!et)return;ke||window.addEventListener("resize",Oe);const n=()=>{t(me)};return De.add(n),()=>{De.delete(n),De.size===0&&(window.removeEventListener("resize",Oe),ke=!1)}},[]),e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const qe=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleListActions",Ht(void 0));qe.debugLabel="atomRoleListActions";const Qe=()=>ct(qe),Zn=()=>Ft(qe),je=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleDetails",Cn({open:!1}));je.debugLabel="atomRoleDetails";const ea=()=>bn(je),ta=()=>{const e=Vt(je);return t=>{e({open:!0,roleId:t})}},be=()=>ct(je),vt="sysRole",Ct=[vt,"details"],bt=e=>{const{roleId:t}=be(),n=dt(Ct,()=>Wt({roleId:t}),{onSuccess:e,enabled:!1});return l.useEffect(()=>{t&&n.refetch()},[t]),n},St=[vt,"tree"],na=e=>{const{roleId:t}=be(),n=dt(St,async()=>{const{menus:a,checkedKeys:o}=await Gt({roleId:t});return{treeData:a,selectedMenuIds:o,selectedTreeData:ut(a,o),allMenuIds:mt(a),allExpandedKeys:ht(a)}},{onSuccess:a=>{e(a.selectedTreeData)},enabled:!1});return l.useEffect(()=>{t&&n.refetch()},[t]),n},wt=e=>{const t=Xt(),{message:n}=_e.useApp();return Ge(async a=>{const o=t.getQueryData(Ct),c=t.getQueryData(St);await qt({roleId:o.roleId,roleKey:o.roleKey,roleName:o.roleName,roleSort:o.roleSort,status:o.status,menuIds:c.selectedMenuIds,menuCheckStrictly:"NO",deptCheckStrictly:"NO",...a})},{onSuccess:async()=>{e(),n.success("保存成功")}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const at=[{required:!0,message:"请输入角色名称"}],[,aa,oa,ia]=he({title:"角色名称",dataIndex:"roleName",descriptions:{valueType:"text",formItemProps:{rules:at}},form:{valueType:"text",formItemProps:{rules:at}},meta:{valueType:"text"}}),[,ra]=he({title:"角色编号",dataIndex:"roleId",descriptions:{valueType:"text"}}),ot="控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasRole('admin')`)",it=[{required:!0,message:"请输入权限字符"}],[,sa,la,ca]=he({title:"权限字符",dataIndex:"roleKey",descriptions:{valueType:"text",tooltip:ot,formItemProps:{rules:it}},form:{valueType:"text",tooltip:ot,formItemProps:{rules:it}},meta:{valueType:"text"}}),da="NORMAL",Ue=()=>{const{valueEnumSysNormalDisable:e}=Qt();return he({title:"状态",dataIndex:"status",valueEnum:e,table:{valueType:"select"},form:{initialValue:da,valueType:"radio",colProps:{span:12}},meta:{valueType:"select"}})},rt=[{required:!0,message:"请输入显示排序"}],[,ua,ma]=he({title:"显示排序",dataIndex:"roleSort",descriptions:{valueType:"digit",formItemProps:{initialValue:0,rules:rt}},form:{valueType:"digit",formItemProps:{initialValue:0,rules:rt},colProps:{span:12}}}),[,ha,pa]=he({title:"备注",dataIndex:"remark",descriptions:{valueType:"textarea"},form:{valueType:"textarea"}}),[,ga]=he({title:"创建时间",dataIndex:"createTime",descriptions:{valueType:"dateTime"}}),fa=()=>{const[,,,e]=Ue();return{title:ia,subTitle:e,description:ca}},xa=()=>{const[,,e]=Ue();return[oa,la,e,ma,pa]},ya=[ra,ga],va=()=>{const[,e]=Ue();return[e,ua,aa,sa,ha]};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ca=()=>{const e=l.useRef(),t=Qe(),n=xa(),{message:a}=_e.useApp();return s(Ee,{accessKey:"system:role:add",children:s(Ut,{title:"新增角色",trigger:s(Yt,{}),formRef:e,onFinish:async c=>{var i;return await Jt({...c,menuIds:[],menuCheckStrictly:"NO",deptCheckStrictly:"NO"}),t==null||t.reload(),(i=e.current)==null||i.resetFields(),a.success("新增成功"),!0},width:500,modalProps:{okText:"提交"},grid:!0,colProps:{span:24},layoutType:"ModalForm",columns:n})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const ba=()=>{const e=Zt(),{roleId:t,open:n}=be();return s(Ee,{accessKey:"system:user:edit",children:s($e,{type:"primary",onClick:()=>e(en("/system/role-auth/:roleId",{roleId:t.toString()})),icon:s(tn,{}),disabled:!n,children:"分配用户"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Sa=()=>{const e=Qe(),t=ea(),{roleId:n,open:a}=be(),{message:o,modal:c}=_e.useApp(),{isLoading:i,mutateAsync:h}=Ge(an,{onSuccess:()=>{var v;e==null||e.reload(),(v=e==null?void 0:e.clearSelected)==null||v.call(e),t(),o.success("删除成功")}});return s(Ee,{accessKey:"system:role:remove",children:s(nn,{type:"primary",size:"middle",disabled:!a,onClick:()=>c.confirm({title:"操作确认",content:`确定删除角色编号为 ${n} 的角色吗？`,onOk:()=>h({roleIds:[n]}),okButtonProps:{loading:i}})})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const wa=()=>{const[e,t]=l.useState([]),[n]=on.useForm(),a=va(),o=Qe(),{data:c,isFetching:i,refetch:h}=bt(()=>{t([]),n.resetFields()}),{mutateAsync:y}=wt(()=>{h(),o==null||o.reload()}),m=rn()("system:role:edit")?{form:n,editableKeys:e,onChange:(u,C)=>{if(t(u),u.length>0){const d=u[0];n.setFieldsValue({[d]:C[d]})}},onSave:async(u,C)=>{await y({[u]:C[u]})}}:void 0;return B(Be,{spinning:i,children:[s(Ze,{column:2,columns:ya,dataSource:c}),s(sn,{}),s(Ze,{column:2,columns:a,dataSource:c,editable:m})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ia=()=>{const e=Zn(),t=ta(),n=fa();return s(Yn,{ghost:!0,rowKey:"roleId",actionRef:e,metas:n,tableAlertRender:!1,rowSelection:{type:"radio",onSelect:({roleId:a})=>t(a)},search:{filterType:"light"},pagination:{defaultPageSize:10,defaultCurrent:1,showSizeChanger:!0},request:a=>ln(a)})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const $a=()=>{const[e,t]=l.useState([]),[n,a]=l.useState(!1),[o,c]=l.useState([]),[i,h]=l.useState([]),[y,v]=l.useState(!1),[m,u]=l.useState(!0),{message:C}=_e.useApp(),[d,f]=l.useState(),T=l.useRef(),{open:A,roleId:I}=be(),{valueEnumSysDataScope:x}=cn(),{refetch:N}=bt(({dataScope:w})=>{var O;f(w),(O=T.current)==null||O.setFieldsValue({dataScope:w})}),{loading:q,refresh:U,data:b}=Sn(async()=>{const{depts:w,checkedKeys:O}=await dn(I);return{treeData:w,selectedMenuIds:O,selectedTreeData:ut(w,O),allMenuIds:mt(w),allExpandedKeys:ht(w)}},{ready:A,refreshDeps:[I],onSuccess:w=>{a(!1),h(w.selectedTreeData)}}),{isLoading:R,mutate:ne}=Ge(async()=>{await fn({roleId:I,dataScope:d,deptIds:e})},{onSuccess:()=>{U(),N(),C.success("保存成功")}}),W=o.length===(b==null?void 0:b.allExpandedKeys.length),Y=w=>{if(w||m){t((b==null?void 0:b.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((b==null?void 0:b.allMenuIds.length)===e.length){v(!0),u(!1);return}if(e.length===0){v(!1),u(!1);return}u(!0)},[b==null?void 0:b.allMenuIds,e]),B(Re,{children:[B("header",{className:"flex justify-between items-start flex-wrap",children:[s(un,{formRef:T,submitter:!1,layout:"horizontal",children:s(wn,{name:"dataScope",label:"数据权限范围",valueEnum:x,fieldProps:{onChange:w=>{f(w)}},readonly:!n})}),s(Ee,{accessKey:"system:role:edit",children:n?B(Le,{children:[s($e,{loading:R,onClick:()=>{a(!1),h((b==null?void 0:b.selectedTreeData)??[])},children:"取消编辑"}),s($e,{type:"primary",ghost:!0,icon:s(mn,{}),loading:R,onClick:()=>ne(),children:"保存"})]}):s($e,{type:"primary",ghost:!0,icon:s(hn,{}),onClick:()=>{a(!0),t((b==null?void 0:b.selectedMenuIds)??[]),h((b==null?void 0:b.treeData)??[])},children:"编辑数据权限"})})]}),d==="CUSTOM"&&B(Re,{children:[B(Le,{wrap:!0,className:"my-2",children:[i.length>0&&s($e,{size:"small",icon:W?s(pn,{}):s(gn,{}),onClick:()=>c(W?[]:b.allExpandedKeys),children:W?"全部折叠":"全部展开"}),n&&s(pt,{indeterminate:m,onChange:w=>Y(w.target.checked),checked:y,children:"全选/全不选"})]}),s(Be,{spinning:q,children:i.length>0?s(gt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:n,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:w=>c(w),onCheck:w=>{t(w.checked)}}):s(We,{description:"暂未分配数据权限"})})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const Ra=()=>{const[e,t]=l.useState([]),[n,a]=l.useState(!1),[o,c]=l.useState([]),[i,h]=l.useState([]),[y,v]=l.useState(!1),[m,u]=l.useState(!0),{isFetching:C,data:d,refetch:f}=na(x=>{a(!1),h(x)}),{isLoading:T,mutate:A}=wt(()=>{f()}),I=x=>{if(x||m){t((d==null?void 0:d.allMenuIds)??[]);return}t([])};return l.useEffect(()=>{if((d==null?void 0:d.allMenuIds.length)===e.length){v(!0),u(!1);return}if(e.length===0){v(!1),u(!1);return}u(!0)},[d==null?void 0:d.allMenuIds,e]),B(Re,{children:[B("header",{className:"flex justify-between items-end mb-2",children:[s(xn,{expanded:o.length===(d==null?void 0:d.allExpandedKeys.length),onChange:x=>{c(x?(d==null?void 0:d.allExpandedKeys)??[]:[])}}),s(Ee,{accessKey:"system:role:edit",children:s(yn,{editable:n,loading:T,onCancel:()=>{a(!1),h((d==null?void 0:d.selectedTreeData)??[])},onSave:()=>A({menuIds:e}),onStartEdit:()=>{a(!0),t((d==null?void 0:d.selectedMenuIds)??[]),h((d==null?void 0:d.treeData)??[])}})})]}),B(Be,{spinning:C,children:[s("div",{className:"pl-1 mb-1",children:n&&s(pt,{indeterminate:m,onChange:x=>I(x.target.checked),checked:y,children:"全选/全不选"})}),i.length>0?s(gt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:n,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:e,treeData:i,expandedKeys:o,onExpand:x=>c(x),onCheck:x=>{t(x.checked)},height:500}):s(We,{description:"暂未分配菜单权限"})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const st={list:{xxl:7,xl:10,lg:13,md:24,sm:24,xs:24},details:{xxl:17,xl:14,lg:11,md:24,sm:24,xs:24}},Da=()=>{const{xl:e}=Jn(),{open:t}=be();return s(vn,{children:B(le,{ghost:!0,gutter:[16,16],wrap:!0,children:[s(le,{title:"角色列表",colSpan:st.list,extra:s(Ca,{}),children:s(Ia,{})}),s(le,{split:"horizontal",title:"角色详情",colSpan:st.details,extra:B(Le,{children:[s(Sa,{}),s(ba,{})]}),className:"h-full",children:t?B(Re,{children:[s(le,{children:s(wa,{})}),B(le,{split:e?"vertical":"horizontal",children:[s(le,{children:s(Ra,{})}),s(le,{children:s($a,{})})]})]}):s(We,{description:"点击选择左侧角色查看详情"})})]})})};export{Da as default};
