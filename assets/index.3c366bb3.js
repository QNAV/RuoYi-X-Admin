import{r as p,bl as He,Z as ee,e as R,j as i,V as a,bm as Dt,ax as At,bn as Nt,bo as Bt,bp as Me,bq as Mt,br as Lt,bs as Se,bt as _t,bu as Fe,bv as jt,bw as Ze,aw as zt,b0 as Oe,bx as Ft,Y as Ge,by as it,W as We,bz as Kt,F as Le,ay as Ot,_ as B,ab as et,aG as pe,bA as kt,aP as Ae,bB as $t,bC as Ht,bD as Gt,bE as Wt,bF as Vt,U as Xt,av as qt,u as Yt,ai as Be,aj as te,a7 as Qt,w as Ie,s as ct,v as Ve,g as lt,bG as st,bH as dt,n as Ut,q as _e,bI as Jt,aL as Zt,ak as ea,al as ta,am as tt,ap as aa,a_ as na,aC as at,a0 as oa,ar as ra,bJ as ut,$ as ia,b4 as ca,bK as la,as as Ne,bL as mt,aM as ht,b1 as pt,b2 as gt,bM as ft,b5 as xt,a$ as Xe,O as sa}from"./index.2175b018.js";import{e as Re}from"./index.785b50e6.js";import{B as qe,F as da,D as ua,E as ma,G as ha,H as pa,I as ga,J as fa,K as xa,L as va,M as ya,N as Ca,O as Sa}from"./index.ad0428f3.js";import{b as ba}from"./index.775f7cba.js";import{e as wa}from"./SysMenuService.6c656293.js";import{a as Ia,u as Ra}from"./utils.4e5a0818.js";import{u as vt}from"./useQuery.esm.0e716d28.js";import{u as Ye}from"./useMutation.esm.1baf61b5.js";import{e as Ea}from"./SysDeptService.a08a3b3f.js";import{i as nt,u as Pa}from"./useRequest.d90881ba.js";var yt=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(t);c<n.length;c++)e.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(t,n[c])&&(r[n[c]]=t[n[c]]);return r},Ta=function(e){var r=e.prefixCls,n=e.className,c=e.avatar,l=e.title,o=e.description,d=yt(e,["prefixCls","className","avatar","title","description"]),s=p.exports.useContext(He),C=s.getPrefixCls,u=C("list",r),f=ee("".concat(u,"-item-meta"),n),S=R("div",{className:"".concat(u,"-item-meta-content"),children:[l&&i("h4",{className:"".concat(u,"-item-meta-title"),children:l}),o&&i("div",{className:"".concat(u,"-item-meta-description"),children:o})]});return R("div",{...d,className:f,children:[c&&i("div",{className:"".concat(u,"-item-meta-avatar"),children:c}),(l||o)&&S]})},Da=function(e,r){var n=e.prefixCls,c=e.children,l=e.actions,o=e.extra,d=e.className,s=e.colStyle,C=yt(e,["prefixCls","children","actions","extra","className","colStyle"]),u=p.exports.useContext(Qe),f=u.grid,S=u.itemLayout,y=p.exports.useContext(He),m=y.getPrefixCls,j=function(){var g;return p.exports.Children.forEach(c,function(v){typeof v=="string"&&(g=!0)}),g&&p.exports.Children.count(c)>1},A=function(){return S==="vertical"?!!o:!j()},w=m("list",n),I=l&&l.length>0&&i("ul",{className:"".concat(w,"-item-action"),children:l.map(function(h,g){return R("li",{children:[h,g!==l.length-1&&i("em",{className:"".concat(w,"-item-action-split")})]},"".concat(w,"-item-action-").concat(g))})},"actions"),M=f?"div":"li",O=i(M,{...C,...f?{}:{ref:r},className:ee("".concat(w,"-item"),a({},"".concat(w,"-item-no-flex"),!A()),d),children:S==="vertical"&&o?[R("div",{className:"".concat(w,"-item-main"),children:[c,I]},"content"),i("div",{className:"".concat(w,"-item-extra"),children:o},"extra")]:[c,I,Dt(o,{key:"extra"})]});return f?i(At,{ref:r,flex:1,style:s,children:O}):O},Ct=p.exports.forwardRef(Da);Ct.Meta=Ta;const Aa=Ct;var Na=function(e){var r,n,c=e.listBorderedCls,l=e.componentCls,o=e.paddingLG,d=e.margin,s=e.padding,C=e.listItemPaddingSM,u=e.marginLG,f=e.radiusLG;return n={},a(n,"".concat(c),(r={border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:f},a(r,"".concat(l,"-header,").concat(l,"-footer,").concat(l,"-item"),{paddingInline:o}),a(r,"".concat(l,"-pagination"),{margin:"".concat(d,"px ").concat(u,"px")}),r)),a(n,"".concat(c).concat(l,"-sm"),a({},"".concat(l,"-item,").concat(l,"-header,").concat(l,"-footer"),{padding:C})),a(n,"".concat(c).concat(l,"-lg"),a({},"".concat(l,"-item,").concat(l,"-header,").concat(l,"-footer"),{padding:"".concat(s,"px ").concat(o,"px")})),n},Ba=function(e){var r,n,c,l,o=e.componentCls,d=e.screenSM,s=e.screenMD,C=e.marginLG,u=e.marginSM,f=e.margin;return l={},a(l,"@media screen and (max-width:".concat(s,")"),(r={},a(r,"".concat(o),a({},"".concat(o,"-item"),a({},"".concat(o,"-item-action"),{marginInlineStart:C}))),a(r,"".concat(o,"-vertical"),a({},"".concat(o,"-item"),a({},"".concat(o,"-item-extra"),{marginInlineStart:C}))),r)),a(l,"@media screen and (max-width: ".concat(d,")"),(c={},a(c,"".concat(o),a({},"".concat(o,"-item"),a({flexWrap:"wrap"},"".concat(o,"-action"),{marginInlineStart:u}))),a(c,"".concat(o,"-vertical"),a({},"".concat(o,"-item"),(n={flexWrap:"wrap-reverse"},a(n,"".concat(o,"-item-main"),{minWidth:e.contentWidth}),a(n,"".concat(o,"-item-extra"),{margin:"auto auto ".concat(f,"px")}),n))),c)),l},Ma=function(e){var r,n,c,l,o,d,s=e.componentCls,C=e.antCls,u=e.controlHeight,f=e.minHeight,S=e.paddingSM,y=e.marginLG,m=e.padding,j=e.listItemPadding,A=e.colorPrimary,w=e.listItemPaddingSM,I=e.listItemPaddingLG,M=e.paddingXS,O=e.margin,h=e.colorText,g=e.colorTextDescription,v=e.motionDurationSlow,G=e.lineWidth;return d={},a(d,"".concat(s),Me(Me({},Mt(e)),(l={position:"relative","*":{outline:"none"}},a(l,"".concat(s,"-header, ").concat(s,"-footer"),{background:"transparent",paddingBlock:S}),a(l,"".concat(s,"-pagination"),a({marginBlockStart:y,textAlign:"end"},"".concat(C,"-pagination-options"),{textAlign:"start"})),a(l,"".concat(s,"-spin"),{minHeight:f,textAlign:"center"}),a(l,"".concat(s,"-items"),{margin:0,padding:0,listStyle:"none"}),a(l,"".concat(s,"-item"),(c={display:"flex",alignItems:"center",justifyContent:"space-between",padding:j,color:h},a(c,"".concat(s,"-item-meta"),(r={display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%"},a(r,"".concat(s,"-item-meta-avatar"),{marginInlineEnd:m}),a(r,"".concat(s,"-item-meta-content"),{flex:"1 0",width:0,color:h}),a(r,"".concat(s,"-item-meta-title"),{marginBottom:e.marginXXS,color:h,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":a({color:h,transition:"all ".concat(v)},"&:hover",{color:A})}),a(r,"".concat(s,"-item-meta-description"),{color:g,fontSize:e.fontSize,lineHeight:e.lineHeight}),r)),a(c,"".concat(s,"-item-action"),(n={flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none"},a(n,"& > li",a({position:"relative",display:"inline-block",padding:"0 ".concat(M,"px"),color:g,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},"&:first-child",{paddingInlineStart:0})),a(n,"".concat(s,"-item-action-split"),{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:G,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}),n)),c)),a(l,"".concat(s,"-empty"),{padding:"".concat(m,"px 0"),color:g,fontSize:e.fontSizeSM,textAlign:"center"}),a(l,"".concat(s,"-empty-text"),{padding:m,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"}),a(l,"".concat(s,"-item-no-flex"),{display:"block"}),l))),a(d,"".concat(s,"-grid ").concat(C,"-col > ").concat(s,"-item"),{display:"block",maxWidth:"100%",marginBlockEnd:O,paddingBlock:0,borderBlockEnd:"none"}),a(d,"".concat(s,"-vertical ").concat(s,"-item"),(o={alignItems:"initial"},a(o,"".concat(s,"-item-main"),{display:"block",flex:1}),a(o,"".concat(s,"-item-extra"),{marginInlineStart:y}),a(o,"".concat(s,"-item-meta"),a({marginBlockEnd:m},"".concat(s,"-item-meta-title"),{marginBlockEnd:S,color:h,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG})),a(o,"".concat(s,"-item-action"),{marginBlockStart:m,marginInlineStart:"auto","> li":a({padding:"0 ".concat(m,"px")},"&:first-child",{paddingInlineStart:0})}),o)),a(d,"".concat(s,"-split ").concat(s,"-item"),a({borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.controlLineType," ").concat(e.colorSplit)},"&:last-child",{borderBlockEnd:"none"})),a(d,"".concat(s,"-split ").concat(s,"-header"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),a(d,"".concat(s,"-split").concat(s,"-empty ").concat(s,"-footer"),{borderTop:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),a(d,"".concat(s,"-loading ").concat(s,"-spin-nested-loading"),{minHeight:u}),a(d,"".concat(s,"-split").concat(s,"-something-after-last-item ").concat(C,"-spin-container > ").concat(s,"-items > ").concat(s,"-item:last-child"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),a(d,"".concat(s,"-lg ").concat(s,"-item"),{padding:I}),a(d,"".concat(s,"-sm ").concat(s,"-item"),{padding:w}),a(d,"".concat(s,":not(").concat(s,"-vertical)"),a({},"".concat(s,"-item-no-flex"),a({},"".concat(s,"-item-action"),{float:"right"}))),d};const La=Nt("List",function(t){var e=Bt(t,{listBorderedCls:"".concat(t.componentCls,"-bordered"),minHeight:t.controlHeightLG,listItemPadding:"".concat(t.paddingSM,"px 0"),listItemPaddingSM:"".concat(t.paddingXS,"px ").concat(t.padding,"px"),listItemPaddingLG:"".concat(t.padding,"px ").concat(t.paddingLG,"px")});return[Ma(e),Na(e),Ba(e)]},{contentWidth:220});var _a=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,n=Object.getOwnPropertySymbols(t);c<n.length;c++)e.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(t,n[c])&&(r[n[c]]=t[n[c]]);return r},Qe=p.exports.createContext({});Qe.Consumer;function Ke(t){var e,r=t.pagination,n=r===void 0?!1:r,c=t.prefixCls,l=t.bordered,o=l===void 0?!1:l,d=t.split,s=d===void 0?!0:d,C=t.className,u=t.children,f=t.itemLayout,S=t.loadMore,y=t.grid,m=t.dataSource,j=m===void 0?[]:m,A=t.size,w=t.header,I=t.footer,M=t.loading,O=M===void 0?!1:M,h=t.rowKey,g=t.renderItem,v=t.locale,G=_a(t,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),W=n&&Lt(n)==="object"?n:{},ce=p.exports.useState(W.defaultCurrent||1),ae=Se(ce,2),x=ae[0],E=ae[1],ge=p.exports.useState(W.defaultPageSize||10),se=Se(ge,2),fe=se[0],ne=se[1],oe=p.exports.useContext(He),U=oe.getPrefixCls,_=oe.renderEmpty,V=oe.direction,k={current:1,total:0},N={},$=function(L){return function(Y,Q){E(Y),ne(Q),n&&n[L]&&n[L](Y,Q)}},H=$("onChange"),de=$("onShowSizeChange"),X=function(L,Y){if(!g)return null;var Q;return typeof h=="function"?Q=h(L):h?Q=L[h]:Q=L.key,Q||(Q="list-item-".concat(Y)),N[Y]=Q,g(L,Y)},ue=function(){return!!(S||n||I)},xe=function(L,Y){return i("div",{className:"".concat(L,"-empty-text"),children:v&&v.emptyText||Y("List")})},z=U("list",c),Ee=La(z),J=Se(Ee,2),Pe=J[0],be=J[1],F=O;typeof F=="boolean"&&(F={spinning:F});var b=F&&F.spinning,T="";switch(A){case"large":T="lg";break;case"small":T="sm";break}var P=ee(z,(e={},a(e,"".concat(z,"-vertical"),f==="vertical"),a(e,"".concat(z,"-").concat(T),T),a(e,"".concat(z,"-split"),s),a(e,"".concat(z,"-bordered"),o),a(e,"".concat(z,"-loading"),b),a(e,"".concat(z,"-grid"),!!y),a(e,"".concat(z,"-something-after-last-item"),ue()),a(e,"".concat(z,"-rtl"),V==="rtl"),e),C,be),K=Me(Me(Me({},k),{total:j.length,current:x,pageSize:fe}),n||{}),me=Math.ceil(K.total/K.pageSize);K.current>me&&(K.current=me);var he=n?i("div",{className:"".concat(z,"-pagination"),children:i(_t,{...K,onChange:H,onShowSizeChange:de})}):null,re=Fe(j);n&&j.length>(K.current-1)*K.pageSize&&(re=Fe(j).splice((K.current-1)*K.pageSize,K.pageSize));var Te=Object.keys(y||{}).some(function(D){return["xs","sm","md","lg","xl","xxl"].includes(D)}),ve=jt(Te),ie=p.exports.useMemo(function(){for(var D=0;D<Ze.length;D+=1){var L=Ze[D];if(ve[L])return L}},[ve]),De=p.exports.useMemo(function(){if(!!y){var D=ie&&y[ie]?y[ie]:y.column;if(D)return{width:"".concat(100/D,"%"),maxWidth:"".concat(100/D,"%")}}},[y==null?void 0:y.column,ie]),ye=b&&i("div",{style:{minHeight:53}});if(re.length>0){var q=re.map(function(D,L){return X(D,L)}),Ce=p.exports.Children.map(q,function(D,L){return i("div",{style:De,children:D},N[L])});ye=y?i(zt,{gutter:y.gutter,children:Ce}):i("ul",{className:"".concat(z,"-items"),children:q})}else!u&&!b&&(ye=xe(z,_||Ft));var le=K.position||"bottom",Z=p.exports.useMemo(function(){return{grid:y,itemLayout:f}},[JSON.stringify(y),f]);return Pe(i(Qe.Provider,{value:Z,children:R("div",{className:P,...G,children:[(le==="top"||le==="both")&&he,w&&i("div",{className:"".concat(z,"-header"),children:w}),R(Oe,{...F,children:[ye,u]}),I&&i("div",{className:"".concat(z,"-footer"),children:I}),S||(le==="bottom"||le==="both")&&he]})}))}Ke.Item=Aa;var ja=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function za(t){var e,r=t.prefixCls,n=t.expandIcon,c=n===void 0?i(kt,{}):n,l=t.onExpand,o=t.expanded,d=t.record,s=c,C="".concat(r,"-row-expand-icon"),u=function(S){l(!o),S.stopPropagation()};return typeof c=="function"&&(s=c({expanded:o,onExpand:l,record:d})),i("span",{className:ee(C,(e={},a(e,"".concat(r,"-row-expanded"),o),a(e,"".concat(r,"-row-collapsed"),!o),e)),onClick:u,children:s})}function Fa(t){var e,r,n,c,l,o=t.prefixCls,d=p.exports.useContext(Ge.ConfigContext),s=d.getPrefixCls,C=it(),u=C.hashId,f=s("pro-list",o),S="".concat(f,"-row"),y=t.title,m=t.subTitle,j=t.content,A=t.itemTitleRender;t.prefixCls;var w=t.actions;t.item,t.recordKey;var I=t.avatar,M=t.cardProps,O=t.description,h=t.isEditable,g=t.checkbox,v=t.index,G=t.selected,W=t.loading,ce=t.expand,ae=t.onExpand,x=t.expandable,E=t.rowSupportExpand,ge=t.showActions,se=t.showExtra,fe=t.type,ne=t.style,oe=t.className,U=oe===void 0?S:oe,_=t.record,V=t.onRow,k=t.onItem,N=t.itemHeaderRender,$=t.cardActionProps,H=t.extra,de=We(t,ja),X=x||{},ue=X.expandedRowRender,xe=X.expandIcon,z=X.expandRowByClick,Ee=X.indentSize,J=Ee===void 0?8:Ee,Pe=X.expandedRowClassName,be=Kt(!!ce,{value:ce,onChange:ae}),F=Se(be,2),b=F[0],T=F[1],P=ee((e={},a(e,"".concat(S,"-selected"),!M&&G),a(e,"".concat(S,"-show-action-hover"),ge==="hover"),a(e,"".concat(S,"-type-").concat(fe),!!fe),a(e,"".concat(S,"-editable"),h),a(e,"".concat(S,"-show-extra-hover"),se==="hover"),e),u,S),K=ee(u,a({},"".concat(U,"-extra"),se==="hover")),me=b||Object.values(x||{}).length===0,he=ue&&ue(_,v,J,b),re=p.exports.useMemo(function(){if(!(!w||$==="actions"))return[i("div",{onClick:function(Z){return Z.stopPropagation()},children:w},"action")]},[w,$]),Te=p.exports.useMemo(function(){if(!(!w||!$||$==="extra"))return[i("div",{onClick:function(Z){return Z.stopPropagation()},children:w},"action")]},[w,$]),ve=y||m?R("div",{className:"".concat(P,"-header-title ").concat(u),children:[y&&i("div",{className:"".concat(P,"-title ").concat(u),children:y}),m&&i("div",{className:"".concat(P,"-subTitle ").concat(u),children:m})]}):null,ie=(r=A&&(A==null?void 0:A(_,v,ve)))!==null&&r!==void 0?r:ve,De=ie||I||m||O?i(Ke.Item.Meta,{avatar:I,title:ie,description:O&&me&&i("div",{className:"".concat(P,"-description ").concat(u),children:O})}):null,ye=ee(u,(n={},a(n,"".concat(P,"-item-has-checkbox"),g),a(n,"".concat(P,"-item-has-avatar"),I),a(n,P,P),n)),q=p.exports.useMemo(function(){return I||y?R(Le,{children:[I&&i(Ot,{size:22,src:I,className:"".concat(s("list-item-meta-avatar")," ").concat(u)}),i("span",{className:"".concat(s("list-item-meta-title")," ").concat(u),children:y})]}):null},[I,s,u,y]),Ce=M?i(pe,B(B(B({bordered:!0,loading:W,hoverable:!0},M),{},{title:q,subTitle:m,extra:re,actions:Te,bodyStyle:B({padding:24},M.bodyStyle)},k==null?void 0:k(_,v)),{},{children:i(et,{avatar:!0,title:!1,loading:W,active:!0,children:R("div",{className:"".concat(P,"-header ").concat(u),children:[A&&(A==null?void 0:A(_,v,ve)),j]})})})):i(Ke.Item,B(B(B(B({className:ee(ye,a({},U,U!==S))},de),{},{actions:re,extra:!!H&&i("div",{className:K,children:H})},V==null?void 0:V(_,v)),k==null?void 0:k(_,v)),{},{onClick:function(Z){var D,L,Y,Q;V==null||(D=V(_,v))===null||D===void 0||(L=D.onClick)===null||L===void 0||L.call(D,Z),k==null||(Y=k(_,v))===null||Y===void 0||(Q=Y.onClick)===null||Q===void 0||Q.call(Y,Z),z&&T(!b)},children:R(et,{avatar:!0,title:!1,loading:W,active:!0,children:[R("div",{className:"".concat(P,"-header ").concat(u),children:[R("div",{className:"".concat(P,"-header-option ").concat(u),children:[!!g&&i("div",{className:"".concat(P,"-checkbox ").concat(u),children:g}),Object.values(x||{}).length>0&&E&&za({prefixCls:f,expandIcon:xe,onExpand:T,expanded:b,record:_})]}),(c=N&&(N==null?void 0:N(_,v,De)))!==null&&c!==void 0?c:De]}),me&&(j||he)&&R("div",{className:"".concat(P,"-content ").concat(u),children:[j,ue&&E&&i("div",{className:Pe&&Pe(_,v,J),children:he})]})]})}));return M?i("div",{className:ee(u,(l={},a(l,"".concat(P,"-card"),M),a(l,U,U!==S),l)),style:ne,children:Ce}):Ce}var Ka=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function Oa(t){var e=t.dataSource,r=t.columns,n=t.rowKey,c=t.showActions,l=t.showExtra,o=t.prefixCls,d=t.actionRef,s=t.itemTitleRender,C=t.renderItem,u=t.itemCardProps,f=t.itemHeaderRender,S=t.expandable,y=t.rowSelection,m=t.pagination,j=t.onRow,A=t.onItem,w=t.rowClassName,I=We(t,Ka),M=it(),O=M.hashId,h=p.exports.useContext(Ge.ConfigContext),g=h.getPrefixCls,v=Ae.useMemo(function(){return typeof n=="function"?n:function(F,b){return F[n]||b}},[n]),G=$t(e,"children",v),W=Se(G,1),ce=W[0],ae=Ht(e.length,B({responsive:!0},m),function(){}),x=Se(ae,1),E=x[0],ge=Ae.useMemo(function(){if(m===!1||!E.pageSize||e.length<E.total)return e;var F=E.current,b=F===void 0?1:F,T=E.pageSize,P=T===void 0?10:T,K=e.slice((b-1)*P,b*P);return K},[e,E,m]),se=g("pro-list",o),fe=Gt(y,{getRowKey:v,getRecordByKey:ce,prefixCls:se,data:e,pageData:ge,expandType:"row",childrenColumnName:"children",locale:{}}),ne=Se(fe,2),oe=ne[0],U=ne[1],_=S||{},V=_.expandedRowKeys,k=_.defaultExpandedRowKeys,N=_.defaultExpandAllRows,$=N===void 0?!0:N,H=_.onExpand,de=_.onExpandedRowsChange,X=_.rowExpandable,ue=Ae.useState(function(){return k||($!==!1?e.map(v):[])}),xe=Se(ue,2),z=xe[0],Ee=xe[1],J=Ae.useMemo(function(){return new Set(V||z||[])},[V,z]),Pe=Ae.useCallback(function(F){var b=v(F,e.indexOf(F)),T,P=J.has(b);P?(J.delete(b),T=Fe(J)):T=[].concat(Fe(J),[b]),Ee(T),H&&H(!P,F),de&&de(T)},[v,J,e,H,de]),be=oe([])[0];return i(Ke,B(B({},I),{},{className:ee(g("pro-list-container",o),O,I.className),dataSource:ge,pagination:m&&E,renderItem:function(b,T){var P,K,me,he={className:typeof w=="function"?w(b,T):w};r==null||r.forEach(function(q){var Ce=q.listKey,le=q.cardActionProps;if(!!Wt.has(Ce)){var Z=q.dataIndex||Ce||q.key,D=Array.isArray(Z)?Vt(b,Z):b[Z];le==="actions"&&Ce==="actions"&&(he.cardActionProps=le);var L=q.render?q.render(D,b,T):D;L!=="-"&&(he[q.listKey]=L)}});var re;be&&be.render&&(re=be.render(b,b,T)||void 0);var Te=((P=d.current)===null||P===void 0?void 0:P.isEditable(B(B({},b),{},{index:T})))||{},ve=Te.isEditable,ie=Te.recordKey,De=U.has(ie||T),ye=i(Fa,B(B({cardProps:I.grid?B(B(B({},u),I.grid),{},{checked:De,onChecked:Ae.isValidElement(re)?(K=re)===null||K===void 0||(me=K.props)===null||me===void 0?void 0:me.onChange:void 0}):void 0},he),{},{recordKey:ie,isEditable:ve||!1,expandable:S,expand:J.has(v(b,T)),onExpand:function(){Pe(b)},index:T,record:b,item:b,showActions:c,showExtra:l,itemTitleRender:s,itemHeaderRender:f,rowSupportExpand:!X||X&&X(b),selected:U.has(v(b,T)),checkbox:re,onRow:j,onItem:A}),ie);return C?C(b,T,ye):ye}}))}var ka=function(e){var r,n,c,l,o,d;return a({},e.componentCls,(d={backgroundColor:"transparent"},a(d,"".concat(e.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),a(d,"&-row",(o={borderBlockEnd:"1px solid ".concat(e.colorSplit)},a(o,"".concat(e.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),a(o,"&:last-child",a({borderBlockEnd:"none"},"".concat(e.antCls,"-list-item"),{borderBlockEnd:"none"})),a(o,"&:hover",(r={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},a(r,"".concat(e.antCls,"-list-item-action"),{display:"block"}),a(r,"".concat(e.antCls,"-list-item-extra"),{display:"flex"}),a(r,"".concat(e.componentCls,"-row-extra"),{display:"block"}),a(r,"".concat(e.componentCls,"-row-subheader-actions"),{display:"block"}),r)),a(o,"&-card",a({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(e.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),a(o,"&".concat(e.componentCls,"-row-editable"),a({},"".concat(e.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),a(o,"&".concat(e.componentCls,"-row-selected"),{backgroundColor:e.colorPrimaryBgHover,"&:hover":{backgroundColor:e.colorPrimaryBgHover}}),a(o,"&".concat(e.componentCls,"-row-type-new"),{animation:"techUiListActive 3s"}),a(o,"&".concat(e.componentCls,"-row-type-inline"),a({},"".concat(e.componentCls,"-row-title"),{fontWeight:"normal"})),a(o,"&".concat(e.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),a(o,"&-show-action-hover",(n={},a(n,"".concat(e.antCls,`-list-item-action,
            `).concat(e.proComponentsCls,`-card-extra,
            `).concat(e.proComponentsCls,"-card-actions"),{display:"none"}),a(n,"&:hover",a({},"".concat(e.proComponentsCls,"-card-extra,").concat(e.proComponentsCls,"-card-actions"),{display:"flex"})),n)),a(o,"&-show-extra-hover",a({},"".concat(e.antCls,"-list-item-extra"),{display:"none"})),a(o,"&-extra",{display:"none"}),a(o,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:e.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),a(o,"&-expand-icon",{marginInlineEnd:8,color:e.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),a(o,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),a(o,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:e.colorPrimary}}),a(o,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),a(o,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),a(o,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),a(o,"&-avatar",{display:"flex"}),a(o,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start"}),a(o,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),a(o,"&-header-option",{display:"flex"}),a(o,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),a(o,"&-no-split",(c={},a(c,"".concat(e.componentCls,"-row"),{borderBlockEnd:"none"}),a(c,"".concat(e.antCls,"-list ").concat(e.antCls,"-list-item"),{borderBlockEnd:"none"}),c)),a(o,"&-bordered",a({},"".concat(e.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(e.colorSplit)})),a(o,"".concat(e.antCls,"-list-vertical"),(l={},a(l,"".concat(e.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),a(l,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),a(l,"&-content",{marginBlock:0,marginInline:0}),a(l,"&-subTitle",{marginBlockStart:8}),a(l,"".concat(e.antCls,"-list-item-extra"),a({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(e.componentCls,"-row-description"),{marginBlockStart:16})),a(l,"".concat(e.antCls,"-list-bordered ").concat(e.antCls,"-list-item"),{paddingInline:0}),a(l,"".concat(e.componentCls,"-row-show-extra-hover"),a({},"".concat(e.antCls,"-list-item-extra "),{display:"none"})),l)),a(o,"".concat(e.antCls,"-list-pagination"),{marginBlockEnd:e.marginLG}),a(o,"".concat(e.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),a(o,"".concat(e.antCls,"-list-vertical .").concat(e.proComponentsCls,"-list-row ").concat(e.antCls,"-list"),a({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(e.antCls,"-list-item"),{width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18,"&-meta-avatar":{display:"flex",alignItems:"center",marginInlineEnd:8},"&-action-split":{display:"none"},"&-meta-title":{marginBlock:0,marginInline:0}})),a(o,"@keyframes techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),o)),d))};function $a(t){return Xt("ProList",function(e){var r=B(B({},e),{},{componentCls:".".concat(t)});return[ka(r)]})}var Ha=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function Ga(t){var e=t.metas,r=t.split,n=t.footer,c=t.rowKey,l=t.tooltip,o=t.className,d=t.options,s=d===void 0?!1:d,C=t.search,u=C===void 0?!1:C,f=t.expandable,S=t.showActions,y=t.showExtra,m=t.rowSelection,j=m===void 0?!1:m,A=t.pagination,w=A===void 0?!1:A,I=t.itemLayout,M=t.renderItem,O=t.grid,h=t.itemCardProps,g=t.onRow,v=t.onItem,G=t.rowClassName,W=t.locale,ce=t.itemHeaderRender,ae=t.itemTitleRender,x=We(t,Ha),E=p.exports.useRef();p.exports.useImperativeHandle(x.actionRef,function(){return E.current});var ge=p.exports.useContext(Ge.ConfigContext),se=ge.getPrefixCls,fe=p.exports.useMemo(function(){var k=[];return Object.keys(e||{}).forEach(function(N){var $=e[N]||{},H=$.valueType;H||(N==="avatar"&&(H="avatar"),N==="actions"&&(H="option"),N==="description"&&(H="textarea")),k.push(B(B({listKey:N,dataIndex:($==null?void 0:$.dataIndex)||N},$),{},{valueType:H}))}),k},[e]),ne=se("pro-list",t.prefixCls),oe=$a(ne),U=oe.wrapSSR,_=oe.hashId,V=ee(ne,_,a({},"".concat(ne,"-no-split"),!r));return U(i(qt,B(B({tooltip:l},x),{},{actionRef:E,pagination:w,type:"list",rowSelection:j,search:u,options:s,className:ee(ne,o,V),columns:fe,rowKey:c,tableViewRender:function(N){var $=N.columns,H=N.size,de=N.pagination,X=N.rowSelection,ue=N.dataSource,xe=N.loading;return i(Oa,{grid:O,itemCardProps:h,itemTitleRender:ae,prefixCls:t.prefixCls,columns:$,renderItem:M,actionRef:E,dataSource:ue||[],size:H,footer:n,split:r,rowKey:c,expandable:f,rowSelection:j===!1?void 0:X,showActions:S,showExtra:y,pagination:de,itemLayout:I,loading:xe,itemHeaderRender:ce,onRow:g,onItem:v,rowClassName:G,locale:W})}})))}var St=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Wa=globalThis&&globalThis.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),c,l=[],o;try{for(;(e===void 0||e-- >0)&&!(c=n.next()).done;)l.push(c.value)}catch(d){o={error:d}}finally{try{c&&!c.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return l},ze=new Set,we,ot={xs:0,sm:576,md:768,lg:992,xl:1200};function rt(){var t,e,r=we;if(bt(),r!==we)try{for(var n=St(ze),c=n.next();!c.done;c=n.next()){var l=c.value;l()}}catch(o){t={error:o}}finally{try{c&&!c.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}var $e=!1;function bt(){var t,e,r=window.innerWidth,n={},c=!1;try{for(var l=St(Object.keys(ot)),o=l.next();!o.done;o=l.next()){var d=o.value;n[d]=r>=ot[d],n[d]!==we[d]&&(c=!0)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}c&&(we=n)}function Va(){nt&&!$e&&(we={},bt(),window.addEventListener("resize",rt),$e=!0);var t=Wa(p.exports.useState(we),2),e=t[0],r=t[1];return p.exports.useEffect(function(){if(!!nt){var n=function(){r(we)};return ze.add(n),function(){ze.delete(n),ze.size===0&&(window.removeEventListener("resize",rt),$e=!1)}}},[]),e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Xa=()=>{const{canEditSysRole:t}=Re(),e=Yt();return i(Be,{accessible:t,children:i(te,{type:"primary",ghost:!0,onClick:()=>e("/"),icon:i(Qt,{}),children:"\u5206\u914D\u7528\u6237"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};async function qa(t,e){return Ie("/system/role/add",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Ya(t,e){return Ie("/system/role/dataScope",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Qa(t,e){return Ie("/system/role/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Ua(t,e){return Ie("/system/role/export",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Ja(t,e){return Ie("/system/role/info",{method:"GET",params:{...t},...e||{}})}async function Za(t,e){return Ie("/system/role/list",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function en(t,e){return Ie("/system/role/remove",{method:"POST",params:{...t},...e||{}})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Ue=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleListActions",ct(void 0));Ue.debugLabel="atomRoleListActions";const wt=()=>Ve(Ue),tn=()=>ba(Ue),ke=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleDetails",Ia({open:!1,roleId:0,roleName:""}));ke.debugLabel="atomRoleDetails";const an=()=>Ra(ke),nn=()=>{const t=lt(ke);return(e,r)=>{t({open:!0,roleId:e,roleName:r})}},je=()=>Ve(ke),Je=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomSearchParams",ct({}));Je.debugLabel="atomSearchParams";const on=()=>Ve(Je),rn=()=>lt(Je),It="sysRole",Rt=[It,"details"],Et=t=>{const{roleId:e}=je(),r=vt(Rt,()=>Ja({roleId:e}),{onSuccess:t,enabled:!1});return p.exports.useEffect(()=>{e>0&&r.refetch()},[e]),r},Pt=[It,"tree"],cn=t=>{const{roleId:e}=je(),r=vt(Pt,async()=>{const{menus:n,checkedKeys:c}=await wa({roleId:e});return{treeData:n,selectedMenuIds:c,selectedTreeData:st(n,c),allMenuIds:dt(n)}},{onSuccess:n=>{t(n.selectedTreeData)},enabled:!1});return p.exports.useEffect(()=>{e>0&&r.refetch()},[e]),r},Tt=t=>{const e=Ut();return Ye(async r=>{const n=e.getQueryData(Rt),c=e.getQueryData(Pt);await Qa({roleId:n.roleId,roleKey:n.roleKey,roleName:n.roleName,roleSort:n.roleSort,status:n.status,menuIds:c.selectedMenuIds,menuCheckStrictly:!1,deptCheckStrictly:!1,...r})},{onSuccess:()=>{t(),_e.success("\u4FDD\u5B58\u6210\u529F")}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const ln=()=>{const{canAddSysRole:t}=Re(),e=p.exports.useRef(),r=wt(),[,n]=qe();return i(Be,{accessible:t,children:i(Jt,{title:"\u65B0\u5EFA\u89D2\u8272",trigger:i(te,{type:"primary",icon:i(Zt,{}),children:"\u65B0\u5EFA"}),formRef:e,onFinish:async c=>{var l;return await qa({...c,menuIds:[],menuCheckStrictly:!1,deptCheckStrictly:!1}),r==null||r.reload(),_e.success("\u65B0\u5EFA\u6210\u529F"),(l=e.current)==null||l.resetFields(),!0},width:500,layoutType:"ModalForm",columns:[da,ua,ma,n,ha]})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const sn=()=>{const{canRemoveSysRole:t}=Re(),e=wt(),r=an(),{roleId:n,roleName:c}=je();return i(Be,{accessible:t,children:i(te,{danger:!0,ghost:!0,icon:i(ea,{}),onClick:()=>ta.confirm({title:"\u5220\u9664\u89D2\u8272",content:R(Le,{children:["\u786E\u5B9A",i(tt.Text,{code:!0,children:"\u5220\u9664"}),"\u89D2\u8272",i(tt.Text,{code:!0,children:c}),"\u5417\uFF1F"]}),onOk:async()=>{var o;await en({roleIds:n}),e==null||e.reload(),(o=e==null?void 0:e.clearSelected)==null||o.call(e),r(),_e.success("\u5220\u9664\u6210\u529F")}}),children:"\u5220\u9664"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const dn=()=>{const{canExportSysRole:t}=Re(),e=on(),{isLoading:r,mutate:n}=Ye(()=>Ua(e),{onSuccess:()=>{_e.success("\u5BFC\u51FA\u6210\u529F")}});return i(Be,{accessible:t,children:i(te,{ghost:!0,type:"primary",icon:i(aa,{}),loading:r,onClick:()=>n(),children:"\u5BFC\u51FA\u5F53\u524D\u5217\u8868"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const un=()=>{const[t,e]=p.exports.useState([]),[r]=na.useForm(),n=Re(),[,,c]=qe(),{data:l,isFetching:o,refetch:d}=Et(()=>{e([]),r.resetFields()}),{mutateAsync:s}=Tt(()=>{d()}),C=n.canEditSysRole&&l?{form:r,editableKeys:t,onChange:(u,f)=>{e(u),u.length===1&&!Array.isArray(f)&&r.setFieldsValue({[u[0]]:f[u[0]]})},onSave:async(u,f)=>{await s({[u]:f[u]})}}:void 0;return R(Oe,{spinning:o,children:[i(at,{column:2,columns:[pa,ga],dataSource:l}),i(oa,{}),i(at,{column:2,columns:[c,fa,xa,va,ya],dataSource:l,editable:C})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const mn=()=>{const t=tn(),e=nn(),r=rn(),[n]=qe();return i(Ga,{ghost:!0,rowKey:"roleId",actionRef:t,metas:{title:Ca,subTitle:n,description:Sa},tableAlertRender:!1,rowSelection:{type:"radio",onSelect:({roleId:c,roleName:l})=>{e(c,l)}},search:{filterType:"light"},pagination:{defaultPageSize:10,defaultCurrent:1,showSizeChanger:!0},request:async(...c)=>{const l=ra(...c);return r(l),await Za(l)}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const hn=()=>{var ae;const[t,e]=p.exports.useState([]),[r,n]=p.exports.useState(!1),[c,l]=p.exports.useState([]),[o,d]=p.exports.useState([]),[s,C]=p.exports.useState(!1),[u,f]=p.exports.useState(!0),[S,y]=p.exports.useState(),m=p.exports.useRef(),{canEditSysRole:j}=Re(),{open:A,roleId:w}=je(),{refetch:I}=Et(({dataScope:x})=>{var E;y(x),(E=m.current)==null||E.setFieldsValue({dataScope:x})}),{loading:M,refresh:O,data:h}=Pa(async()=>{const{depts:x,checkedKeys:E}=await Ea({roleId:w});return{treeData:x,selectedMenuIds:E,selectedTreeData:st(x,E),allMenuIds:dt(x)}},{ready:A,refreshDeps:[w],onSuccess:x=>{n(!1),d(x.selectedTreeData)}}),{isLoading:g,mutate:v}=Ye(async()=>{await Ya({roleId:w,dataScope:S,deptIds:t})},{onSuccess:()=>{O(),I(),_e.success("\u4FDD\u5B58\u6210\u529F")}}),G=ut((ae=h==null?void 0:h.treeData)!=null?ae:[]),W=(c==null?void 0:c.length)!==0&&(c==null?void 0:c.length)===(G==null?void 0:G.length),ce=x=>{var E;if(x||u){e((E=h==null?void 0:h.allMenuIds)!=null?E:[]);return}e([])};return p.exports.useEffect(()=>{if((h==null?void 0:h.allMenuIds.length)===t.length){C(!0),f(!1);return}if(t.length===0){C(!1),f(!1);return}f(!0)},[h==null?void 0:h.allMenuIds,t]),R(Le,{children:[R("header",{className:"flex justify-between items-start flex-wrap",children:[i(ia,{formRef:m,submitter:!1,layout:"horizontal",children:i(ca,{name:"dataScope",label:"\u6570\u636E\u6743\u9650\u8303\u56F4",fieldProps:{options:la,onChange:x=>{console.log(x),y(x)}},readonly:!r})}),i(Be,{accessible:j,children:r?R(Ne,{children:[i(te,{loading:g,onClick:()=>{var x;n(!1),d((x=h==null?void 0:h.selectedTreeData)!=null?x:[])},children:"\u53D6\u6D88\u7F16\u8F91"}),i(te,{type:"primary",ghost:!0,icon:i(mt,{}),loading:g,onClick:()=>v(),children:"\u4FDD\u5B58"})]}):i(te,{type:"primary",ghost:!0,icon:i(ht,{}),onClick:()=>{var x,E;n(!0),e((x=h==null?void 0:h.selectedMenuIds)!=null?x:[]),d((E=h==null?void 0:h.treeData)!=null?E:[])},children:"\u7F16\u8F91\u6570\u636E\u6743\u9650"})})]}),S==="2"&&R(Le,{children:[R(Ne,{wrap:!0,className:"mb-2",children:[o.length>0&&i(te,{size:"small",icon:W?i(pt,{}):i(gt,{}),onClick:()=>l(W?[]:G),children:W?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),r&&i(ft,{indeterminate:u,onChange:x=>ce(x.target.checked),checked:s,children:"\u5168\u9009/\u5168\u4E0D\u9009"})]}),i(Oe,{spinning:M,children:i("div",{className:"h-[calc(100vh-450px)] overflow-y-auto",children:o.length>0?i(xt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:r,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:t,treeData:o,expandedKeys:c,onExpand:x=>l(x),onCheck:x=>{e(x.checked)}}):i(Xe,{description:"\u6682\u672A\u5206\u914D\u6570\u636E\u6743\u9650"})})})]})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const pn=()=>{var h;const[t,e]=p.exports.useState([]),[r,n]=p.exports.useState(!1),[c,l]=p.exports.useState([]),[o,d]=p.exports.useState([]),[s,C]=p.exports.useState(!1),[u,f]=p.exports.useState(!0),{canEditSysRole:S}=Re(),{isFetching:y,data:m,refetch:j}=cn(g=>{n(!1),d(g)}),{isLoading:A,mutate:w}=Tt(()=>{j()}),I=ut((h=m==null?void 0:m.treeData)!=null?h:[]),M=(c==null?void 0:c.length)!==0&&(c==null?void 0:c.length)===(I==null?void 0:I.length),O=g=>{var v;if(g||u){e((v=m==null?void 0:m.allMenuIds)!=null?v:[]);return}e([])};return p.exports.useEffect(()=>{if((m==null?void 0:m.allMenuIds.length)===t.length){C(!0),f(!1);return}if(t.length===0){C(!1),f(!1);return}f(!0)},[m==null?void 0:m.allMenuIds,t]),R(Le,{children:[R("header",{className:"flex justify-between mb-2",children:[R(Ne,{wrap:!0,children:[o.length>0&&i(te,{size:"small",icon:M?i(pt,{}):i(gt,{}),onClick:()=>l(M?[]:I),children:M?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),r&&i(ft,{indeterminate:u,onChange:g=>O(g.target.checked),checked:s,children:"\u5168\u9009/\u5168\u4E0D\u9009"})]}),i(Be,{accessible:S,children:r?R(Ne,{wrap:!0,children:[i(te,{loading:A,onClick:()=>{var g;n(!1),d((g=m==null?void 0:m.selectedTreeData)!=null?g:[])},children:"\u53D6\u6D88\u7F16\u8F91"}),i(te,{type:"primary",ghost:!0,icon:i(mt,{}),loading:A,onClick:()=>w({menuIds:t}),children:"\u4FDD\u5B58"})]}):i(te,{type:"primary",ghost:!0,icon:i(ht,{}),onClick:()=>{var g,v;n(!0),e((g=m==null?void 0:m.selectedMenuIds)!=null?g:[]),d((v=m==null?void 0:m.treeData)!=null?v:[])},children:"\u7F16\u8F91\u83DC\u5355\u6743\u9650"})})]}),i(Oe,{spinning:y,children:i("div",{className:"h-[calc(100vh-450px)] overflow-y-auto",children:o.length>0?i(xt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:r,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:t,treeData:o,expandedKeys:c,onExpand:g=>l(g),onCheck:g=>{e(g.checked)}}):i(Xe,{description:"\u6682\u672A\u5206\u914D\u83DC\u5355\u6743\u9650"})})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Rn=()=>{const{xl:t}=Va(),{open:e}=je();return i(sa,{children:R(pe,{ghost:!0,gutter:16,children:[i(pe,{title:"\u89D2\u8272\u5217\u8868",colSpan:"450px",extra:R(Ne,{children:[i(dn,{}),i(ln,{})]}),children:i(mn,{})}),e?R(pe,{split:"horizontal",title:"\u89D2\u8272\u8BE6\u60C5",extra:R(Ne,{children:[i(sn,{}),i(Xa,{})]}),className:"h-full",children:[i(pe,{children:i(un,{})}),R(pe,{split:t?"vertical":"horizontal",children:[i(pe,{children:i(pn,{})}),i(pe,{children:i(hn,{})})]})]}):i(pe,{title:"\u89D2\u8272\u8BE6\u60C5",className:"h-full",children:i(Xe,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u89D2\u8272\u67E5\u770B\u8BE6\u60C5"})})]})})};export{Rn as default};
