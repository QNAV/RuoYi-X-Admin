import{r as u,R as f,g as w,h as C,m as j,d as m,F as b,j as A,n as x,o as S}from"./index.7c81fac9.js";import{u as k}from"./index.2df64043.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const E=e=>{const t=u.exports.useRef(),l=f(e);return u.exports.useEffect(()=>{t!=null&&t.current&&l(t.current)},[]),t};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const v=5,M=e=>{const[t,l]=k(),i=w(),a=C.find(c=>j(c,e)),s=a!==void 0;return u.exports.useEffect(()=>{s&&l(c=>{const h={...c,[a]:{children:i,pathname:e}},g=Object.keys(h);return g.length>v&&delete h[g[0]],h})},[e]),m(b,{children:[Object.entries(t).map(([c,h])=>A("div",{hidden:e!==h.pathname,children:h.children},c)),A("div",{hidden:s,children:!s&&i})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const O=(e,t="checkbox",l=!0)=>{const[i,a]=u.exports.useState([]),[s,c]=u.exports.useState([]);return{selectedRows:s,selectedRowKeys:i,rowSelection:{alwaysShowAlert:l,type:t,selectedRowKeys:i,onChange:(o,n)=>{c(n),a(o)}},onClick:o=>{const n=o[e];let p=[o],r=[n];if(t==="checkbox")if(r=[...i],p=x(s),r.includes(n)){const d=i.indexOf(n);r.splice(d,1),p.splice(d,1)}else p.push(o),r.push(n);c(p),a(r)},clearSelection:()=>{c([]),a([])},setSelectedRowKeys:a,checkRowSelection:async(o="\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61")=>(s==null?void 0:s.length)===0?(S.warning(o),Promise.reject(o)):Promise.resolve(s)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{E as a,O as b,M as u};
