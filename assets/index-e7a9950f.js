import{r as s,aj as u,$ as h,ak as n,a3 as o,al as l,am as g,a0 as f,an as p}from"./index-7f681476.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const j=t=>{const e=s.exports.useRef(),a=u(t);return s.exports.useEffect(()=>{a(e.current)},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const A=(t,e=!0)=>{const a=s.exports.useRef(),{pathname:c}=h();s.exports.useEffect(()=>{const r=n.find(i=>o(i,c));if(!!r){if(a.current===void 0&&e){a.current=r;return}if(a.current===void 0&&!e){a.current=r,t();return}!o(a.current,c)||t()}},[c])},b=t=>{const e=s.exports.useRef(!1),{pathname:a}=h();s.exports.useEffect(()=>{!e.current||(e.current=!1,t())},[a]),A(()=>{e.current=!0},!1)};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const T=(t={})=>l({path:"/logout",method:"POST",secure:!0,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const m=()=>{const t=g(),e=f();return async()=>{await T(),p(),t.clear(),e("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{j as a,A as b,b as c,m as u};
