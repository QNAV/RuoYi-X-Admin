import{u as h}from"./index-3011f4b1.js";import{b as r,a as i,d as u}from"./index-f7881e43.js";import{r as a}from"./jsx-runtime-f6344dff.js";import{u as n}from"./index-88ffc593.js";import{ad as l}from"./index-0cc72bc5.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const m=()=>{const{data:t}=h();return a.useCallback((e,c)=>{var o;const s=new Set(((o=t==null?void 0:t.userInfo)==null?void 0:o.permissions)??[]);return typeof e=="function"?e(s):r(e,s,c)},[t])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const C=t=>{const e=a.useRef(),c=n(t);return a.useEffect(()=>{a.startTransition(()=>{c(e.current)})},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const j=(t,e=!0)=>{const c=a.useRef({}),{pathname:s}=l();return a.useEffect(()=>{c.current.isActivated=!1},[s]),c.current.isActivated};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const g=(t={})=>i({path:"/logout",method:"POST",secure:!0,skipErrorHandler:!1,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const w=()=>async()=>{await g(),u(),window.location.replace("/login")};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{m as a,C as b,j as c,w as u};
