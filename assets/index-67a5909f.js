import{aD as N,c4 as j,l as E,c5 as R,_ as d}from"./index-4f978b96.js";import{R as $,j as i,r as g,a as b}from"./jsx-runtime-0e3d513e.js";import{U as O}from"./index-3caf2b23.js";var w=$.forwardRef(function(o,r){var e=o.fieldProps,c=o.title,h=c===void 0?"单击或拖动文件到此区域进行上传":c,s=o.icon,x=s===void 0?i(j,{}):s,v=o.description,C=v===void 0?"支持单次或批量上传":v,f=o.action,P=o.accept,l=o.onChange,n=o.value,p=o.children,u=o.max,a=o.proFieldProps,F=g.useContext(E.ConfigContext),y=g.useContext(R),U=(a==null?void 0:a.mode)||y.mode||"edit",t=F.getPrefixCls("upload"),D=(u===void 0||!n||(n==null?void 0:n.length)<u)&&U!=="read"&&(a==null?void 0:a.readonly)!==!0;return b(O.Dragger,d(d({ref:r,name:"files",action:f,accept:P,fileList:n},e),{},{onChange:function(m){l==null||l(m),e!=null&&e.onChange&&(e==null||e.onChange(m))},style:d(d({},e==null?void 0:e.style),{},{display:D?void 0:"none"}),children:[i("p",{className:"".concat(t,"-drag-icon"),children:x}),i("p",{className:"".concat(t,"-text"),children:h}),i("p",{className:"".concat(t,"-hint"),children:C}),p?i("div",{className:"".concat(t,"-extra"),style:{padding:16},children:p}):null]}))}),B=N(w,{getValueFromEvent:function(r){return r.fileList}});const k=B;export{k as P};
