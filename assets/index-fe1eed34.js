import{a7 as i,r as c,a9 as u,ag as n,X as l,ah as g,a0 as o,ai as f,aj as p,Y as A,ak as C}from"./index-9a700e01.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const j=()=>{const{data:t}=i();return c.exports.useCallback((e,a)=>{var s;return u(e,new Set(((s=t==null?void 0:t.userInfo)==null?void 0:s.permissions)??[]),a)},[t])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const m=t=>{const e=c.exports.useRef(),a=n(t);return c.exports.useEffect(()=>{a(e.current)},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const w=(t,e=!0)=>{const a=c.exports.useRef(),{pathname:s}=l();c.exports.useEffect(()=>{const h=g.find(r=>o(r,s));if(!!h){if(a.current===void 0&&e){a.current=h;return}if(a.current===void 0&&!e){a.current=h,t();return}!o(a.current,s)||t()}},[s])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const T=(t={})=>f({path:"/logout",method:"POST",secure:!0,skipErrorHandler:!1,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const v=()=>{const t=p(),e=A();return async()=>{await T(),C(),t.clear(),e("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{m as a,j as b,w as c,v as u};
