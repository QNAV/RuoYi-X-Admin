import{r as u,g as f,h as m,m as w,n as C,e as j,F as b,j as d,o as k,p as x}from"./index.70dcc9a1.js";import{u as S}from"./index.ee74bc37.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const E=e=>{const t=u.exports.useRef(),l=f(e);return u.exports.useEffect(()=>{t!=null&&t.current&&l(t.current)},[]),t};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const v=5,M=e=>{const[t,l]=S(),i=m(),h=w.find(c=>C(c,e)),s=h!==void 0;return u.exports.useEffect(()=>{s&&l(c=>{const a={...c,[h]:{children:i,pathname:e}},g=Object.keys(a);return g.length>v&&delete a[g[0]],a})},[e]),j(b,{children:[Object.entries(t).map(([c,a])=>d("div",{hidden:e!==a.pathname,children:a.children},c)),d("div",{hidden:s,children:!s&&i})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const O=(e,t="checkbox",l=!0)=>{const[i,h]=u.exports.useState([]),[s,c]=u.exports.useState([]);return{selectedRows:s,selectedRowKeys:i,rowSelection:{alwaysShowAlert:l,type:t,selectedRowKeys:i,onChange:(o,n)=>{c(n),h(o)}},onClick:o=>{const n=o[e];let p=[o],r=[n];if(t==="checkbox")if(r=[...i],p=k(s),r.includes(n)){const A=i.indexOf(n);r.splice(A,1),p.splice(A,1)}else p.push(o),r.push(n);c(p),h(r)},clearSelection:()=>{c([]),h([])},setSelectedRowKeys:h,checkRowSelection:async(o="\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61")=>(s==null?void 0:s.length)===0?(x.warning(o),Promise.reject(o)):Promise.resolve(s)}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};export{E as a,O as b,M as u};
