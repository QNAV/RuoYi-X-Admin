import{r as d,be as X,n as H,ba as he,bb as ye,bd as Se,cT as V,cU as oe,db as je,T as Re,dc as Me,x,dd as Ne,bN as ve,de as $e,bI as He,l as Ae,cY as ne,_ as re,df as Z,d as m,dg as Fe,p as me,g as _,h as A,b as T,j as l,D as We,dh as se,aK as F,q as xe,a as de,bL as ie,m as Ge,di as Ke,dj as Ce,dk as qe,e as le,dl as _e,bD as Xe,o as we,d5 as Ve,dm as k,P as ee,dn as Qe,bi as Ue,dp as Ye}from"./index-211d5ee6.js";var Je=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};const Ze=e=>{var{prefixCls:t,className:a,hoverable:n=!0}=e,r=Je(e,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=d.useContext(X),s=i("card",t),f=H(`${s}-grid`,a,{[`${s}-grid-hoverable`]:n});return d.createElement("div",Object.assign({},r,{className:f}))},Ee=Ze,ke=e=>{const{antCls:t,componentCls:a,cardHeadHeight:n,cardPaddingBase:r,cardHeadTabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:n,marginBottom:-1,padding:`0 ${r}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},V()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},oe),{[`
          > ${a}-typography,
          > ${a}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},et=e=>{const{cardPaddingBase:t,colorBorderSecondary:a,cardShadow:n,lineWidth:r}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${r}px 0 0 0 ${a},
      0 ${r}px 0 0 ${a},
      ${r}px ${r}px 0 0 ${a},
      ${r}px 0 0 0 ${a} inset,
      0 ${r}px 0 0 ${a} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:n}}},tt=e=>{const{componentCls:t,iconCls:a,cardActionsLiMargin:n,cardActionsIconSize:r,colorBorderSecondary:i}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:`${e.lineWidth}px ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},V()),{"& > li":{margin:n,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.cardActionsIconSize*2,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${a}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:`${e.fontSize*e.lineHeight}px`,transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${a}`]:{fontSize:r,lineHeight:`${r*e.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${i}`}}})},at=e=>Object.assign(Object.assign({margin:`-${e.marginXXS}px 0`,display:"flex"},V()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},oe),"&-description":{color:e.colorTextDescription}}),nt=e=>{const{componentCls:t,cardPaddingBase:a,colorFillAlter:n}=e;return{[`${t}-head`]:{padding:`0 ${a}px`,background:n,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${a}px`}}},rt=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},it=e=>{const{componentCls:t,cardShadow:a,cardHeadPadding:n,colorBorderSecondary:r,boxShadowTertiary:i,cardPaddingBase:s}=e;return{[t]:Object.assign(Object.assign({},Se(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:i},[`${t}-head`]:ke(e),[`${t}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:s,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},V()),[`${t}-grid`]:et(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${t}-actions`]:tt(e),[`${t}-meta`]:at(e)}),[`${t}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${r}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:a}},[`${t}-contain-grid`]:{[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:n}}},[`${t}-type-inner`]:nt(e),[`${t}-loading`]:rt(e),[`${t}-rtl`]:{direction:"rtl"}}},lt=e=>{const{componentCls:t,cardPaddingSM:a,cardHeadHeightSM:n}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:n,padding:`0 ${a}px`,fontSize:e.fontSize,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:a}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:n,paddingTop:0,display:"flex",alignItems:"center"}}}}},ot=he("Card",e=>{const t=ye(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,cardHeadHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:`${e.paddingSM}px 0`,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[it(t),lt(t)]});var st=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};function dt(e){return e.map((a,n)=>d.createElement("li",{style:{width:`${100/e.length}%`},key:`action-${n}`},d.createElement("span",null,a)))}const ct=d.forwardRef((e,t)=>{const{getPrefixCls:a,direction:n}=d.useContext(X),r=d.useContext(je),i=N=>{var R;(R=e.onTabChange)===null||R===void 0||R.call(e,N)},s=()=>{let N;return d.Children.forEach(e.children,R=>{R&&R.type&&R.type===Ee&&(N=!0)}),N},{prefixCls:f,className:c,rootClassName:v,extra:p,headStyle:I={},bodyStyle:b={},title:C,loading:D,bordered:E=!0,size:P,type:o,cover:h,actions:S,tabList:y,children:w,activeTabKey:$,defaultActiveTabKey:z,tabBarExtraContent:L,hoverable:j,tabProps:u={}}=e,O=st(e,["prefixCls","className","rootClassName","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),g=a("card",f),[B,U]=ot(g),Y=d.createElement(x,{loading:!0,active:!0,paragraph:{rows:4},title:!1},w),W=$!==void 0,J=Object.assign(Object.assign({},u),{[W?"activeKey":"defaultActiveKey"]:W?$:z,tabBarExtraContent:L});let G;const K=y&&y.length?d.createElement(Re,Object.assign({size:"large"},J,{className:`${g}-head-tabs`,onChange:i,items:y.map(N=>{var R;return{label:N.tab,key:N.key,disabled:(R=N.disabled)!==null&&R!==void 0?R:!1}})})):null;(C||p||K)&&(G=d.createElement("div",{className:`${g}-head`,style:I},d.createElement("div",{className:`${g}-head-wrapper`},C&&d.createElement("div",{className:`${g}-head-title`},C),p&&d.createElement("div",{className:`${g}-extra`},p)),K));const Be=h?d.createElement("div",{className:`${g}-cover`},h):null,ze=d.createElement("div",{className:`${g}-body`,style:b},D?Y:w),De=S&&S.length?d.createElement("ul",{className:`${g}-actions`},dt(S)):null,Le=Me(O,["onTabChange"]),fe=P||r,Oe=H(g,{[`${g}-loading`]:D,[`${g}-bordered`]:E,[`${g}-hoverable`]:j,[`${g}-contain-grid`]:s(),[`${g}-contain-tabs`]:y&&y.length,[`${g}-${fe}`]:fe,[`${g}-type-${o}`]:!!o,[`${g}-rtl`]:n==="rtl"},c,v,U);return B(d.createElement("div",Object.assign({ref:t},Le,{className:Oe}),G,Be,ze,De))}),ut=ct;var gt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a};const ft=e=>{const{prefixCls:t,className:a,avatar:n,title:r,description:i}=e,s=gt(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:f}=d.useContext(X),c=f("card",t),v=H(`${c}-meta`,a),p=n?d.createElement("div",{className:`${c}-meta-avatar`},n):null,I=r?d.createElement("div",{className:`${c}-meta-title`},r):null,b=i?d.createElement("div",{className:`${c}-meta-description`},i):null,C=I||b?d.createElement("div",{className:`${c}-meta-detail`},I,b):null;return d.createElement("div",Object.assign({},s,{className:v}),p,C)},vt=ft,ce=ut;ce.Grid=Ee;ce.Meta=vt;const M=ce,mt=e=>{let{children:t}=e;return t},pt=mt;function q(e){return e!=null}const bt=e=>{let{itemPrefixCls:t,component:a,span:n,className:r,style:i,labelStyle:s,contentStyle:f,bordered:c,label:v,content:p,colon:I}=e;const b=a;return c?d.createElement(b,{className:H({[`${t}-item-label`]:q(v),[`${t}-item-content`]:q(p)},r),style:i,colSpan:n},q(v)&&d.createElement("span",{style:s},v),q(p)&&d.createElement("span",{style:f},p)):d.createElement(b,{className:H(`${t}-item`,r),style:i,colSpan:n},d.createElement("div",{className:`${t}-item-container`},(v||v===0)&&d.createElement("span",{className:H(`${t}-item-label`,{[`${t}-item-no-colon`]:!I}),style:s},v),(p||p===0)&&d.createElement("span",{className:H(`${t}-item-content`),style:f},p)))},te=bt;function ae(e,t,a){let{colon:n,prefixCls:r,bordered:i}=t,{component:s,type:f,showLabel:c,showContent:v,labelStyle:p,contentStyle:I}=a;return e.map((b,C)=>{let{props:{label:D,children:E,prefixCls:P=r,className:o,style:h,labelStyle:S,contentStyle:y,span:w=1},key:$}=b;return typeof s=="string"?d.createElement(te,{key:`${f}-${$||C}`,className:o,style:h,labelStyle:Object.assign(Object.assign({},p),S),contentStyle:Object.assign(Object.assign({},I),y),span:w,colon:n,component:s,itemPrefixCls:P,bordered:i,label:c?D:null,content:v?E:null}):[d.createElement(te,{key:`label-${$||C}`,className:o,style:Object.assign(Object.assign(Object.assign({},p),h),S),span:1,colon:n,component:s[0],itemPrefixCls:P,bordered:i,label:D}),d.createElement(te,{key:`content-${$||C}`,className:o,style:Object.assign(Object.assign(Object.assign({},I),h),y),span:w*2-1,component:s[1],itemPrefixCls:P,bordered:i,content:E})]})}const ht=e=>{const t=d.useContext(Te),{prefixCls:a,vertical:n,row:r,index:i,bordered:s}=e;return n?d.createElement(d.Fragment,null,d.createElement("tr",{key:`label-${i}`,className:`${a}-row`},ae(r,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),d.createElement("tr",{key:`content-${i}`,className:`${a}-row`},ae(r,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):d.createElement("tr",{key:i,className:`${a}-row`},ae(r,e,Object.assign({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},yt=ht,St=e=>{const{componentCls:t,descriptionsSmallPadding:a,descriptionsDefaultPadding:n,descriptionsMiddlePadding:r,descriptionsBg:i}=e;return{[`&${t}-bordered`]:{[`${t}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"}},[`${t}-item-label, ${t}-item-content`]:{padding:n,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:i,"&::after":{display:"none"}},[`${t}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"}},[`&${t}-middle`]:{[`${t}-item-label, ${t}-item-content`]:{padding:r}},[`&${t}-small`]:{[`${t}-item-label, ${t}-item-content`]:{padding:a}}}}},$t=e=>{const{componentCls:t,descriptionsExtraColor:a,descriptionItemPaddingBottom:n,descriptionsItemLabelColonMarginRight:r,descriptionsItemLabelColonMarginLeft:i,descriptionsTitleMarginBottom:s}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Se(e)),St(e)),{["&-rtl"]:{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:s},[`${t}-title`]:Object.assign(Object.assign({},oe),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:n},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${i}px ${r}px`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},xt=he("Descriptions",e=>{const t=e.colorFillAlter,a=e.fontSizeSM*e.lineHeightSM,n=e.colorText,r=`${e.paddingXS}px ${e.padding}px`,i=`${e.padding}px ${e.paddingLG}px`,s=`${e.paddingSM}px ${e.paddingLG}px`,f=e.padding,c=e.marginXS,v=e.marginXXS/2,p=ye(e,{descriptionsBg:t,descriptionsTitleMarginBottom:a,descriptionsExtraColor:n,descriptionItemPaddingBottom:f,descriptionsSmallPadding:r,descriptionsDefaultPadding:i,descriptionsMiddlePadding:s,descriptionsItemLabelColonMarginRight:c,descriptionsItemLabelColonMarginLeft:v});return[$t(p)]}),Te=d.createContext({}),Ie={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Ct(e,t){if(typeof e=="number")return e;if(typeof e=="object")for(let a=0;a<ve.length;a++){const n=ve[a];if(t[n]&&e[n]!==void 0)return e[n]||Ie[n]}return 3}function pe(e,t,a){let n=e;return(a===void 0||a>t)&&(n=He(e,{span:t})),n}function wt(e,t){const a=$e(e).filter(s=>s),n=[];let r=[],i=t;return a.forEach((s,f)=>{var c;const v=(c=s.props)===null||c===void 0?void 0:c.span,p=v||1;if(f===a.length-1){r.push(pe(s,i,v)),n.push(r);return}p<i?(i-=p,r.push(s)):(r.push(pe(s,i,p)),n.push(r),i=t,r=[])}),n}function Q(e){let{prefixCls:t,title:a,extra:n,column:r=Ie,colon:i=!0,bordered:s,layout:f,children:c,className:v,rootClassName:p,style:I,size:b,labelStyle:C,contentStyle:D}=e;const{getPrefixCls:E,direction:P}=d.useContext(X),o=E("descriptions",t),[h,S]=d.useState({}),y=Ct(r,h),[w,$]=xt(o),z=Ne();d.useEffect(()=>{const u=z.subscribe(O=>{typeof r=="object"&&S(O)});return()=>{z.unsubscribe(u)}},[]);const L=wt(c,y),j=d.useMemo(()=>({labelStyle:C,contentStyle:D}),[C,D]);return w(d.createElement(Te.Provider,{value:j},d.createElement("div",{className:H(o,{[`${o}-${b}`]:b&&b!=="default",[`${o}-bordered`]:!!s,[`${o}-rtl`]:P==="rtl"},v,p,$),style:I},(a||n)&&d.createElement("div",{className:`${o}-header`},a&&d.createElement("div",{className:`${o}-title`},a),n&&d.createElement("div",{className:`${o}-extra`},n)),d.createElement("div",{className:`${o}-view`},d.createElement("table",null,d.createElement("tbody",null,L.map((u,O)=>d.createElement(yt,{key:O,index:O,colon:i,prefixCls:o,vertical:f==="vertical",bordered:s,row:u}))))))))}Q.Item=pt;var Et=function(t){return(me.warn||me.warning)(t)};function Tt(e){var t=e.data,a=e.row;return m(m({},t),a)}function It(e){var t=e.type||"single",a=Ae(),n=ne([],{value:e.editableKeys,onChange:e.onChange?function(o){var h;e==null||(h=e.onChange)===null||h===void 0||h.call(e,o,e.dataSource)}:void 0}),r=re(n,2),i=r[0],s=r[1],f=d.useMemo(function(){var o=t==="single"?i==null?void 0:i.slice(0,1):i;return new Set(o)},[(i||[]).join(","),t]),c=d.useCallback(function(o){return!!(i!=null&&i.includes(Z(o)))},[(i||[]).join(",")]),v=function(h){return f.size>0&&t==="single"?(Et(e.onlyOneLineEditorAlertMessage||a.getMessage("editableTable.onlyOneLineEditor","只能同时编辑一行")),!1):(f.add(Z(h)),s(Array.from(f)),!0)},p=function(h){return f.delete(Z(h)),s(Array.from(f)),!0},I=function(){var o=_(A().mark(function h(S,y,w,$){var z,L;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e==null||(z=e.onCancel)===null||z===void 0?void 0:z.call(e,S,y,w,$);case 2:if(L=u.sent,L!==!1){u.next=5;break}return u.abrupt("return",!1);case 5:return u.abrupt("return",!0);case 6:case"end":return u.stop()}},h)}));return function(S,y,w,$){return o.apply(this,arguments)}}(),b=function(){var o=_(A().mark(function h(S,y,w){var $,z,L;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e==null||($=e.onSave)===null||$===void 0?void 0:$.call(e,S,y,w);case 2:if(z=u.sent,z!==!1){u.next=5;break}return u.abrupt("return",!1);case 5:return p(S),L={data:e.dataSource,row:y,key:S,childrenColumnName:e.childrenColumnName||"children"},e.setDataSource(Tt(L)),u.abrupt("return",!0);case 9:case"end":return u.stop()}},h)}));return function(S,y,w){return o.apply(this,arguments)}}(),C=a.getMessage("editableTable.action.save","保存"),D=a.getMessage("editableTable.action.delete","删除"),E=a.getMessage("editableTable.action.cancel","取消"),P=d.useCallback(function(o,h){var S=m({recordKey:o,cancelEditable:p,onCancel:I,onSave:b,editableKeys:i,setEditableRowKeys:s,saveText:C,cancelText:E,deleteText:D,deletePopconfirmMessage:"".concat(a.getMessage("deleteThisLine","删除此行"),"?"),editorType:"Map"},h),y=Fe(e.dataSource,S);return e.actionRender?e.actionRender(e.dataSource,S,{save:y.save,delete:y.delete,cancel:y.cancel}):[y.save,y.delete,y.cancel]},[i&&i.join(","),e.dataSource]);return{editableKeys:i,setEditableRowKeys:s,isEditable:c,actionRender:P,startEditable:v,cancelEditable:p}}var ue=function(t){var a=t.padding;return l("div",{style:{padding:a||"0 24px"},children:l(We,{style:{margin:0}})})},Pt={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},Bt=function(t){var a=t.size,n=t.active,r=se(),i=a===void 0?Pt[r]||6:a,s=function(c){return c===0?0:i>2?42:16};return l(M,{bordered:!1,style:{marginBlockEnd:16},children:l("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(i).fill(null).map(function(f,c){return T("div",{style:{borderInlineStart:i>2&&c===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingInlineStart:s(c),flex:1,marginInlineEnd:c===0?16:0},children:[l(x,{active:n,paragraph:!1,title:{width:100,style:{marginBlockStart:0}}}),l(x.Button,{active:n,style:{height:48}})]},c)})})})},zt=function(t){var a=t.active;return T(xe,{children:[l(M,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24},children:T("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l("div",{style:{maxWidth:"100%",flex:1},children:l(x,{active:a,title:{width:100,style:{marginBlockStart:0}},paragraph:{rows:1,style:{margin:0}}})}),l(x.Button,{active:a,size:"small",style:{width:165,marginBlockStart:12}})]})}),l(ue,{})]})},Dt=function(t){var a=t.size,n=t.active,r=n===void 0?!0:n,i=t.actionButton;return T(M,{bordered:!1,bodyStyle:{padding:0},children:[new Array(a).fill(null).map(function(s,f){return l(zt,{active:!!r},f)}),i!==!1&&l(M,{bordered:!1,style:{borderStartEndRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},children:l(x.Button,{style:{width:102},active:r,size:"small"})})]})},ge=function(t){var a=t.active;return T("div",{style:{marginBlockEnd:16},children:[l(x,{paragraph:!1,title:{width:185}}),l(x.Button,{active:a,size:"small"})]})},Lt=function(t){var a=t.active;return l(M,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBlockEnd:8},children:T(F,{style:{width:"100%",justifyContent:"space-between"},children:[l(x.Button,{active:a,style:{width:200},size:"small"}),T(F,{children:[l(x.Button,{active:a,size:"small",style:{width:120}}),l(x.Button,{active:a,size:"small",style:{width:80}})]})]})})},Ot=function(t){var a=t.active,n=a===void 0?!0:a,r=t.statistic,i=t.actionButton,s=t.toolbar,f=t.pageHeader,c=t.list,v=c===void 0?5:c;return T("div",{style:{width:"100%"},children:[f!==!1&&l(ge,{active:n}),r!==!1&&l(Bt,{size:r,active:n}),(s!==!1||v!==!1)&&T(M,{bordered:!1,bodyStyle:{padding:0},children:[s!==!1&&l(Lt,{active:n}),v!==!1&&l(Dt,{size:v,active:n,actionButton:i})]})]})};const jt=Ot;var Pe={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},Rt=function(t){var a=t.active;return T("div",{style:{marginBlockStart:32},children:[l(x.Button,{active:a,size:"small",style:{width:100,marginBlockEnd:16}}),T("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:[T("div",{style:{flex:1,marginInlineEnd:24,maxWidth:300},children:[l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:0}}}),l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:8}}}),l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:8}}})]}),l("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:T("div",{style:{maxWidth:300,margin:"auto"},children:[l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:0}}}),l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:8}}})]})})]})]})},Mt=function(t){var a=t.size,n=t.active,r=se(),i=a===void 0?Pe[r]||3:a;return l("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(i).fill(null).map(function(s,f){return T("div",{style:{flex:1,paddingInlineStart:f===0?0:24,paddingInlineEnd:f===i-1?0:24},children:[l(x,{active:n,paragraph:!1,title:{style:{marginBlockStart:0}}}),l(x,{active:n,paragraph:!1,title:{style:{marginBlockStart:8}}}),l(x,{active:n,paragraph:!1,title:{style:{marginBlockStart:8}}})]},f)})})},be=function(t){var a=t.active,n=t.header,r=n===void 0?!1:n,i=se(),s=Pe[i]||3;return T(xe,{children:[T("div",{style:{display:"flex",background:r?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"},children:[new Array(s).fill(null).map(function(f,c){return l("div",{style:{flex:1,paddingInlineStart:r&&c===0?0:20,paddingInlineEnd:32},children:l(x,{active:a,paragraph:!1,title:{style:{margin:0,height:24,width:r?"75px":"100%"}}})},c)}),l("div",{style:{flex:3,paddingInlineStart:32},children:l(x,{active:a,paragraph:!1,title:{style:{margin:0,height:24,width:r?"75px":"100%"}}})})]}),l(ue,{padding:"0px 0px"})]})},Nt=function(t){var a=t.active,n=t.size,r=n===void 0?4:n;return T(M,{bordered:!1,children:[l(x.Button,{active:a,size:"small",style:{width:100,marginBlockEnd:16}}),l(be,{header:!0,active:a}),new Array(r).fill(null).map(function(i,s){return l(be,{active:a},s)}),l("div",{style:{display:"flex",justifyContent:"flex-end",paddingBlockStart:16},children:l(x,{active:a,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})})]})},Ht=function(t){var a=t.active;return T(M,{bordered:!1,style:{borderStartEndRadius:0,borderTopLeftRadius:0},children:[l(x.Button,{active:a,size:"small",style:{width:100,marginBlockEnd:16}}),l(Mt,{active:a}),l(Rt,{active:a})]})},At=function(t){var a=t.active,n=a===void 0?!0:a,r=t.pageHeader,i=t.list;return T("div",{style:{width:"100%"},children:[r!==!1&&l(ge,{active:n}),l(Ht,{active:n}),i!==!1&&l(ue,{}),i!==!1&&l(Nt,{active:n,size:i})]})};const Ft=At;var Wt=function(t){var a=t.active,n=a===void 0?!0:a,r=t.pageHeader;return T("div",{style:{width:"100%"},children:[r!==!1&&l(ge,{active:n}),l(M,{children:T("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128},children:[l(x.Avatar,{size:64,style:{marginBlockEnd:32}}),l(x.Button,{active:n,style:{width:214,marginBlockEnd:8}}),l(x.Button,{active:n,style:{width:328},size:"small"}),T(F,{style:{marginBlockStart:24},children:[l(x.Button,{active:n,style:{width:116}}),l(x.Button,{active:n,style:{width:116}})]})]})})]})};const Gt=Wt;var Kt=["type"],qt=function(t){var a=t.type,n=a===void 0?"list":a,r=de(t,Kt);return n==="result"?l(Gt,m({},r)):n==="descriptions"?l(Ft,m({},r)):l(jt,m({},r))};const _t=qt;var Xt=function(t,a){var n=a||{},r=n.onRequestError,i=n.effects,s=n.manual,f=n.dataSource,c=n.defaultDataSource,v=n.onDataSourceChange,p=ne(c,{value:f,onChange:v}),I=re(p,2),b=I[0],C=I[1],D=ne(a==null?void 0:a.loading,{value:a==null?void 0:a.loading,onChange:a==null?void 0:a.onLoadingChange}),E=re(D,2),P=E[0],o=E[1],h=function(w){C(w),o(!1)},S=function(){var y=_(A().mark(function w(){var $,z,L;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!P){u.next=2;break}return u.abrupt("return");case 2:return o(!0),u.prev=3,u.next=6,t();case 6:if(u.t0=u.sent,u.t0){u.next=9;break}u.t0={};case 9:$=u.t0,z=$.data,L=$.success,L!==!1&&h(z),u.next=23;break;case 15:if(u.prev=15,u.t1=u.catch(3),r!==void 0){u.next=21;break}throw new Error(u.t1);case 21:r(u.t1);case 22:o(!1);case 23:return u.prev=23,o(!1),u.finish(23);case 26:case"end":return u.stop()}},w,null,[[3,15,23,26]])}));return function(){return y.apply(this,arguments)}}();return d.useEffect(function(){s||S()},[].concat(ie(i||[]),[s])),{dataSource:b,setDataSource:C,loading:P,reload:function(){return S()}}};const Vt=Xt;var Qt=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],Ut=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],Yt=function(t,a){var n=t.dataIndex;if(n){var r=Array.isArray(n)?Ve(a,n):a[n];if(r!==void 0||r!==null)return r}return t.children},Jt=function(t){var a=t.valueEnum,n=t.action,r=t.index,i=t.text,s=t.entity,f=t.mode,c=t.render,v=t.editableUtils,p=t.valueType,I=t.plain,b=t.dataIndex,C=t.request,D=t.renderFormItem,E=t.params,P=we.useFormInstance(),o={text:i,valueEnum:a,mode:f||"read",proFieldProps:{render:c?function(){return c==null?void 0:c(i,s,r,n,m(m({},t),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:p,request:C,params:E,plain:I};if(f==="read"||!f||p==="option"){var h=k(t.fieldProps,void 0,m(m({},t),{},{rowKey:b,isEditable:!1}));return l(ee,m(m({name:b},o),{},{fieldProps:h}))}var S=function(){var w,$=k(t.formItemProps,P,m(m({},t),{},{rowKey:b,isEditable:!0})),z=k(t.fieldProps,P,m(m({},t),{},{rowKey:b,isEditable:!0})),L=D?D==null?void 0:D(m(m({},t),{},{type:"descriptions"}),{isEditable:!0,recordKey:b,record:P.getFieldValue([b].flat(1)),defaultRender:function(){return l(ee,m(m({},o),{},{fieldProps:z}))},type:"descriptions"},P):void 0;return T(F,{style:{alignItems:"baseline"},children:[l(Qe,m(m({name:b},$),{},{style:m({margin:0},($==null?void 0:$.style)||{}),initialValue:i||($==null?void 0:$.initialValue),children:L||l(ee,m(m({},o),{},{proFieldProps:m({},o.proFieldProps),fieldProps:z}))})),v==null||(w=v.actionRender)===null||w===void 0?void 0:w.call(v,b||r,{cancelText:l(Ue,{}),saveText:l(Ye,{}),deleteText:!1})]})};return l("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:S()})},Zt=function(t,a,n,r){var i,s=[],f=t==null||(i=t.map)===null||i===void 0?void 0:i.call(t,function(c,v){var p,I;if(le.isValidElement(c))return c;var b=c;b.valueEnum,b.render;var C=b.renderText,D=b.mode;b.plain;var E=b.dataIndex;b.request,b.params;var P=b.editable,o=de(b,Qt),h=(p=Yt(c,a))!==null&&p!==void 0?p:o.children,S=C?C(h,a,v,n):h,y=typeof o.title=="function"?o.title(c,"descriptions",null):o.title,w=typeof o.valueType=="function"?o.valueType(a||{},"descriptions"):o.valueType,$=r==null?void 0:r.isEditable(E||v),z=D||$?"edit":"read",L=r&&z==="read"&&P!==!1&&(P==null?void 0:P(S,a,v))!==!1,j=L?F:le.Fragment,u=z==="edit"?S:_e(S,c,S),O=d.createElement(Q.Item,m(m({},o),{},{key:o.key||((I=o.label)===null||I===void 0?void 0:I.toString())||v,label:(y||o.label||o.tooltip||o.tip)&&l(Ce,{label:y||o.label,tooltip:o.tooltip||o.tip,ellipsis:c.ellipsis})}),T(j,{children:[l(Jt,m(m({},c),{},{dataIndex:c.dataIndex||v,mode:z,text:u,valueType:w,entity:a,index:v,action:n,editableUtils:r})),L&&w!=="option"&&l(Xe,{onClick:function(){r==null||r.startEditable(E||v)}})]}));return w==="option"?(s.push(O),null):O}).filter(function(c){return c});return{options:s!=null&&s.length?s:null,children:f}},kt=function(t){return l(Q.Item,m(m({},t),{},{children:t.children}))},ea=function(t){return t.children},ta=function(t){var a,n=t.request,r=t.columns,i=t.params,s=i===void 0?{}:i,f=t.dataSource,c=t.onDataSourceChange,v=t.formProps,p=t.editable,I=t.loading,b=t.onLoadingChange,C=t.actionRef,D=t.onRequestError,E=de(t,Ut),P=d.useContext(Ge.ConfigContext),o=Vt(_(A().mark(function u(){var O;return A().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!n){B.next=6;break}return B.next=3,n(s);case 3:B.t0=B.sent,B.next=7;break;case 6:B.t0={data:{}};case 7:return O=B.t0,B.abrupt("return",O);case 9:case"end":return B.stop()}},u)})),{onRequestError:D,effects:[Ke(s)],manual:!n,dataSource:f,loading:I,onLoadingChange:b,onDataSourceChange:c}),h=It(m(m({},t.editable),{},{childrenColumnName:void 0,dataSource:o.dataSource,setDataSource:o.setDataSource}));if(d.useEffect(function(){C&&(C.current=m({reload:o.reload},h))},[o,C,h]),o.loading||o.loading===void 0&&n)return l(_t,{type:"descriptions",list:!1,pageHeader:!1});var S=function(){var O=$e(t.children).filter(Boolean).map(function(g){if(!le.isValidElement(g))return g;var B=g==null?void 0:g.props,U=B.valueEnum,Y=B.valueType,W=B.dataIndex,J=B.ellipsis,G=B.copyable,K=B.request;return!Y&&!U&&!W&&!K&&!J&&!G?g:m(m({},g==null?void 0:g.props),{},{entity:f})});return[].concat(ie(r||[]),ie(O)).filter(function(g){return!g||g!=null&&g.valueType&&["index","indexBorder"].includes(g==null?void 0:g.valueType)?!1:!(g!=null&&g.hideInDescriptions)}).sort(function(g,B){return B.order||g.order?(B.order||0)-(g.order||0):(B.index||0)-(g.index||0)})},y=Zt(S(),o.dataSource||{},(C==null?void 0:C.current)||o,p?h:void 0),w=y.options,$=y.children,z=p?we:ea,L=null;(E.title||E.tooltip||E.tip)&&(L=l(Ce,{label:E.title,tooltip:E.tooltip||E.tip}));var j=P.getPrefixCls("pro-descriptions");return l(qe,{children:l(z,m(m({form:(a=t.editable)===null||a===void 0?void 0:a.form,component:!1,submitter:!1},v),{},{onFinish:void 0,children:l(Q,m(m({className:j},E),{},{extra:E.extra?T(F,{children:[w,E.extra]}):w,title:L,children:$}))}),"form")})};ta.Item=kt;export{ta as P};
