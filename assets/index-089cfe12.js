import{j as a}from"./antdProComponents-d97761a4.js";import{A as i,G as A,l as g,aJ as S,g as o,e as j,h as d,f as E,F as h,I as M,aK as P,V as F}from"./index-7df8d6db.js";import{b6 as R}from"./antd-79b0e736.js";import{u as K}from"./useMutation-6894a2eb.js";import{a as k,u as B}from"./utils-6d3e551f.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const O=({ossConfigId:e})=>{const t=C();return a.jsx(i,{accessKey:"system:oss:edit",children:a.jsx(A,{onClick:()=>t(e)})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const V=({ossConfigIds:e,batch:t,disabled:n})=>{const{message:m,modal:u}=R.useApp(),s=T(),{mutate:b,isLoading:f}=K(S,{onSuccess:()=>{var c;s==null||s.reload(),(c=s==null?void 0:s.clearSelected)==null||c.call(s),m.success("删除成功")}}),v=()=>{u.confirm({title:"删除配置",content:`确定删除编号为 ${e.join(",")} 的配置吗？`,onOk:()=>b({ossConfigIds:e}),okButtonProps:{loading:f}})};return a.jsx(i,{accessKey:"system:oss:remove",children:a.jsx(g,{batch:t,disabled:n,onClick:v})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(e,t){return this.cache.has(e)?this.cache.get(e):(this.cache.set(e,t),t)}};const[N,,w]=o({title:"配置key",dataIndex:"configKey",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[D,,H]=o({title:"访问站点",dataIndex:"endpoint",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[Y,,q]=o({title:"自定义域名",dataIndex:"domain",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[_,,L]=o({title:"accessKey",dataIndex:"accessKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[X,,Q]=o({title:"secretKey",dataIndex:"secretKey",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[W,,z]=o({title:"桶名称",dataIndex:"bucketName",table:{valueType:"text"},form:{valueType:"text",formItemProps:{rules:[{required:!0}]}}}),[G,,J]=o({title:"前缀",dataIndex:"prefix",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),$="NO",p=()=>{const{valueEnumSysYesNo:e}=M();return o({title:"是否HTTPS",dataIndex:"isHttps",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:$}})},y=()=>{const{valueEnumSysAccessPolicy:e,defaultValueSysAccessPolicy:t}=P();return o({title:"桶权限类型",dataIndex:"accessPolicy",valueEnum:e,hideInSearch:!0,table:{valueType:"select"},form:{valueType:"radio",initialValue:t}})},[U,,Z]=o({title:"域",dataIndex:"center",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),[ee,,te]=o({title:"备注",dataIndex:"remark",hideInSearch:!0,table:{valueType:"text"},form:{valueType:"text"}}),oe="NORMAL",I=()=>{const{valueEnumSysNormalDisable:e}=F();return o({title:"状态",dataIndex:"status",valueEnum:e,table:{valueType:"select"},form:{valueType:"radio",initialValue:oe}})},se=()=>{const[e]=I(),[t]=p(),[n]=y();return[N,D,Y,_,X,W,G,e,t,n,U,ee,{title:"操作",valueType:"option",render:(m,u)=>a.jsxs(a.Fragment,{children:[a.jsx(O,{ossConfigId:u.ossConfigId}),a.jsx(V,{ossConfigIds:[u.ossConfigId]})]})}]},ae=()=>{const[,,e]=I(),[,,t]=p(),[,,n]=y();return[w,H,q,L,Q,z,J,{valueType:"group",columns:[e,t,n]},Z,te]},r=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomMainTableActions",j(void 0));r.debugLabel="atomMainTableActions";const T=()=>d(r),ne=()=>E(r);var x=(e=>(e[e.Add=0]="Add",e[e.Edit=1]="Edit",e))(x||{});const le={0:"新增",1:"编辑"},l=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/ossConfig/model/index.tsx/atomAddOrEditModal",k({open:!1,actionType:0}));l.debugLabel="atomAddOrEditModal";const ue=()=>d(l),re=()=>{const e=h(l);return()=>{e({open:!0,actionType:0})}},C=()=>{const e=h(l);return t=>{e({open:!0,actionType:1,ossConfigId:t})}},me=()=>B(l),ye=Object.freeze(Object.defineProperty({__proto__:null,OssConfigActionType:x,OssConfigActionTypeTextMap:le,useActionRefMainTable:ne,useAtomValueAddOrEditModal:ue,useAtomValueMainTableActions:T,useFormColumns:ae,useHideAddOrEditModal:me,useShowAddModal:re,useShowEditModal:C,useTableColumns:se},Symbol.toStringTag,{value:"Module"}));export{V as B,le as O,ue as a,me as b,x as c,ae as d,re as e,ne as f,se as g,ye as i,T as u};
