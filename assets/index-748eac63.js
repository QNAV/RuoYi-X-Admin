import{a7 as i,r as s,a9 as u,ag as n,X as l,ah as g,a0 as o,ai as f,aj as p,Y as A,ak as C}from"./index-50e1fd67.js";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const j=()=>{const{data:t}=i();return s.exports.useCallback((e,a)=>{var c;return u(e,new Set(((c=t==null?void 0:t.userInfo)==null?void 0:c.permissions)??[]),a)},[t])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const m=t=>{const e=s.exports.useRef(),a=n(t);return s.exports.useEffect(()=>{a(e.current)},[]),e};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const w=(t,e=!0)=>{const a=s.exports.useRef(),{pathname:c}=l();s.exports.useEffect(()=>{const h=g.find(r=>o(r,c));if(!!h){if(a.current===void 0&&e){a.current=h;return}if(a.current===void 0&&!e){a.current=h,t();return}!o(a.current,c)||t()}},[c])};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const T=(t={})=>f({path:"/logout",method:"POST",secure:!0,...t});globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const v=()=>{const t=p(),e=A();return async()=>{await T(),C(),t.clear(),e("/login")}};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};export{m as a,j as b,w as c,v as u};
