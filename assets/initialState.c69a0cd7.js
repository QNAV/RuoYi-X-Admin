import{a as e,g as i}from"./keepAlive.a2f6a073.js";import{p as n}from"./index.7e2e4aff.js";import{u as a}from"./useQuery.esm.3039810b.js";async function r(t){return n("/info",{method:"GET",...t||{}})}async function g(t,s){return n("/login",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...s||{}})}async function l(t){return n("/logout",{method:"POST",...t||{}})}async function c(t){return n("/routers",{method:"GET",...t||{}})}async function p(t,s){return n("/smsLogin",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...s||{}})}const u=["global","initialState"],f=()=>{const t=e();return a(u,async()=>{const[s,o]=await Promise.all([r(),c()]);return{userInfo:s,userRoutes:o,accessObject:i(s==null?void 0:s.permissions)}},{staleTime:1/0,cacheTime:1/0,onSuccess:({accessObject:s})=>{t(s)}})};export{l as S,p as a,g as b,u as i,f as u};
