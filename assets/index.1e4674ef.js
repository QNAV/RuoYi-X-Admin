import{r as p,bl as He,Z as U,e as w,j as c,V as a,bm as Pt,ax as Tt,bn as At,bo as Dt,bp as Me,bq as Nt,br as Bt,bs as Se,bt as Mt,bu as _e,bv as Lt,bw as Ze,aw as _t,b0 as ze,bx as jt,Y as Ge,by as rt,W as We,bz as zt,F as Fe,ay as Ft,_ as N,ab as et,aG as me,bA as Kt,aP as Ae,bB as Ot,bC as kt,bD as $t,bE as Ht,bF as Gt,U as Wt,av as Vt,u as Xt,ai as Ne,aj as J,a7 as qt,w as Be,s as ct,v as Ve,g as lt,bG as Yt,bH as Qt,n as Ut,q as Ke,bI as Jt,aL as Zt,ak as ea,al as ta,am as tt,ap as aa,a_ as na,aC as at,a0 as oa,ar as ia,bJ as st,as as De,b1 as dt,b2 as ut,bK as mt,bL as ht,aM as pt,b5 as gt,a$ as Xe,O as ra}from"./index.60379a16.js";import{e as Ie}from"./index.c3c21a27.js";import{B as qe,F as ca,D as la,E as sa,G as da,H as ua,I as ma,J as ha,K as pa,L as ga,M as fa,N as xa,O as va}from"./index.e27ebf1f.js";import{b as ya}from"./index.127d6907.js";import{e as Ca}from"./SysMenuService.7f445dcb.js";import{a as Sa,u as ba}from"./utils.51920078.js";import{u as ft}from"./useQuery.esm.1bb28d99.js";import{u as xt}from"./useMutation.esm.b6a2a5cc.js";import{i as nt}from"./isBrowser.11d008c4.js";var vt=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},wa=function(e){var i=e.prefixCls,n=e.className,r=e.avatar,l=e.title,o=e.description,u=vt(e,["prefixCls","className","avatar","title","description"]),s=p.exports.useContext(He),y=s.getPrefixCls,m=y("list",i),f=U("".concat(m,"-item-meta"),n),S=w("div",{className:"".concat(m,"-item-meta-content"),children:[l&&c("h4",{className:"".concat(m,"-item-meta-title"),children:l}),o&&c("div",{className:"".concat(m,"-item-meta-description"),children:o})]});return w("div",{...u,className:f,children:[r&&c("div",{className:"".concat(m,"-item-meta-avatar"),children:r}),(l||o)&&S]})},Ia=function(e,i){var n=e.prefixCls,r=e.children,l=e.actions,o=e.extra,u=e.className,s=e.colStyle,y=vt(e,["prefixCls","children","actions","extra","className","colStyle"]),m=p.exports.useContext(Ye),f=m.grid,S=m.itemLayout,x=p.exports.useContext(He),d=x.getPrefixCls,L=function(){var h;return p.exports.Children.forEach(r,function(g){typeof g=="string"&&(h=!0)}),h&&p.exports.Children.count(r)>1},E=function(){return S==="vertical"?!!o:!L()},b=d("list",n),v=l&&l.length>0&&c("ul",{className:"".concat(b,"-item-action"),children:l.map(function(I,h){return w("li",{children:[I,h!==l.length-1&&c("em",{className:"".concat(b,"-item-action-split")})]},"".concat(b,"-item-action-").concat(h))})},"actions"),P=f?"div":"li",F=c(P,{...y,...f?{}:{ref:i},className:U("".concat(b,"-item"),a({},"".concat(b,"-item-no-flex"),!E()),u),children:S==="vertical"&&o?[w("div",{className:"".concat(b,"-item-main"),children:[r,v]},"content"),c("div",{className:"".concat(b,"-item-extra"),children:o},"extra")]:[r,v,Pt(o,{key:"extra"})]});return f?c(Tt,{ref:i,flex:1,style:s,children:F}):F},yt=p.exports.forwardRef(Ia);yt.Meta=wa;const Ra=yt;var Ea=function(e){var i,n,r=e.listBorderedCls,l=e.componentCls,o=e.paddingLG,u=e.margin,s=e.padding,y=e.listItemPaddingSM,m=e.marginLG,f=e.radiusLG;return n={},a(n,"".concat(r),(i={border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorBorder),borderRadius:f},a(i,"".concat(l,"-header,").concat(l,"-footer,").concat(l,"-item"),{paddingInline:o}),a(i,"".concat(l,"-pagination"),{margin:"".concat(u,"px ").concat(m,"px")}),i)),a(n,"".concat(r).concat(l,"-sm"),a({},"".concat(l,"-item,").concat(l,"-header,").concat(l,"-footer"),{padding:y})),a(n,"".concat(r).concat(l,"-lg"),a({},"".concat(l,"-item,").concat(l,"-header,").concat(l,"-footer"),{padding:"".concat(s,"px ").concat(o,"px")})),n},Pa=function(e){var i,n,r,l,o=e.componentCls,u=e.screenSM,s=e.screenMD,y=e.marginLG,m=e.marginSM,f=e.margin;return l={},a(l,"@media screen and (max-width:".concat(s,")"),(i={},a(i,"".concat(o),a({},"".concat(o,"-item"),a({},"".concat(o,"-item-action"),{marginInlineStart:y}))),a(i,"".concat(o,"-vertical"),a({},"".concat(o,"-item"),a({},"".concat(o,"-item-extra"),{marginInlineStart:y}))),i)),a(l,"@media screen and (max-width: ".concat(u,")"),(r={},a(r,"".concat(o),a({},"".concat(o,"-item"),a({flexWrap:"wrap"},"".concat(o,"-action"),{marginInlineStart:m}))),a(r,"".concat(o,"-vertical"),a({},"".concat(o,"-item"),(n={flexWrap:"wrap-reverse"},a(n,"".concat(o,"-item-main"),{minWidth:e.contentWidth}),a(n,"".concat(o,"-item-extra"),{margin:"auto auto ".concat(f,"px")}),n))),r)),l},Ta=function(e){var i,n,r,l,o,u,s=e.componentCls,y=e.antCls,m=e.controlHeight,f=e.minHeight,S=e.paddingSM,x=e.marginLG,d=e.padding,L=e.listItemPadding,E=e.colorPrimary,b=e.listItemPaddingSM,v=e.listItemPaddingLG,P=e.paddingXS,F=e.margin,I=e.colorText,h=e.colorTextDescription,g=e.motionDurationSlow,re=e.lineWidth;return u={},a(u,"".concat(s),Me(Me({},Nt(e)),(l={position:"relative","*":{outline:"none"}},a(l,"".concat(s,"-header, ").concat(s,"-footer"),{background:"transparent",paddingBlock:S}),a(l,"".concat(s,"-pagination"),a({marginBlockStart:x,textAlign:"end"},"".concat(y,"-pagination-options"),{textAlign:"start"})),a(l,"".concat(s,"-spin"),{minHeight:f,textAlign:"center"}),a(l,"".concat(s,"-items"),{margin:0,padding:0,listStyle:"none"}),a(l,"".concat(s,"-item"),(r={display:"flex",alignItems:"center",justifyContent:"space-between",padding:L,color:I},a(r,"".concat(s,"-item-meta"),(i={display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%"},a(i,"".concat(s,"-item-meta-avatar"),{marginInlineEnd:d}),a(i,"".concat(s,"-item-meta-content"),{flex:"1 0",width:0,color:I}),a(i,"".concat(s,"-item-meta-title"),{marginBottom:e.marginXXS,color:I,fontSize:e.fontSize,lineHeight:e.lineHeight,"> a":a({color:I,transition:"all ".concat(g)},"&:hover",{color:E})}),a(i,"".concat(s,"-item-meta-description"),{color:h,fontSize:e.fontSize,lineHeight:e.lineHeight}),i)),a(r,"".concat(s,"-item-action"),(n={flex:"0 0 auto",marginInlineStart:e.marginXXL,padding:0,fontSize:0,listStyle:"none"},a(n,"& > li",a({position:"relative",display:"inline-block",padding:"0 ".concat(P,"px"),color:h,fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"center"},"&:first-child",{paddingInlineStart:0})),a(n,"".concat(s,"-item-action-split"),{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:re,height:Math.ceil(e.fontSize*e.lineHeight)-e.marginXXS*2,transform:"translateY(-50%)",backgroundColor:e.colorSplit}),n)),r)),a(l,"".concat(s,"-empty"),{padding:"".concat(d,"px 0"),color:h,fontSize:e.fontSizeSM,textAlign:"center"}),a(l,"".concat(s,"-empty-text"),{padding:d,color:e.colorTextDisabled,fontSize:e.fontSize,textAlign:"center"}),a(l,"".concat(s,"-item-no-flex"),{display:"block"}),l))),a(u,"".concat(s,"-grid ").concat(y,"-col > ").concat(s,"-item"),{display:"block",maxWidth:"100%",marginBlockEnd:F,paddingBlock:0,borderBlockEnd:"none"}),a(u,"".concat(s,"-vertical ").concat(s,"-item"),(o={alignItems:"initial"},a(o,"".concat(s,"-item-main"),{display:"block",flex:1}),a(o,"".concat(s,"-item-extra"),{marginInlineStart:x}),a(o,"".concat(s,"-item-meta"),a({marginBlockEnd:d},"".concat(s,"-item-meta-title"),{marginBlockEnd:S,color:I,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG})),a(o,"".concat(s,"-item-action"),{marginBlockStart:d,marginInlineStart:"auto","> li":a({padding:"0 ".concat(d,"px")},"&:first-child",{paddingInlineStart:0})}),o)),a(u,"".concat(s,"-split ").concat(s,"-item"),a({borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.controlLineType," ").concat(e.colorSplit)},"&:last-child",{borderBlockEnd:"none"})),a(u,"".concat(s,"-split ").concat(s,"-header"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),a(u,"".concat(s,"-split").concat(s,"-empty ").concat(s,"-footer"),{borderTop:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),a(u,"".concat(s,"-loading ").concat(s,"-spin-nested-loading"),{minHeight:m}),a(u,"".concat(s,"-split").concat(s,"-something-after-last-item ").concat(y,"-spin-container > ").concat(s,"-items > ").concat(s,"-item:last-child"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),a(u,"".concat(s,"-lg ").concat(s,"-item"),{padding:v}),a(u,"".concat(s,"-sm ").concat(s,"-item"),{padding:b}),a(u,"".concat(s,":not(").concat(s,"-vertical)"),a({},"".concat(s,"-item-no-flex"),a({},"".concat(s,"-item-action"),{float:"right"}))),u};const Aa=At("List",function(t){var e=Dt(t,{listBorderedCls:"".concat(t.componentCls,"-bordered"),minHeight:t.controlHeightLG,listItemPadding:"".concat(t.paddingSM,"px 0"),listItemPaddingSM:"".concat(t.paddingXS,"px ").concat(t.padding,"px"),listItemPaddingLG:"".concat(t.padding,"px ").concat(t.paddingLG,"px")});return[Ta(e),Ea(e),Pa(e)]},{contentWidth:220});var Da=globalThis&&globalThis.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i},Ye=p.exports.createContext({});Ye.Consumer;function je(t){var e,i=t.pagination,n=i===void 0?!1:i,r=t.prefixCls,l=t.bordered,o=l===void 0?!1:l,u=t.split,s=u===void 0?!0:u,y=t.className,m=t.children,f=t.itemLayout,S=t.loadMore,x=t.grid,d=t.dataSource,L=d===void 0?[]:d,E=t.size,b=t.header,v=t.footer,P=t.loading,F=P===void 0?!1:P,I=t.rowKey,h=t.renderItem,g=t.locale,re=Da(t,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),ne=n&&Bt(n)==="object"?n:{},he=p.exports.useState(ne.defaultCurrent||1),pe=Se(he,2),oe=pe[0],$=pe[1],ge=p.exports.useState(ne.defaultPageSize||10),ce=Se(ge,2),fe=ce[0],Z=ce[1],ee=p.exports.useContext(He),q=ee.getPrefixCls,M=ee.renderEmpty,H=ee.direction,K={current:1,total:0},D={},O=function(B){return function(V,X){$(V),Z(X),n&&n[B]&&n[B](V,X)}},k=O("onChange"),le=O("onShowSizeChange"),G=function(B,V){if(!h)return null;var X;return typeof I=="function"?X=I(B):I?X=B[I]:X=B.key,X||(X="list-item-".concat(V)),D[V]=X,h(B,V)},se=function(){return!!(S||n||v)},xe=function(B,V){return c("div",{className:"".concat(B,"-empty-text"),children:g&&g.emptyText||V("List")})},_=q("list",r),Re=Aa(_),Y=Se(Re,2),Ee=Y[0],be=Y[1],j=F;typeof j=="boolean"&&(j={spinning:j});var C=j&&j.spinning,T="";switch(E){case"large":T="lg";break;case"small":T="sm";break}var R=U(_,(e={},a(e,"".concat(_,"-vertical"),f==="vertical"),a(e,"".concat(_,"-").concat(T),T),a(e,"".concat(_,"-split"),s),a(e,"".concat(_,"-bordered"),o),a(e,"".concat(_,"-loading"),C),a(e,"".concat(_,"-grid"),!!x),a(e,"".concat(_,"-something-after-last-item"),se()),a(e,"".concat(_,"-rtl"),H==="rtl"),e),y,be),z=Me(Me(Me({},K),{total:L.length,current:oe,pageSize:fe}),n||{}),de=Math.ceil(z.total/z.pageSize);z.current>de&&(z.current=de);var ue=n?c("div",{className:"".concat(_,"-pagination"),children:c(Mt,{...z,onChange:k,onShowSizeChange:le})}):null,te=_e(L);n&&L.length>(z.current-1)*z.pageSize&&(te=_e(L).splice((z.current-1)*z.pageSize,z.pageSize));var Pe=Object.keys(x||{}).some(function(A){return["xs","sm","md","lg","xl","xxl"].includes(A)}),ve=Lt(Pe),ae=p.exports.useMemo(function(){for(var A=0;A<Ze.length;A+=1){var B=Ze[A];if(ve[B])return B}},[ve]),Te=p.exports.useMemo(function(){if(!!x){var A=ae&&x[ae]?x[ae]:x.column;if(A)return{width:"".concat(100/A,"%"),maxWidth:"".concat(100/A,"%")}}},[x==null?void 0:x.column,ae]),ye=C&&c("div",{style:{minHeight:53}});if(te.length>0){var W=te.map(function(A,B){return G(A,B)}),Ce=p.exports.Children.map(W,function(A,B){return c("div",{style:Te,children:A},D[B])});ye=x?c(_t,{gutter:x.gutter,children:Ce}):c("ul",{className:"".concat(_,"-items"),children:W})}else!m&&!C&&(ye=xe(_,M||jt));var ie=z.position||"bottom",Q=p.exports.useMemo(function(){return{grid:x,itemLayout:f}},[JSON.stringify(x),f]);return Ee(c(Ye.Provider,{value:Q,children:w("div",{className:R,...re,children:[(ie==="top"||ie==="both")&&ue,b&&c("div",{className:"".concat(_,"-header"),children:b}),w(ze,{...j,children:[ye,m]}),v&&c("div",{className:"".concat(_,"-footer"),children:v}),S||(ie==="bottom"||ie==="both")&&ue]})}))}je.Item=Ra;var Na=["title","subTitle","content","itemTitleRender","prefixCls","actions","item","recordKey","avatar","cardProps","description","isEditable","checkbox","index","selected","loading","expand","onExpand","expandable","rowSupportExpand","showActions","showExtra","type","style","className","record","onRow","onItem","itemHeaderRender","cardActionProps","extra"];function Ba(t){var e,i=t.prefixCls,n=t.expandIcon,r=n===void 0?c(Kt,{}):n,l=t.onExpand,o=t.expanded,u=t.record,s=r,y="".concat(i,"-row-expand-icon"),m=function(S){l(!o),S.stopPropagation()};return typeof r=="function"&&(s=r({expanded:o,onExpand:l,record:u})),c("span",{className:U(y,(e={},a(e,"".concat(i,"-row-expanded"),o),a(e,"".concat(i,"-row-collapsed"),!o),e)),onClick:m,children:s})}function Ma(t){var e,i,n,r,l,o=t.prefixCls,u=p.exports.useContext(Ge.ConfigContext),s=u.getPrefixCls,y=rt(),m=y.hashId,f=s("pro-list",o),S="".concat(f,"-row"),x=t.title,d=t.subTitle,L=t.content,E=t.itemTitleRender;t.prefixCls;var b=t.actions;t.item,t.recordKey;var v=t.avatar,P=t.cardProps,F=t.description,I=t.isEditable,h=t.checkbox,g=t.index,re=t.selected,ne=t.loading,he=t.expand,pe=t.onExpand,oe=t.expandable,$=t.rowSupportExpand,ge=t.showActions,ce=t.showExtra,fe=t.type,Z=t.style,ee=t.className,q=ee===void 0?S:ee,M=t.record,H=t.onRow,K=t.onItem,D=t.itemHeaderRender,O=t.cardActionProps,k=t.extra,le=We(t,Na),G=oe||{},se=G.expandedRowRender,xe=G.expandIcon,_=G.expandRowByClick,Re=G.indentSize,Y=Re===void 0?8:Re,Ee=G.expandedRowClassName,be=zt(!!he,{value:he,onChange:pe}),j=Se(be,2),C=j[0],T=j[1],R=U((e={},a(e,"".concat(S,"-selected"),!P&&re),a(e,"".concat(S,"-show-action-hover"),ge==="hover"),a(e,"".concat(S,"-type-").concat(fe),!!fe),a(e,"".concat(S,"-editable"),I),a(e,"".concat(S,"-show-extra-hover"),ce==="hover"),e),m,S),z=U(m,a({},"".concat(q,"-extra"),ce==="hover")),de=C||Object.values(oe||{}).length===0,ue=se&&se(M,g,Y,C),te=p.exports.useMemo(function(){if(!(!b||O==="actions"))return[c("div",{onClick:function(Q){return Q.stopPropagation()},children:b},"action")]},[b,O]),Pe=p.exports.useMemo(function(){if(!(!b||!O||O==="extra"))return[c("div",{onClick:function(Q){return Q.stopPropagation()},children:b},"action")]},[b,O]),ve=x||d?w("div",{className:"".concat(R,"-header-title ").concat(m),children:[x&&c("div",{className:"".concat(R,"-title ").concat(m),children:x}),d&&c("div",{className:"".concat(R,"-subTitle ").concat(m),children:d})]}):null,ae=(i=E&&(E==null?void 0:E(M,g,ve)))!==null&&i!==void 0?i:ve,Te=ae||v||d||F?c(je.Item.Meta,{avatar:v,title:ae,description:F&&de&&c("div",{className:"".concat(R,"-description ").concat(m),children:F})}):null,ye=U(m,(n={},a(n,"".concat(R,"-item-has-checkbox"),h),a(n,"".concat(R,"-item-has-avatar"),v),a(n,R,R),n)),W=p.exports.useMemo(function(){return v||x?w(Fe,{children:[v&&c(Ft,{size:22,src:v,className:"".concat(s("list-item-meta-avatar")," ").concat(m)}),c("span",{className:"".concat(s("list-item-meta-title")," ").concat(m),children:x})]}):null},[v,s,m,x]),Ce=P?c(me,N(N(N({bordered:!0,loading:ne,hoverable:!0},P),{},{title:W,subTitle:d,extra:te,actions:Pe,bodyStyle:N({padding:24},P.bodyStyle)},K==null?void 0:K(M,g)),{},{children:c(et,{avatar:!0,title:!1,loading:ne,active:!0,children:w("div",{className:"".concat(R,"-header ").concat(m),children:[E&&(E==null?void 0:E(M,g,ve)),L]})})})):c(je.Item,N(N(N(N({className:U(ye,a({},q,q!==S))},le),{},{actions:te,extra:!!k&&c("div",{className:z,children:k})},H==null?void 0:H(M,g)),K==null?void 0:K(M,g)),{},{onClick:function(Q){var A,B,V,X;H==null||(A=H(M,g))===null||A===void 0||(B=A.onClick)===null||B===void 0||B.call(A,Q),K==null||(V=K(M,g))===null||V===void 0||(X=V.onClick)===null||X===void 0||X.call(V,Q),_&&T(!C)},children:w(et,{avatar:!0,title:!1,loading:ne,active:!0,children:[w("div",{className:"".concat(R,"-header ").concat(m),children:[w("div",{className:"".concat(R,"-header-option ").concat(m),children:[!!h&&c("div",{className:"".concat(R,"-checkbox ").concat(m),children:h}),Object.values(oe||{}).length>0&&$&&Ba({prefixCls:f,expandIcon:xe,onExpand:T,expanded:C,record:M})]}),(r=D&&(D==null?void 0:D(M,g,Te)))!==null&&r!==void 0?r:Te]}),de&&(L||ue)&&w("div",{className:"".concat(R,"-content ").concat(m),children:[L,se&&$&&c("div",{className:Ee&&Ee(M,g,Y),children:ue})]})]})}));return P?c("div",{className:U(m,(l={},a(l,"".concat(R,"-card"),P),a(l,q,q!==S),l)),style:Z,children:Ce}):Ce}var La=["dataSource","columns","rowKey","showActions","showExtra","prefixCls","actionRef","itemTitleRender","renderItem","itemCardProps","itemHeaderRender","expandable","rowSelection","pagination","onRow","onItem","rowClassName"];function _a(t){var e=t.dataSource,i=t.columns,n=t.rowKey,r=t.showActions,l=t.showExtra,o=t.prefixCls,u=t.actionRef,s=t.itemTitleRender,y=t.renderItem,m=t.itemCardProps,f=t.itemHeaderRender,S=t.expandable,x=t.rowSelection,d=t.pagination,L=t.onRow,E=t.onItem,b=t.rowClassName,v=We(t,La),P=rt(),F=P.hashId,I=p.exports.useContext(Ge.ConfigContext),h=I.getPrefixCls,g=Ae.useMemo(function(){return typeof n=="function"?n:function(j,C){return j[n]||C}},[n]),re=Ot(e,"children",g),ne=Se(re,1),he=ne[0],pe=kt(e.length,N({responsive:!0},d),function(){}),oe=Se(pe,1),$=oe[0],ge=Ae.useMemo(function(){if(d===!1||!$.pageSize||e.length<$.total)return e;var j=$.current,C=j===void 0?1:j,T=$.pageSize,R=T===void 0?10:T,z=e.slice((C-1)*R,C*R);return z},[e,$,d]),ce=h("pro-list",o),fe=$t(x,{getRowKey:g,getRecordByKey:he,prefixCls:ce,data:e,pageData:ge,expandType:"row",childrenColumnName:"children",locale:{}}),Z=Se(fe,2),ee=Z[0],q=Z[1],M=S||{},H=M.expandedRowKeys,K=M.defaultExpandedRowKeys,D=M.defaultExpandAllRows,O=D===void 0?!0:D,k=M.onExpand,le=M.onExpandedRowsChange,G=M.rowExpandable,se=Ae.useState(function(){return K||(O!==!1?e.map(g):[])}),xe=Se(se,2),_=xe[0],Re=xe[1],Y=Ae.useMemo(function(){return new Set(H||_||[])},[H,_]),Ee=Ae.useCallback(function(j){var C=g(j,e.indexOf(j)),T,R=Y.has(C);R?(Y.delete(C),T=_e(Y)):T=[].concat(_e(Y),[C]),Re(T),k&&k(!R,j),le&&le(T)},[g,Y,e,k,le]),be=ee([])[0];return c(je,N(N({},v),{},{className:U(h("pro-list-container",o),F,v.className),dataSource:ge,pagination:d&&$,renderItem:function(C,T){var R,z,de,ue={className:typeof b=="function"?b(C,T):b};i==null||i.forEach(function(W){var Ce=W.listKey,ie=W.cardActionProps;if(!!Ht.has(Ce)){var Q=W.dataIndex||Ce||W.key,A=Array.isArray(Q)?Gt(C,Q):C[Q];ie==="actions"&&Ce==="actions"&&(ue.cardActionProps=ie);var B=W.render?W.render(A,C,T):A;B!=="-"&&(ue[W.listKey]=B)}});var te;be&&be.render&&(te=be.render(C,C,T)||void 0);var Pe=((R=u.current)===null||R===void 0?void 0:R.isEditable(N(N({},C),{},{index:T})))||{},ve=Pe.isEditable,ae=Pe.recordKey,Te=q.has(ae||T),ye=c(Ma,N(N({cardProps:v.grid?N(N(N({},m),v.grid),{},{checked:Te,onChecked:Ae.isValidElement(te)?(z=te)===null||z===void 0||(de=z.props)===null||de===void 0?void 0:de.onChange:void 0}):void 0},ue),{},{recordKey:ae,isEditable:ve||!1,expandable:S,expand:Y.has(g(C,T)),onExpand:function(){Ee(C)},index:T,record:C,item:C,showActions:r,showExtra:l,itemTitleRender:s,itemHeaderRender:f,rowSupportExpand:!G||G&&G(C),selected:q.has(g(C,T)),checkbox:te,onRow:L,onItem:E}),ae);return y?y(C,T,ye):ye}}))}var ja=function(e){var i,n,r,l,o,u;return a({},e.componentCls,(u={backgroundColor:"transparent"},a(u,"".concat(e.proComponentsCls,"-table-alert"),{marginBlockEnd:"16px"}),a(u,"&-row",(o={borderBlockEnd:"1px solid ".concat(e.colorSplit)},a(o,"".concat(e.antCls,"-list-item-meta-title"),{borderBlockEnd:"none",margin:0}),a(o,"&:last-child",a({borderBlockEnd:"none"},"".concat(e.antCls,"-list-item"),{borderBlockEnd:"none"})),a(o,"&:hover",(i={backgroundColor:"rgba(0, 0, 0, 0.02)",transition:"background-color 0.3s"},a(i,"".concat(e.antCls,"-list-item-action"),{display:"block"}),a(i,"".concat(e.antCls,"-list-item-extra"),{display:"flex"}),a(i,"".concat(e.componentCls,"-row-extra"),{display:"block"}),a(i,"".concat(e.componentCls,"-row-subheader-actions"),{display:"block"}),i)),a(o,"&-card",a({marginBlock:8,marginInline:0,paddingBlock:0,paddingInline:8,"&:hover":{backgroundColor:"transparent"}},"".concat(e.antCls,"-list-item-meta-title"),{flexShrink:9,marginBlock:0,marginInline:0,lineHeight:"22px"})),a(o,"&".concat(e.componentCls,"-row-editable"),a({},"".concat(e.componentCls,"-list-item"),{"&-meta":{"&-avatar,&-description,&-title":{paddingBlock:6,paddingInline:0}},"&-action":{display:"block"}})),a(o,"&".concat(e.componentCls,"-row-selected"),{backgroundColor:e.colorPrimaryBgHover,"&:hover":{backgroundColor:e.colorPrimaryBgHover}}),a(o,"&".concat(e.componentCls,"-row-type-new"),{animation:"techUiListActive 3s"}),a(o,"&".concat(e.componentCls,"-row-type-inline"),a({},"".concat(e.componentCls,"-row-title"),{fontWeight:"normal"})),a(o,"&".concat(e.componentCls,"-row-type-top"),{backgroundImage:"url('https://gw.alipayobjects.com/zos/antfincdn/DehQfMbOJb/icon.svg')",backgroundRepeat:"no-repeat",backgroundPosition:"left top",backgroundSize:"12px 12px"}),a(o,"&-show-action-hover",(n={},a(n,"".concat(e.antCls,`-list-item-action,
            `).concat(e.proComponentsCls,`-card-extra,
            `).concat(e.proComponentsCls,"-card-actions"),{display:"none"}),a(n,"&:hover",a({},"".concat(e.proComponentsCls,"-card-extra,").concat(e.proComponentsCls,"-card-actions"),{display:"flex"})),n)),a(o,"&-show-extra-hover",a({},"".concat(e.antCls,"-list-item-extra"),{display:"none"})),a(o,"&-extra",{display:"none"}),a(o,"&-subheader",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"44px",paddingInline:24,paddingBlock:0,color:e.colorTextSecondary,lineHeight:"44px",background:"rgba(0, 0, 0, 0.02)","&-actions":{display:"none"},"&-actions *":{marginInlineEnd:8,"&:last-child":{marginInlineEnd:0}}}),a(o,"&-expand-icon",{marginInlineEnd:8,color:e.colorTextSecondary,"> .anticon > svg":{transition:"0.3s"}}),a(o,"&-expanded",{" > .anticon > svg":{transform:"rotate(90deg)"}}),a(o,"&-title",{marginInlineEnd:"16px",wordBreak:"break-all",cursor:"pointer","&:hover":{color:e.colorPrimary}}),a(o,"&-content",{position:"relative",display:"flex",flex:"1",flexDirection:"column",marginBlock:0,marginInline:32}),a(o,"&-subTitle",{color:"rgba(0, 0, 0, 0.45)"}),a(o,"&-description",{marginBlockStart:"4px",wordBreak:"break-all"}),a(o,"&-avatar",{display:"flex"}),a(o,"&-header",{display:"flex",flex:"1",justifyContent:"flex-start"}),a(o,"&-header-title",{display:"flex",alignItems:"center",justifyContent:"flex-start"}),a(o,"&-header-option",{display:"flex"}),a(o,"&-checkbox",{width:"16px",marginInlineEnd:"12px"}),a(o,"&-no-split",(r={},a(r,"".concat(e.componentCls,"-row"),{borderBlockEnd:"none"}),a(r,"".concat(e.antCls,"-list ").concat(e.antCls,"-list-item"),{borderBlockEnd:"none"}),r)),a(o,"&-bordered",a({},"".concat(e.componentCls,"-toolbar"),{borderBlockEnd:"1px solid ".concat(e.colorSplit)})),a(o,"".concat(e.antCls,"-list-vertical"),(l={},a(l,"".concat(e.componentCls,"-row"),{borderBlockEnd:"12px 18px 12px 24px"}),a(l,"&-header-title",{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}),a(l,"&-content",{marginBlock:0,marginInline:0}),a(l,"&-subTitle",{marginBlockStart:8}),a(l,"".concat(e.antCls,"-list-item-extra"),a({display:"flex",alignItems:"center",marginInlineStart:"32px"},"".concat(e.componentCls,"-row-description"),{marginBlockStart:16})),a(l,"".concat(e.antCls,"-list-bordered ").concat(e.antCls,"-list-item"),{paddingInline:0}),a(l,"".concat(e.componentCls,"-row-show-extra-hover"),a({},"".concat(e.antCls,"-list-item-extra "),{display:"none"})),l)),a(o,"".concat(e.antCls,"-list-pagination"),{marginBlockEnd:e.marginLG}),a(o,"".concat(e.antCls,"-list-list"),{"&-item":{cursor:"pointer",paddingBlock:12,paddingInline:12}}),a(o,"".concat(e.antCls,"-list-vertical .").concat(e.proComponentsCls,"-list-row ").concat(e.antCls,"-list"),a({"&-header":{paddingBlock:0,paddingInline:0,borderBlockEnd:"none"}},"".concat(e.antCls,"-list-item"),{width:"100%",paddingBlock:12,paddingInlineStart:24,paddingInlineEnd:18,"&-meta-avatar":{display:"flex",alignItems:"center",marginInlineEnd:8},"&-action-split":{display:"none"},"&-meta-title":{marginBlock:0,marginInline:0}})),a(o,"@keyframes techUiListActive",{"0%":{backgroundColor:"unset"},"30%":{background:"#fefbe6"},"100%":{backgroundColor:"unset"}}),o)),u))};function za(t){return Wt("ProList",function(e){var i=N(N({},e),{},{componentCls:".".concat(t)});return[ja(i)]})}var Fa=["metas","split","footer","rowKey","tooltip","className","options","search","expandable","showActions","showExtra","rowSelection","pagination","itemLayout","renderItem","grid","itemCardProps","onRow","onItem","rowClassName","locale","itemHeaderRender","itemTitleRender"];function Ka(t){var e=t.metas,i=t.split,n=t.footer,r=t.rowKey,l=t.tooltip,o=t.className,u=t.options,s=u===void 0?!1:u,y=t.search,m=y===void 0?!1:y,f=t.expandable,S=t.showActions,x=t.showExtra,d=t.rowSelection,L=d===void 0?!1:d,E=t.pagination,b=E===void 0?!1:E,v=t.itemLayout,P=t.renderItem,F=t.grid,I=t.itemCardProps,h=t.onRow,g=t.onItem,re=t.rowClassName,ne=t.locale,he=t.itemHeaderRender,pe=t.itemTitleRender,oe=We(t,Fa),$=p.exports.useRef();p.exports.useImperativeHandle(oe.actionRef,function(){return $.current});var ge=p.exports.useContext(Ge.ConfigContext),ce=ge.getPrefixCls,fe=p.exports.useMemo(function(){var K=[];return Object.keys(e||{}).forEach(function(D){var O=e[D]||{},k=O.valueType;k||(D==="avatar"&&(k="avatar"),D==="actions"&&(k="option"),D==="description"&&(k="textarea")),K.push(N(N({listKey:D,dataIndex:(O==null?void 0:O.dataIndex)||D},O),{},{valueType:k}))}),K},[e]),Z=ce("pro-list",t.prefixCls),ee=za(Z),q=ee.wrapSSR,M=ee.hashId,H=U(Z,M,a({},"".concat(Z,"-no-split"),!i));return q(c(Vt,N(N({tooltip:l},oe),{},{actionRef:$,pagination:b,type:"list",rowSelection:L,search:m,options:s,className:U(Z,o,H),columns:fe,rowKey:r,tableViewRender:function(D){var O=D.columns,k=D.size,le=D.pagination,G=D.rowSelection,se=D.dataSource,xe=D.loading;return c(_a,{grid:F,itemCardProps:I,itemTitleRender:pe,prefixCls:t.prefixCls,columns:O,renderItem:P,actionRef:$,dataSource:se||[],size:k,footer:n,split:i,rowKey:r,expandable:f,rowSelection:L===!1?void 0:G,showActions:S,showExtra:x,pagination:le,itemLayout:v,loading:xe,itemHeaderRender:he,onRow:h,onItem:g,rowClassName:re,locale:ne})}})))}var Ct=globalThis&&globalThis.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Oa=globalThis&&globalThis.__read||function(t,e){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var n=i.call(t),r,l=[],o;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)l.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return l},Le=new Set,we,ot={xs:0,sm:576,md:768,lg:992,xl:1200};function it(){var t,e,i=we;if(St(),i!==we)try{for(var n=Ct(Le),r=n.next();!r.done;r=n.next()){var l=r.value;l()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}var $e=!1;function St(){var t,e,i=window.innerWidth,n={},r=!1;try{for(var l=Ct(Object.keys(ot)),o=l.next();!o.done;o=l.next()){var u=o.value;n[u]=i>=ot[u],n[u]!==we[u]&&(r=!0)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}r&&(we=n)}function ka(){nt&&!$e&&(we={},St(),window.addEventListener("resize",it),$e=!0);var t=Oa(p.exports.useState(we),2),e=t[0],i=t[1];return p.exports.useEffect(function(){if(!!nt){var n=function(){i(we)};return Le.add(n),function(){Le.delete(n),Le.size===0&&(window.removeEventListener("resize",it),$e=!1)}}},[]),e}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const $a=()=>{const{canEditSysRole:t}=Ie(),e=Xt();return c(Ne,{accessible:t,children:c(J,{type:"primary",ghost:!0,onClick:()=>e("/"),icon:c(qt,{}),children:"\u5206\u914D\u7528\u6237"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};async function Ha(t,e){return Be("/system/role/add",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Ga(t,e){return Be("/system/role/edit",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Wa(t,e){return Be("/system/role/export",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function Va(t,e){return Be("/system/role/info",{method:"GET",params:{...t},...e||{}})}async function Xa(t,e){return Be("/system/role/list",{method:"POST",headers:{"Content-Type":"application/json"},data:t,...e||{}})}async function qa(t,e){return Be("/system/role/remove",{method:"POST",params:{...t},...e||{}})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const Qe=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleListActions",ct(void 0));Qe.debugLabel="atomRoleListActions";const bt=()=>Ve(Qe),Ya=()=>ya(Qe),Oe=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomRoleDetails",Sa({open:!1,roleId:0,roleName:""}));Oe.debugLabel="atomRoleDetails";const Qa=()=>ba(Oe),Ua=()=>{const t=lt(Oe);return(e,i)=>{t({open:!0,roleId:e,roleName:i})}},ke=()=>Ve(Oe),Ue=globalThis.jotaiAtomCache.get("/home/runner/work/RuoYi-X-Admin/RuoYi-X-Admin/src/pages/system/role/model/index.ts/atomSearchParams",ct({}));Ue.debugLabel="atomSearchParams";const Ja=()=>Ve(Ue),Za=()=>lt(Ue),wt="sysRole",It=[wt,"details"],en=t=>{const{roleId:e}=ke(),i=ft(It,()=>Va({roleId:e}),{onSuccess:t,enabled:!1});return p.exports.useEffect(()=>{e>0&&i.refetch()},[e]),i},Rt=[wt,"tree"],Et=t=>{const{roleId:e}=ke(),i=ft(Rt,async()=>{const{menus:n,checkedKeys:r}=await Ca({roleId:e});return{treeData:n,selectedMenuIds:r,selectedTreeData:Yt(n,r),allMenuIds:Qt(n)}},{onSuccess:n=>{t(n.selectedTreeData)},enabled:!1});return p.exports.useEffect(()=>{e>0&&i.refetch()},[e]),i},Je=t=>{const e=Ut();return xt(async i=>{const n=e.getQueryData(It),r=e.getQueryData(Rt);await Ga({roleId:n.roleId,roleKey:n.roleKey,roleName:n.roleName,roleSort:n.roleSort,status:n.status,menuIds:r.selectedMenuIds,menuCheckStrictly:!1,deptCheckStrictly:!1,...i})},{onSuccess:()=>{t(),Ke.success("\u4FDD\u5B58\u6210\u529F")}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const tn=()=>{const{canAddSysRole:t}=Ie(),e=p.exports.useRef(),i=bt(),[,n]=qe();return c(Ne,{accessible:t,children:c(Jt,{title:"\u65B0\u5EFA\u89D2\u8272",trigger:c(J,{type:"primary",icon:c(Zt,{}),children:"\u65B0\u5EFA"}),formRef:e,onFinish:async r=>{var l;return await Ha({...r,menuIds:[],menuCheckStrictly:!1,deptCheckStrictly:!1}),i==null||i.reload(),Ke.success("\u65B0\u5EFA\u6210\u529F"),(l=e.current)==null||l.resetFields(),!0},width:500,layoutType:"ModalForm",columns:[ca,la,sa,n,da]})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const an=()=>{const{canRemoveSysRole:t}=Ie(),e=bt(),i=Qa(),{roleId:n,roleName:r}=ke();return c(Ne,{accessible:t,children:c(J,{danger:!0,ghost:!0,icon:c(ea,{}),onClick:()=>ta.confirm({title:"\u5220\u9664\u89D2\u8272",content:w(Fe,{children:["\u786E\u5B9A",c(tt.Text,{code:!0,children:"\u5220\u9664"}),"\u89D2\u8272",c(tt.Text,{code:!0,children:r}),"\u5417\uFF1F"]}),onOk:async()=>{var o;await qa({roleIds:n}),e==null||e.reload(),(o=e==null?void 0:e.clearSelected)==null||o.call(e),i(),Ke.success("\u5220\u9664\u6210\u529F")}}),children:"\u5220\u9664"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const nn=()=>{const{canExportSysRole:t}=Ie(),e=Ja(),{isLoading:i,mutate:n}=xt(()=>Wa(e),{onSuccess:()=>{Ke.success("\u5BFC\u51FA\u6210\u529F")}});return c(Ne,{accessible:t,children:c(J,{ghost:!0,type:"primary",icon:c(aa,{}),loading:i,onClick:()=>n(),children:"\u5BFC\u51FA\u5F53\u524D\u5217\u8868"})})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const on=()=>{const[t,e]=p.exports.useState([]),[i]=na.useForm(),n=Ie(),[,,r]=qe(),{data:l,isFetching:o,refetch:u}=en(()=>{e([]),i.resetFields()}),{mutateAsync:s}=Je(()=>{u()}),y=n.canEditSysRole&&l?{form:i,editableKeys:t,onChange:(m,f)=>{e(m),m.length===1&&!Array.isArray(f)&&i.setFieldsValue({[m[0]]:f[m[0]]})},onSave:async(m,f)=>{await s({[m]:f[m]})}}:void 0;return w(ze,{spinning:o,children:[c(at,{column:2,columns:[ua,ma],dataSource:l}),c(oa,{}),c(at,{column:2,columns:[r,ha,pa,ga,fa],dataSource:l,editable:y})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const rn=()=>{const t=Ya(),e=Ua(),i=Za(),[n]=qe();return c(Ka,{ghost:!0,rowKey:"roleId",actionRef:t,metas:{title:xa,subTitle:n,description:va},tableAlertRender:!1,rowSelection:{type:"radio",onSelect:({roleId:r,roleName:l})=>{e(r,l)}},search:{filterType:"light"},pagination:{defaultPageSize:10,defaultCurrent:1,showSizeChanger:!0},request:async(...r)=>{const l=ia(...r);return i(l),await Xa(l)}})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const cn=()=>{var I;const[t,e]=p.exports.useState([]),[i,n]=p.exports.useState(!1),[r,l]=p.exports.useState([]),[o,u]=p.exports.useState([]),[s,y]=p.exports.useState(!1),[m,f]=p.exports.useState(!0),{canEditSysRole:S}=Ie(),{isFetching:x,data:d,refetch:L}=Et(h=>{n(!1),u(h)}),{isLoading:E,mutate:b}=Je(()=>{L()}),v=st((I=d==null?void 0:d.treeData)!=null?I:[]),P=(r==null?void 0:r.length)!==0&&(r==null?void 0:r.length)===(v==null?void 0:v.length),F=h=>{var g;if(h||m){e((g=d==null?void 0:d.allMenuIds)!=null?g:[]);return}e([])};return p.exports.useEffect(()=>{if((d==null?void 0:d.allMenuIds.length)===t.length){y(!0),f(!1);return}if(t.length===0){y(!1),f(!1);return}f(!0)},[d==null?void 0:d.allMenuIds,t]),w(Fe,{children:[w("header",{className:"flex justify-between mb-2",children:[w(De,{wrap:!0,children:[o.length>0&&c(J,{size:"small",icon:P?c(dt,{}):c(ut,{}),onClick:()=>l(P?[]:v),children:P?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),i&&c(mt,{indeterminate:m,onChange:h=>F(h.target.checked),checked:s,children:"\u5168\u9009/\u5168\u4E0D\u9009"})]}),c(Ne,{accessible:S,children:i?w(De,{wrap:!0,children:[c(J,{loading:E,onClick:()=>{var h;n(!1),u((h=d==null?void 0:d.selectedTreeData)!=null?h:[])},children:"\u53D6\u6D88\u7F16\u8F91"}),c(J,{type:"primary",ghost:!0,icon:c(ht,{}),loading:E,onClick:()=>b({menuIds:t}),children:"\u4FDD\u5B58"})]}):c(J,{type:"primary",ghost:!0,icon:c(pt,{}),onClick:()=>{var h,g;n(!0),e((h=d==null?void 0:d.selectedMenuIds)!=null?h:[]),u((g=d==null?void 0:d.treeData)!=null?g:[])},children:"\u7F16\u8F91\u6570\u636E\u6743\u9650"})})]}),c(ze,{spinning:x,children:c("div",{className:"h-[calc(100vh-450px)] overflow-y-auto",children:o.length>0?c(gt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:i,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:t,treeData:o,expandedKeys:r,onExpand:h=>l(h),onCheck:h=>{e(h.checked)}}):c(Xe,{description:"\u6682\u672A\u5206\u914D\u6570\u636E\u6743\u9650"})})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const ln=()=>{var I;const[t,e]=p.exports.useState([]),[i,n]=p.exports.useState(!1),[r,l]=p.exports.useState([]),[o,u]=p.exports.useState([]),[s,y]=p.exports.useState(!1),[m,f]=p.exports.useState(!0),{canEditSysRole:S}=Ie(),{isFetching:x,data:d,refetch:L}=Et(h=>{n(!1),u(h)}),{isLoading:E,mutate:b}=Je(()=>{L()}),v=st((I=d==null?void 0:d.treeData)!=null?I:[]),P=(r==null?void 0:r.length)!==0&&(r==null?void 0:r.length)===(v==null?void 0:v.length),F=h=>{var g;if(h||m){e((g=d==null?void 0:d.allMenuIds)!=null?g:[]);return}e([])};return p.exports.useEffect(()=>{if((d==null?void 0:d.allMenuIds.length)===t.length){y(!0),f(!1);return}if(t.length===0){y(!1),f(!1);return}f(!0)},[d==null?void 0:d.allMenuIds,t]),w(Fe,{children:[w("header",{className:"flex justify-between mb-2",children:[w(De,{wrap:!0,children:[o.length>0&&c(J,{size:"small",icon:P?c(dt,{}):c(ut,{}),onClick:()=>l(P?[]:v),children:P?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),i&&c(mt,{indeterminate:m,onChange:h=>F(h.target.checked),checked:s,children:"\u5168\u9009/\u5168\u4E0D\u9009"})]}),c(Ne,{accessible:S,children:i?w(De,{wrap:!0,children:[c(J,{loading:E,onClick:()=>{var h;n(!1),u((h=d==null?void 0:d.selectedTreeData)!=null?h:[])},children:"\u53D6\u6D88\u7F16\u8F91"}),c(J,{type:"primary",ghost:!0,icon:c(ht,{}),loading:E,onClick:()=>b({menuIds:t}),children:"\u4FDD\u5B58"})]}):c(J,{type:"primary",ghost:!0,icon:c(pt,{}),onClick:()=>{var h,g;n(!0),e((h=d==null?void 0:d.selectedMenuIds)!=null?h:[]),u((g=d==null?void 0:d.treeData)!=null?g:[])},children:"\u7F16\u8F91\u83DC\u5355\u6743\u9650"})})]}),c(ze,{spinning:x,children:c("div",{className:"h-[calc(100vh-450px)] overflow-y-auto",children:o.length>0?c(gt,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:i,checkStrictly:!0,fieldNames:{title:"label",key:"id"},checkedKeys:t,treeData:o,expandedKeys:r,onExpand:h=>l(h),onCheck:h=>{e(h.checked)}}):c(Xe,{description:"\u6682\u672A\u5206\u914D\u83DC\u5355\u6743\u9650"})})})]})};globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(t,e){return this.cache.has(t)?this.cache.get(t):(this.cache.set(t,e),e)}};const vn=()=>{const{xl:t}=ka(),{open:e}=ke();return c(ra,{children:w(me,{ghost:!0,gutter:16,children:[c(me,{title:"\u89D2\u8272\u5217\u8868",colSpan:"450px",extra:w(De,{children:[c(nn,{}),c(tn,{})]}),children:c(rn,{})}),e?w(me,{split:"horizontal",title:"\u89D2\u8272\u8BE6\u60C5",extra:w(De,{children:[c(an,{}),c($a,{})]}),className:"h-full",children:[c(me,{children:c(on,{})}),w(me,{split:t?"vertical":"horizontal",children:[c(me,{children:c(ln,{})}),c(me,{children:c(cn,{})})]})]}):c(me,{title:"\u89D2\u8272\u8BE6\u60C5",className:"h-full",children:c(Xe,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u89D2\u8272\u67E5\u770B\u8BE6\u60C5"})})]})})};export{vn as default};
