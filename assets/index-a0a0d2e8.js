import{as as X,d as H,ak as he,al as ye,am as Se,aV as V,aW as oe,aX as Le,a2 as je,aw as Re,aY as Me,aZ as me,a_ as Ne,a$ as He,aH as Ae,k as re,h as ne,b0 as U,_ as v,b1 as Fe,ag as ve,x as q,y as A,aJ as We,q as F,b as se,l as ie,g as Ge,b2 as Ke,b3 as $e,J as _e,b4 as qe,b5 as Xe,b6 as Ve,aI as xe,b7 as Je,b8 as k,aE as ee,b9 as Qe,an as Ye,ba as Ze}from"./index-6fe704bc.js";import{r as d,j as T,a as l,F as Ce,e as le}from"./jsx-runtime-06f68cbc.js";import{u as de}from"./index-92527557.js";import{S as x}from"./Skeleton-a9073bed.js";var Ue=globalThis&&globalThis.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const ke=e=>{var{prefixCls:t,className:a,hoverable:r=!0}=e,n=Ue(e,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=d.useContext(X),s=i("card",t),f=H(`${s}-grid`,a,{[`${s}-grid-hoverable`]:r});return d.createElement("div",Object.assign({},n,{className:f}))},we=ke,et=e=>{const{antCls:t,componentCls:a,cardHeadHeight:r,cardPaddingBase:n,cardHeadTabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${n}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},V()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},oe),{[`
          > ${a}-typography,
          > ${a}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},tt=e=>{const{cardPaddingBase:t,colorBorderSecondary:a,cardShadow:r,lineWidth:n}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${n}px 0 0 0 ${a},
      0 ${n}px 0 0 ${a},
      ${n}px ${n}px 0 0 ${a},
      ${n}px 0 0 0 ${a} inset,
      0 ${n}px 0 0 ${a} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},at=e=>{const{componentCls:t,iconCls:a,cardActionsLiMargin:r,cardActionsIconSize:n,colorBorderSecondary:i}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:`${e.lineWidth}px ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},V()),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.cardActionsIconSize*2,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${a}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:`${e.fontSize*e.lineHeight}px`,transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${a}`]:{fontSize:n,lineHeight:`${n*e.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${i}`}}})},rt=e=>Object.assign(Object.assign({margin:`-${e.marginXXS}px 0`,display:"flex"},V()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},oe),"&-description":{color:e.colorTextDescription}}),nt=e=>{const{componentCls:t,cardPaddingBase:a,colorFillAlter:r}=e;return{[`${t}-head`]:{padding:`0 ${a}px`,background:r,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${a}px`}}},it=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},lt=e=>{const{componentCls:t,cardShadow:a,cardHeadPadding:r,colorBorderSecondary:n,boxShadowTertiary:i,cardPaddingBase:s}=e;return{[t]:Object.assign(Object.assign({},Se(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:i},[`${t}-head`]:et(e),[`${t}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:s,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},V()),[`${t}-grid`]:tt(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${t}-actions`]:at(e),[`${t}-meta`]:rt(e)}),[`${t}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${n}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:a}},[`${t}-contain-grid`]:{[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:nt(e),[`${t}-loading`]:it(e),[`${t}-rtl`]:{direction:"rtl"}}},ot=e=>{const{componentCls:t,cardPaddingSM:a,cardHeadHeightSM:r}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:r,padding:`0 ${a}px`,fontSize:e.fontSize,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:a}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}},st=he("Card",e=>{const t=ye(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,cardHeadHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:`${e.paddingSM}px 0`,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[lt(t),ot(t)]});var dt=globalThis&&globalThis.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};function ct(e){return e.map((a,r)=>d.createElement("li",{style:{width:`${100/e.length}%`},key:`action-${r}`},d.createElement("span",null,a)))}const ut=d.forwardRef((e,t)=>{const{getPrefixCls:a,direction:r}=d.useContext(X),n=d.useContext(Le),i=N=>{var R;(R=e.onTabChange)===null||R===void 0||R.call(e,N)},s=()=>{let N;return d.Children.forEach(e.children,R=>{R&&R.type&&R.type===we&&(N=!0)}),N},{prefixCls:f,className:c,rootClassName:m,extra:p,headStyle:I={},bodyStyle:b={},title:C,loading:D,bordered:E=!0,size:P,type:o,cover:h,actions:S,tabList:y,children:w,activeTabKey:$,defaultActiveTabKey:z,tabBarExtraContent:O,hoverable:j,tabProps:u={}}=e,L=dt(e,["prefixCls","className","rootClassName","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),g=a("card",f),[B,Q]=st(g),Y=d.createElement(x,{loading:!0,active:!0,paragraph:{rows:4},title:!1},w),W=$!==void 0,Z=Object.assign(Object.assign({},u),{[W?"activeKey":"defaultActiveKey"]:W?$:z,tabBarExtraContent:O});let G;const K=y&&y.length?d.createElement(je,Object.assign({size:"large"},Z,{className:`${g}-head-tabs`,onChange:i,items:y.map(N=>{var R;return{label:N.tab,key:N.key,disabled:(R=N.disabled)!==null&&R!==void 0?R:!1}})})):null;(C||p||K)&&(G=d.createElement("div",{className:`${g}-head`,style:I},d.createElement("div",{className:`${g}-head-wrapper`},C&&d.createElement("div",{className:`${g}-head-title`},C),p&&d.createElement("div",{className:`${g}-extra`},p)),K));const Pe=h?d.createElement("div",{className:`${g}-cover`},h):null,Be=d.createElement("div",{className:`${g}-body`,style:b},D?Y:w),ze=S&&S.length?d.createElement("ul",{className:`${g}-actions`},ct(S)):null,De=Re(L,["onTabChange"]),fe=P||n,Oe=H(g,{[`${g}-loading`]:D,[`${g}-bordered`]:E,[`${g}-hoverable`]:j,[`${g}-contain-grid`]:s(),[`${g}-contain-tabs`]:y&&y.length,[`${g}-${fe}`]:fe,[`${g}-type-${o}`]:!!o,[`${g}-rtl`]:r==="rtl"},c,m,Q);return B(d.createElement("div",Object.assign({ref:t},De,{className:Oe}),G,Pe,Be,ze))}),gt=ut;var ft=globalThis&&globalThis.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a};const mt=e=>{const{prefixCls:t,className:a,avatar:r,title:n,description:i}=e,s=ft(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:f}=d.useContext(X),c=f("card",t),m=H(`${c}-meta`,a),p=r?d.createElement("div",{className:`${c}-meta-avatar`},r):null,I=n?d.createElement("div",{className:`${c}-meta-title`},n):null,b=i?d.createElement("div",{className:`${c}-meta-description`},i):null,C=I||b?d.createElement("div",{className:`${c}-meta-detail`},I,b):null;return d.createElement("div",Object.assign({},s,{className:m}),p,C)},vt=mt,ce=gt;ce.Grid=we;ce.Meta=vt;const M=ce,pt=e=>{let{children:t}=e;return t},bt=pt;function _(e){return e!=null}const ht=e=>{let{itemPrefixCls:t,component:a,span:r,className:n,style:i,labelStyle:s,contentStyle:f,bordered:c,label:m,content:p,colon:I}=e;const b=a;return c?d.createElement(b,{className:H({[`${t}-item-label`]:_(m),[`${t}-item-content`]:_(p)},n),style:i,colSpan:r},_(m)&&d.createElement("span",{style:s},m),_(p)&&d.createElement("span",{style:f},p)):d.createElement(b,{className:H(`${t}-item`,n),style:i,colSpan:r},d.createElement("div",{className:`${t}-item-container`},(m||m===0)&&d.createElement("span",{className:H(`${t}-item-label`,{[`${t}-item-no-colon`]:!I}),style:s},m),(p||p===0)&&d.createElement("span",{className:H(`${t}-item-content`),style:f},p)))},te=ht;function ae(e,t,a){let{colon:r,prefixCls:n,bordered:i}=t,{component:s,type:f,showLabel:c,showContent:m,labelStyle:p,contentStyle:I}=a;return e.map((b,C)=>{let{props:{label:D,children:E,prefixCls:P=n,className:o,style:h,labelStyle:S,contentStyle:y,span:w=1},key:$}=b;return typeof s=="string"?d.createElement(te,{key:`${f}-${$||C}`,className:o,style:h,labelStyle:Object.assign(Object.assign({},p),S),contentStyle:Object.assign(Object.assign({},I),y),span:w,colon:r,component:s,itemPrefixCls:P,bordered:i,label:c?D:null,content:m?E:null}):[d.createElement(te,{key:`label-${$||C}`,className:o,style:Object.assign(Object.assign(Object.assign({},p),h),S),span:1,colon:r,component:s[0],itemPrefixCls:P,bordered:i,label:D}),d.createElement(te,{key:`content-${$||C}`,className:o,style:Object.assign(Object.assign(Object.assign({},I),h),y),span:w*2-1,component:s[1],itemPrefixCls:P,bordered:i,content:E})]})}const yt=e=>{const t=d.useContext(Ee),{prefixCls:a,vertical:r,row:n,index:i,bordered:s}=e;return r?d.createElement(d.Fragment,null,d.createElement("tr",{key:`label-${i}`,className:`${a}-row`},ae(n,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),d.createElement("tr",{key:`content-${i}`,className:`${a}-row`},ae(n,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):d.createElement("tr",{key:i,className:`${a}-row`},ae(n,e,Object.assign({component:s?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},St=yt,$t=e=>{const{componentCls:t,descriptionsSmallPadding:a,descriptionsDefaultPadding:r,descriptionsMiddlePadding:n,descriptionsBg:i}=e;return{[`&${t}-bordered`]:{[`${t}-view`]:{border:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto",borderCollapse:"collapse"}},[`${t}-item-label, ${t}-item-content`]:{padding:r,borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:i,"&::after":{display:"none"}},[`${t}-row`]:{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"}},[`&${t}-middle`]:{[`${t}-item-label, ${t}-item-content`]:{padding:n}},[`&${t}-small`]:{[`${t}-item-label, ${t}-item-content`]:{padding:a}}}}},xt=e=>{const{componentCls:t,descriptionsExtraColor:a,descriptionItemPaddingBottom:r,descriptionsItemLabelColonMarginRight:n,descriptionsItemLabelColonMarginLeft:i,descriptionsTitleMarginBottom:s}=e;return{[t]:Object.assign(Object.assign(Object.assign({},Se(e)),$t(e)),{["&-rtl"]:{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:s},[`${t}-title`]:Object.assign(Object.assign({},oe),{flex:"auto",color:e.colorText,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}},[`${t}-row`]:{"> th, > td":{paddingBottom:r},"&:last-child":{borderBottom:"none"}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${i}px ${n}px`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline"}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},Ct=he("Descriptions",e=>{const t=e.colorFillAlter,a=e.fontSizeSM*e.lineHeightSM,r=e.colorText,n=`${e.paddingXS}px ${e.padding}px`,i=`${e.padding}px ${e.paddingLG}px`,s=`${e.paddingSM}px ${e.paddingLG}px`,f=e.padding,c=e.marginXS,m=e.marginXXS/2,p=ye(e,{descriptionsBg:t,descriptionsTitleMarginBottom:a,descriptionsExtraColor:r,descriptionItemPaddingBottom:f,descriptionsSmallPadding:n,descriptionsDefaultPadding:i,descriptionsMiddlePadding:s,descriptionsItemLabelColonMarginRight:c,descriptionsItemLabelColonMarginLeft:m});return[xt(p)]}),Ee=d.createContext({}),Te={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function wt(e,t){if(typeof e=="number")return e;if(typeof e=="object")for(let a=0;a<me.length;a++){const r=me[a];if(t[r]&&e[r]!==void 0)return e[r]||Te[r]}return 3}function pe(e,t,a){let r=e;return(a===void 0||a>t)&&(r=He(e,{span:t})),r}function Et(e,t){const a=Ne(e).filter(s=>s),r=[];let n=[],i=t;return a.forEach((s,f)=>{var c;const m=(c=s.props)===null||c===void 0?void 0:c.span,p=m||1;if(f===a.length-1){n.push(pe(s,i,m)),r.push(n);return}p<i?(i-=p,n.push(s)):(n.push(pe(s,i,p)),r.push(n),i=t,n=[])}),r}function J(e){let{prefixCls:t,title:a,extra:r,column:n=Te,colon:i=!0,bordered:s,layout:f,children:c,className:m,rootClassName:p,style:I,size:b,labelStyle:C,contentStyle:D}=e;const{getPrefixCls:E,direction:P}=d.useContext(X),o=E("descriptions",t),[h,S]=d.useState({}),y=wt(n,h),[w,$]=Ct(o),z=Me();d.useEffect(()=>{const u=z.subscribe(L=>{typeof n=="object"&&S(L)});return()=>{z.unsubscribe(u)}},[]);const O=Et(c,y),j=d.useMemo(()=>({labelStyle:C,contentStyle:D}),[C,D]);return w(d.createElement(Ee.Provider,{value:j},d.createElement("div",{className:H(o,{[`${o}-${b}`]:b&&b!=="default",[`${o}-bordered`]:!!s,[`${o}-rtl`]:P==="rtl"},m,p,$),style:I},(a||r)&&d.createElement("div",{className:`${o}-header`},a&&d.createElement("div",{className:`${o}-title`},a),r&&d.createElement("div",{className:`${o}-extra`},r)),d.createElement("div",{className:`${o}-view`},d.createElement("table",null,d.createElement("tbody",null,O.map((u,L)=>d.createElement(St,{key:L,index:L,colon:i,prefixCls:o,vertical:f==="vertical",bordered:s,row:u}))))))))}J.Item=bt;var Tt=function(t){return(ve.warn||ve.warning)(t)};function It(e){var t=e.data,a=e.row;return v(v({},t),a)}function Pt(e){var t=e.type||"single",a=Ae(),r=re([],{value:e.editableKeys,onChange:e.onChange?function(o){var h;e==null||(h=e.onChange)===null||h===void 0||h.call(e,o,e.dataSource)}:void 0}),n=ne(r,2),i=n[0],s=n[1],f=d.useMemo(function(){var o=t==="single"?i==null?void 0:i.slice(0,1):i;return new Set(o)},[(i||[]).join(","),t]),c=d.useCallback(function(o){return!!(i!=null&&i.includes(U(o)))},[(i||[]).join(",")]),m=function(h){return f.size>0&&t==="single"?(Tt(e.onlyOneLineEditorAlertMessage||a.getMessage("editableTable.onlyOneLineEditor","只能同时编辑一行")),!1):(f.add(U(h)),s(Array.from(f)),!0)},p=function(h){return f.delete(U(h)),s(Array.from(f)),!0},I=function(){var o=q(A().mark(function h(S,y,w,$){var z,O;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e==null||(z=e.onCancel)===null||z===void 0?void 0:z.call(e,S,y,w,$);case 2:if(O=u.sent,O!==!1){u.next=5;break}return u.abrupt("return",!1);case 5:return u.abrupt("return",!0);case 6:case"end":return u.stop()}},h)}));return function(S,y,w,$){return o.apply(this,arguments)}}(),b=function(){var o=q(A().mark(function h(S,y,w){var $,z,O;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,e==null||($=e.onSave)===null||$===void 0?void 0:$.call(e,S,y,w);case 2:if(z=u.sent,z!==!1){u.next=5;break}return u.abrupt("return",!1);case 5:return p(S),O={data:e.dataSource,row:y,key:S,childrenColumnName:e.childrenColumnName||"children"},e.setDataSource(It(O)),u.abrupt("return",!0);case 9:case"end":return u.stop()}},h)}));return function(S,y,w){return o.apply(this,arguments)}}(),C=a.getMessage("editableTable.action.save","保存"),D=a.getMessage("editableTable.action.delete","删除"),E=a.getMessage("editableTable.action.cancel","取消"),P=d.useCallback(function(o,h){var S=v({recordKey:o,cancelEditable:p,onCancel:I,onSave:b,editableKeys:i,setEditableRowKeys:s,saveText:C,cancelText:E,deleteText:D,deletePopconfirmMessage:"".concat(a.getMessage("deleteThisLine","删除此行"),"?"),editorType:"Map"},h),y=Fe(e.dataSource,S);return e.actionRender?e.actionRender(e.dataSource,S,{save:y.save,delete:y.delete,cancel:y.cancel}):[y.save,y.delete,y.cancel]},[i&&i.join(","),e.dataSource]);return{editableKeys:i,setEditableRowKeys:s,isEditable:c,actionRender:P,startEditable:m,cancelEditable:p}}var ue=function(t){var a=t.padding;return l("div",{style:{padding:a||"0 24px"},children:l(We,{style:{margin:0}})})},Bt={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},zt=function(t){var a=t.size,r=t.active,n=de(),i=a===void 0?Bt[n]||6:a,s=function(c){return c===0?0:i>2?42:16};return l(M,{bordered:!1,style:{marginBlockEnd:16},children:l("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(i).fill(null).map(function(f,c){return T("div",{style:{borderInlineStart:i>2&&c===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingInlineStart:s(c),flex:1,marginInlineEnd:c===0?16:0},children:[l(x,{active:r,paragraph:!1,title:{width:100,style:{marginBlockStart:0}}}),l(x.Button,{active:r,style:{height:48}})]},c)})})})},Dt=function(t){var a=t.active;return T(Ce,{children:[l(M,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24},children:T("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[l("div",{style:{maxWidth:"100%",flex:1},children:l(x,{active:a,title:{width:100,style:{marginBlockStart:0}},paragraph:{rows:1,style:{margin:0}}})}),l(x.Button,{active:a,size:"small",style:{width:165,marginBlockStart:12}})]})}),l(ue,{})]})},Ot=function(t){var a=t.size,r=t.active,n=r===void 0?!0:r,i=t.actionButton;return T(M,{bordered:!1,bodyStyle:{padding:0},children:[new Array(a).fill(null).map(function(s,f){return l(Dt,{active:!!n},f)}),i!==!1&&l(M,{bordered:!1,style:{borderStartEndRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},children:l(x.Button,{style:{width:102},active:n,size:"small"})})]})},ge=function(t){var a=t.active;return T("div",{style:{marginBlockEnd:16},children:[l(x,{paragraph:!1,title:{width:185}}),l(x.Button,{active:a,size:"small"})]})},Lt=function(t){var a=t.active;return l(M,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBlockEnd:8},children:T(F,{style:{width:"100%",justifyContent:"space-between"},children:[l(x.Button,{active:a,style:{width:200},size:"small"}),T(F,{children:[l(x.Button,{active:a,size:"small",style:{width:120}}),l(x.Button,{active:a,size:"small",style:{width:80}})]})]})})},jt=function(t){var a=t.active,r=a===void 0?!0:a,n=t.statistic,i=t.actionButton,s=t.toolbar,f=t.pageHeader,c=t.list,m=c===void 0?5:c;return T("div",{style:{width:"100%"},children:[f!==!1&&l(ge,{active:r}),n!==!1&&l(zt,{size:n,active:r}),(s!==!1||m!==!1)&&T(M,{bordered:!1,bodyStyle:{padding:0},children:[s!==!1&&l(Lt,{active:r}),m!==!1&&l(Ot,{size:m,active:r,actionButton:i})]})]})};const Rt=jt;var Ie={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},Mt=function(t){var a=t.active;return T("div",{style:{marginBlockStart:32},children:[l(x.Button,{active:a,size:"small",style:{width:100,marginBlockEnd:16}}),T("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:[T("div",{style:{flex:1,marginInlineEnd:24,maxWidth:300},children:[l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:0}}}),l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:8}}}),l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:8}}})]}),l("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:T("div",{style:{maxWidth:300,margin:"auto"},children:[l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:0}}}),l(x,{active:a,paragraph:!1,title:{style:{marginBlockStart:8}}})]})})]})]})},Nt=function(t){var a=t.size,r=t.active,n=de(),i=a===void 0?Ie[n]||3:a;return l("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(i).fill(null).map(function(s,f){return T("div",{style:{flex:1,paddingInlineStart:f===0?0:24,paddingInlineEnd:f===i-1?0:24},children:[l(x,{active:r,paragraph:!1,title:{style:{marginBlockStart:0}}}),l(x,{active:r,paragraph:!1,title:{style:{marginBlockStart:8}}}),l(x,{active:r,paragraph:!1,title:{style:{marginBlockStart:8}}})]},f)})})},be=function(t){var a=t.active,r=t.header,n=r===void 0?!1:r,i=de(),s=Ie[i]||3;return T(Ce,{children:[T("div",{style:{display:"flex",background:n?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"},children:[new Array(s).fill(null).map(function(f,c){return l("div",{style:{flex:1,paddingInlineStart:n&&c===0?0:20,paddingInlineEnd:32},children:l(x,{active:a,paragraph:!1,title:{style:{margin:0,height:24,width:n?"75px":"100%"}}})},c)}),l("div",{style:{flex:3,paddingInlineStart:32},children:l(x,{active:a,paragraph:!1,title:{style:{margin:0,height:24,width:n?"75px":"100%"}}})})]}),l(ue,{padding:"0px 0px"})]})},Ht=function(t){var a=t.active,r=t.size,n=r===void 0?4:r;return T(M,{bordered:!1,children:[l(x.Button,{active:a,size:"small",style:{width:100,marginBlockEnd:16}}),l(be,{header:!0,active:a}),new Array(n).fill(null).map(function(i,s){return l(be,{active:a},s)}),l("div",{style:{display:"flex",justifyContent:"flex-end",paddingBlockStart:16},children:l(x,{active:a,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})})]})},At=function(t){var a=t.active;return T(M,{bordered:!1,style:{borderStartEndRadius:0,borderTopLeftRadius:0},children:[l(x.Button,{active:a,size:"small",style:{width:100,marginBlockEnd:16}}),l(Nt,{active:a}),l(Mt,{active:a})]})},Ft=function(t){var a=t.active,r=a===void 0?!0:a,n=t.pageHeader,i=t.list;return T("div",{style:{width:"100%"},children:[n!==!1&&l(ge,{active:r}),l(At,{active:r}),i!==!1&&l(ue,{}),i!==!1&&l(Ht,{active:r,size:i})]})};const Wt=Ft;var Gt=function(t){var a=t.active,r=a===void 0?!0:a,n=t.pageHeader;return T("div",{style:{width:"100%"},children:[n!==!1&&l(ge,{active:r}),l(M,{children:T("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128},children:[l(x.Avatar,{size:64,style:{marginBlockEnd:32}}),l(x.Button,{active:r,style:{width:214,marginBlockEnd:8}}),l(x.Button,{active:r,style:{width:328},size:"small"}),T(F,{style:{marginBlockStart:24},children:[l(x.Button,{active:r,style:{width:116}}),l(x.Button,{active:r,style:{width:116}})]})]})})]})};const Kt=Gt;var _t=["type"],qt=function(t){var a=t.type,r=a===void 0?"list":a,n=se(t,_t);return r==="result"?l(Kt,v({},n)):r==="descriptions"?l(Wt,v({},n)):l(Rt,v({},n))};const Xt=qt;var Vt=function(t,a){var r=a||{},n=r.onRequestError,i=r.effects,s=r.manual,f=r.dataSource,c=r.defaultDataSource,m=r.onDataSourceChange,p=re(c,{value:f,onChange:m}),I=ne(p,2),b=I[0],C=I[1],D=re(a==null?void 0:a.loading,{value:a==null?void 0:a.loading,onChange:a==null?void 0:a.onLoadingChange}),E=ne(D,2),P=E[0],o=E[1],h=function(w){C(w),o(!1)},S=function(){var y=q(A().mark(function w(){var $,z,O;return A().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!P){u.next=2;break}return u.abrupt("return");case 2:return o(!0),u.prev=3,u.next=6,t();case 6:if(u.t0=u.sent,u.t0){u.next=9;break}u.t0={};case 9:$=u.t0,z=$.data,O=$.success,O!==!1&&h(z),u.next=23;break;case 15:if(u.prev=15,u.t1=u.catch(3),n!==void 0){u.next=21;break}throw new Error(u.t1);case 21:n(u.t1);case 22:o(!1);case 23:return u.prev=23,o(!1),u.finish(23);case 26:case"end":return u.stop()}},w,null,[[3,15,23,26]])}));return function(){return y.apply(this,arguments)}}();return d.useEffect(function(){s||S()},[].concat(ie(i||[]),[s])),{dataSource:b,setDataSource:C,loading:P,reload:function(){return S()}}};const Jt=Vt;var Qt=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],Yt=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],Zt=function(t,a){var r=t.dataIndex;if(r){var n=Array.isArray(r)?Je(a,r):a[r];if(n!==void 0||n!==null)return n}return t.children},Ut=function(t){var a=t.valueEnum,r=t.action,n=t.index,i=t.text,s=t.entity,f=t.mode,c=t.render,m=t.editableUtils,p=t.valueType,I=t.plain,b=t.dataIndex,C=t.request,D=t.renderFormItem,E=t.params,P=xe.useFormInstance(),o={text:i,valueEnum:a,mode:f||"read",proFieldProps:{render:c?function(){return c==null?void 0:c(i,s,n,r,v(v({},t),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:p,request:C,params:E,plain:I};if(f==="read"||!f||p==="option"){var h=k(t.fieldProps,void 0,v(v({},t),{},{rowKey:b,isEditable:!1}));return l(ee,v(v({name:b},o),{},{fieldProps:h}))}var S=function(){var w,$=k(t.formItemProps,P,v(v({},t),{},{rowKey:b,isEditable:!0})),z=k(t.fieldProps,P,v(v({},t),{},{rowKey:b,isEditable:!0})),O=D?D==null?void 0:D(v(v({},t),{},{type:"descriptions"}),{isEditable:!0,recordKey:b,record:P.getFieldValue([b].flat(1)),defaultRender:function(){return l(ee,v(v({},o),{},{fieldProps:z}))},type:"descriptions"},P):void 0;return T(F,{style:{alignItems:"baseline"},children:[l(Qe,v(v({name:b},$),{},{style:v({margin:0},($==null?void 0:$.style)||{}),initialValue:i||($==null?void 0:$.initialValue),children:O||l(ee,v(v({},o),{},{proFieldProps:v({},o.proFieldProps),fieldProps:z}))})),m==null||(w=m.actionRender)===null||w===void 0?void 0:w.call(m,b||n,{cancelText:l(Ye,{}),saveText:l(Ze,{}),deleteText:!1})]})};return l("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:S()})},kt=function(t,a,r,n){var i,s=[],f=t==null||(i=t.map)===null||i===void 0?void 0:i.call(t,function(c,m){var p,I;if(le.isValidElement(c))return c;var b=c;b.valueEnum,b.render;var C=b.renderText,D=b.mode;b.plain;var E=b.dataIndex;b.request,b.params;var P=b.editable,o=se(b,Qt),h=(p=Zt(c,a))!==null&&p!==void 0?p:o.children,S=C?C(h,a,m,r):h,y=typeof o.title=="function"?o.title(c,"descriptions",null):o.title,w=typeof o.valueType=="function"?o.valueType(a||{},"descriptions"):o.valueType,$=n==null?void 0:n.isEditable(E||m),z=D||$?"edit":"read",O=n&&z==="read"&&P!==!1&&(P==null?void 0:P(S,a,m))!==!1,j=O?F:le.Fragment,u=z==="edit"?S:qe(S,c,S),L=d.createElement(J.Item,v(v({},o),{},{key:o.key||((I=o.label)===null||I===void 0?void 0:I.toString())||m,label:(y||o.label||o.tooltip||o.tip)&&l($e,{label:y||o.label,tooltip:o.tooltip||o.tip,ellipsis:c.ellipsis})}),T(j,{children:[l(Ut,v(v({},c),{},{dataIndex:c.dataIndex||m,mode:z,text:u,valueType:w,entity:a,index:m,action:r,editableUtils:n})),O&&w!=="option"&&l(Xe,{onClick:function(){n==null||n.startEditable(E||m)}})]}));return w==="option"?(s.push(L),null):L}).filter(function(c){return c});return{options:s!=null&&s.length?s:null,children:f}},ea=function(t){return l(J.Item,v(v({},t),{},{children:t.children}))},ta=function(t){return t.children},aa=function(t){var a,r=t.request,n=t.columns,i=t.params,s=i===void 0?{}:i,f=t.dataSource,c=t.onDataSourceChange,m=t.formProps,p=t.editable,I=t.loading,b=t.onLoadingChange,C=t.actionRef,D=t.onRequestError,E=se(t,Yt),P=d.useContext(Ge.ConfigContext),o=Jt(q(A().mark(function u(){var L;return A().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!r){B.next=6;break}return B.next=3,r(s);case 3:B.t0=B.sent,B.next=7;break;case 6:B.t0={data:{}};case 7:return L=B.t0,B.abrupt("return",L);case 9:case"end":return B.stop()}},u)})),{onRequestError:D,effects:[Ke(s)],manual:!r,dataSource:f,loading:I,onLoadingChange:b,onDataSourceChange:c}),h=Pt(v(v({},t.editable),{},{childrenColumnName:void 0,dataSource:o.dataSource,setDataSource:o.setDataSource}));if(d.useEffect(function(){C&&(C.current=v({reload:o.reload},h))},[o,C,h]),o.loading||o.loading===void 0&&r)return l(Xt,{type:"descriptions",list:!1,pageHeader:!1});var S=function(){var L=Ve(t.children).filter(Boolean).map(function(g){if(!le.isValidElement(g))return g;var B=g==null?void 0:g.props,Q=B.valueEnum,Y=B.valueType,W=B.dataIndex,Z=B.ellipsis,G=B.copyable,K=B.request;return!Y&&!Q&&!W&&!K&&!Z&&!G?g:v(v({},g==null?void 0:g.props),{},{entity:f})});return[].concat(ie(n||[]),ie(L)).filter(function(g){return!g||g!=null&&g.valueType&&["index","indexBorder"].includes(g==null?void 0:g.valueType)?!1:!(g!=null&&g.hideInDescriptions)}).sort(function(g,B){return B.order||g.order?(B.order||0)-(g.order||0):(B.index||0)-(g.index||0)})},y=kt(S(),o.dataSource||{},(C==null?void 0:C.current)||o,p?h:void 0),w=y.options,$=y.children,z=p?xe:ta,O=null;(E.title||E.tooltip||E.tip)&&(O=l($e,{label:E.title,tooltip:E.tooltip||E.tip}));var j=P.getPrefixCls("pro-descriptions");return l(_e,{children:l(z,v(v({form:(a=t.editable)===null||a===void 0?void 0:a.form,component:!1,submitter:!1},m),{},{onFinish:void 0,children:l(J,v(v({className:j},E),{},{extra:E.extra?T(F,{children:[w,E.extra]}):w,title:O,children:$}))}),"form")})};aa.Item=ea;export{aa as P};
