"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[472],{13026:function(Q,j,e){e.d(j,{gp:function(){return g},jk:function(){return p},l:function(){return v},mJ:function(){return c},nj:function(){return R}});var l=e(50959),c={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},g={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},p={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},R={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},v=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,l.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:C,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[C])}},14145:function(Q,j,e){e.d(j,{ew:function(){return r},Jx:function(){return W},iT:function(){return A},Zi:function(){return B},Bw:function(){return V},eJ:function(){return g},fk:function(){return v},nj:function(){return _.nj},sE:function(){return R},WW:function(){return k},sy:function(){return H},E$:function(){return z},_M:function(){return K},tC:function(){return c},wX:function(){return M},oh:function(){return E},Uc:function(){return G},x:function(){return x},Mw:function(){return w},p_:function(){return y},$V:function(){return P},gp:function(){return _.gp},Qo:function(){return f},xM:function(){return L},y4:function(){return C},$9:function(){return i},jk:function(){return _.jk},x_:function(){return m},C9:function(){return b},dy:function(){return D},QT:function(){return I},Jy:function(){return u},VP:function(){return h},g4:function(){return J},Fu:function(){return ne},Rj:function(){return T},tE:function(){return Z},iO:function(){return N},q2:function(){return U},jR:function(){return $},BP:function(){return o},au:function(){return p},oo:function(){return S},HW:function(){return ae},VG:function(){return F},D1:function(){return te},l:function(){return _.l}});var l=e(43380),c={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},g={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},p={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},R={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:l.al},v={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(q){return{beginCreateTime:q[0],endCreateTime:q[1]}}}},h={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},C={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},_=e(13026),$={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},U={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},W={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},k={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},B={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},A={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},V={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},P={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:l.gh,width:90},y={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},E={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:l.gc},M={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:l.gc},G={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:l.gc},x={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:l.gc},w={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:l.gc},u={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:l.CX,width:70},o={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:l.V},i={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},f={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},r={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},H={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},K={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:l.LZ},z={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},N={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},b={dataIndex:"postId",key:"postId",title:"\u5C97\u4F4D\u7F16\u53F7",valueType:"text",hideInSearch:!0},m={dataIndex:"postCode",key:"postCode",title:"\u5C97\u4F4D\u7F16\u7801",valueType:"text"},D={dataIndex:"postName",key:"postName",title:"\u5C97\u4F4D\u540D\u79F0",valueType:"text"},I={dataIndex:"postSort",key:"postSort",title:"\u663E\u793A\u987A\u5E8F",valueType:"text",hideInSearch:!0},T={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},J={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},ne={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},Z={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0},ae={dataIndex:"userId",key:"userId",title:"\u7528\u6237\u7F16\u53F7",valueType:"text",editable:!1,hideInSearch:!0},F={dataIndex:"userName",key:"userName",title:"\u7528\u6237\u540D\u79F0",valueType:"text"},L={dataIndex:"nickName",key:"nickName",title:"\u7528\u6237\u6635\u79F0",valueType:"text",hideInSearch:!0},S={dataIndex:["dept","deptName"],key:"deptDeptName",title:"\u90E8\u95E8\u540D\u79F0",valueType:"text",hideInSearch:!0},te={dataIndex:"phoneNumber",key:"phoneNumber",title:"\u624B\u673A\u53F7\u7801",valueType:"text"}},19993:function(Q,j,e){e.d(j,{Z:function(){return g},n:function(){return A}});var l=e(50959),c=e(98205),g=function(P){var y=(0,l.useRef)(),E=(0,c.Zl)(P);return(0,l.useEffect)(function(){y!=null&&y.current&&E(y.current)},[]),y},p=e(35290),R=e.n(p),v=e(411),h=e.n(v),C=e(94434),_=e.n(C),$=e(46686),U=e.n($),W=e(28287),k=e(32222),B=e.n(k),A=function(P){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"checkbox",E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,M=(0,l.useState)([]),G=U()(M,2),x=G[0],w=G[1],u=(0,l.useState)([]),o=U()(u,2),i=o[0],f=o[1],r={alwaysShowAlert:E,type:y,selectedRowKeys:x,onChange:function(b,m){f(m),w(b)}},H=function(b){var m=b[P],D=[b],I=[m];if(y==="checkbox")if(I=_()(x),D=B()(i),I.includes(m)){var T=x.indexOf(m);I.splice(T,1),D.splice(T,1)}else D.push(b),I.push(m);f(D),w(I)},K=function(){f([]),w([])},z=function(){var N=h()(R()().mark(function b(){var m,D=arguments;return R()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(m=D.length>0&&D[0]!==void 0?D[0]:"\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61",(i==null?void 0:i.length)!==0){T.next=4;break}return W.ZP.warning(m),T.abrupt("return",Promise.reject(m));case 4:return T.abrupt("return",Promise.resolve(i));case 5:case"end":return T.stop()}},b)}));return function(){return N.apply(this,arguments)}}();return{selectedRows:i,selectedRowKeys:x,rowSelection:r,onClick:H,clearSelection:K,setSelectedRowKeys:w,checkRowSelection:z}}},50817:function(Q,j,e){e.r(j),e.d(j,{default:function(){return Se}});var l=e(14145),c=e(19993),g=e(98205),p="systemUser",R=(0,g.cn)({key:"".concat(p,"AtomMainTableActions"),default:void 0}),v=function(){return useRecoilValue(R)},h=function(){return(0,c.Z)(R)},C=(0,g.cn)({key:"".concat(p,"AtomSelectedDeptId"),default:0}),_=function(){return(0,g.sJ)(C)},$=function(){return(0,g.Zl)(C)},U=e(69946),W=e(35290),k=e.n(W),B=e(30279),A=e.n(B),V=e(411),P=e.n(V),y=e(26931);function E(n,a){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/add",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),M.apply(this,arguments)}function G(n,a){return x.apply(this,arguments)}function x(){return x=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/authRole",_objectSpread({method:"GET",params:_objectSpread({},a)},s||{})));case 1:case"end":return t.stop()}},n)})),x.apply(this,arguments)}function w(n,a){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/changeStatus",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),u.apply(this,arguments)}function o(n,a){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/edit",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),i.apply(this,arguments)}function f(n,a){return r.apply(this,arguments)}function r(){return r=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/export",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),r.apply(this,arguments)}function H(n,a,s,d){return K.apply(this,arguments)}function K(){return K=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s,d,t){var X;return _regeneratorRuntime().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return X=new FormData,d&&X.append("file",d),Object.keys(s).forEach(function(ee){var O=s[ee];O!=null&&X.append(ee,_typeof(O)==="object"&&!(O instanceof File)?JSON.stringify(O):O)}),Y.abrupt("return",request("/system/user/importData",_objectSpread({method:"POST",params:_objectSpread({},a),data:X,requestType:"form"},t||{})));case 4:case"end":return Y.stop()}},n)})),K.apply(this,arguments)}function z(n){return N.apply(this,arguments)}function N(){return N=_asyncToGenerator(_regeneratorRuntime().mark(function n(a){return _regeneratorRuntime().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/system/user/importTemplate",_objectSpread({method:"POST"},a||{})));case 1:case"end":return d.stop()}},n)})),N.apply(this,arguments)}function b(n,a){return m.apply(this,arguments)}function m(){return m=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/info",_objectSpread({method:"GET",params:_objectSpread({},a)},s||{})));case 1:case"end":return t.stop()}},n)})),m.apply(this,arguments)}function D(n,a){return I.apply(this,arguments)}function I(){return I=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/insertAuthRole",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),I.apply(this,arguments)}function T(n,a){return J.apply(this,arguments)}function J(){return J=P()(k()().mark(function n(a,s){return k()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,y.WY)("/system/user/list",A()({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),J.apply(this,arguments)}function ne(n,a){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/remove",_objectSpread({method:"POST",params:_objectSpread({},a)},s||{})));case 1:case"end":return t.stop()}},n)})),Z.apply(this,arguments)}function ae(n,a){return F.apply(this,arguments)}function F(){return F=_asyncToGenerator(_regeneratorRuntime().mark(function n(a,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/user/resetPwd",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:a},s||{})));case 1:case"end":return t.stop()}},n)})),F.apply(this,arguments)}var L=e(55633),S=e(11527),te=[l.HW,l.VG,l.xM,l.oo,l.D1,l.sE,l.eJ],ue=function(){var a=h(),s=_(),d=s>0?{deptId:s}:{};return(0,S.jsx)(L.QVr,{rowKey:"userId",actionRef:a,columns:te,params:d,search:{span:{xs:24,sm:24,md:12,lg:12,xl:12,xxl:6}},request:function(){return T(y.h$.apply(void 0,arguments))}})},q=ue,oe=e(46686),ie=e.n(oe),le=e(51534),de=e(46585),ce=e(84337),pe=e(53554),me=e(22237),ye=e(53016),fe=e(50959),ve=function(){var a=(0,fe.useState)(""),s=ie()(a,2),d=s[0],t=s[1],X=$(),re=(0,ce.Z)(function(){return(0,de.Lb)({deptName:d})},{refreshDeps:[d]}),Y=re.data,ee=re.loading;return Y?(0,S.jsxs)(pe.Z,{spinning:ee,children:[(0,S.jsx)(me.Z.Search,{allowClear:!0,placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",className:"mb-3",onSearch:function(se){t(se)}}),(0,S.jsx)(ye.Z,{treeData:Y,defaultExpandAll:!0,fieldNames:{title:"label",key:"id"},onSelect:function(se,ge){var _e=ge.node.key;X(_e)}})]}):(0,S.jsx)(le._E,{})},he=ve,Te=function(){return(0,S.jsx)(L._zJ,{children:(0,S.jsxs)(L.QWM,{ghost:!0,gutter:24,children:[(0,S.jsx)(L.QWM,{colSpan:"300px",className:"h-full",children:(0,S.jsx)(he,{})}),(0,S.jsx)(L.QWM,{ghost:!0,className:"h-full",children:(0,S.jsx)(q,{})})]})})},Se=Te},46585:function(Q,j,e){e.d(j,{Lb:function(){return x},N8:function(){return C},TZ:function(){return B},eP:function(){return W},ne:function(){return $},ru:function(){return y}});var l=e(35290),c=e.n(l),g=e(30279),p=e.n(g),R=e(411),v=e.n(R),h=e(26931);function C(u,o){return _.apply(this,arguments)}function _(){return _=v()(c()().mark(function u(o,i){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.WY)("/system/dept/add",p()({method:"POST",headers:{"Content-Type":"application/json"},data:o},i||{})));case 1:case"end":return r.stop()}},u)})),_.apply(this,arguments)}function $(u,o){return U.apply(this,arguments)}function U(){return U=v()(c()().mark(function u(o,i){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.WY)("/system/dept/edit",p()({method:"POST",headers:{"Content-Type":"application/json"},data:o},i||{})));case 1:case"end":return r.stop()}},u)})),U.apply(this,arguments)}function W(u,o){return k.apply(this,arguments)}function k(){return k=v()(c()().mark(function u(o,i){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.WY)("/system/dept/info",p()({method:"GET",params:p()({},o)},i||{})));case 1:case"end":return r.stop()}},u)})),k.apply(this,arguments)}function B(u,o){return A.apply(this,arguments)}function A(){return A=v()(c()().mark(function u(o,i){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.WY)("/system/dept/list",p()({method:"POST",headers:{"Content-Type":"application/json"},data:o},i||{})));case 1:case"end":return r.stop()}},u)})),A.apply(this,arguments)}function V(u,o){return P.apply(this,arguments)}function P(){return P=_asyncToGenerator(_regeneratorRuntime().mark(function u(o,i){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/system/dept/list/exclude",_objectSpread({method:"GET",params:_objectSpread({},o)},i||{})));case 1:case"end":return r.stop()}},u)})),P.apply(this,arguments)}function y(u,o){return E.apply(this,arguments)}function E(){return E=v()(c()().mark(function u(o,i){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.WY)("/system/dept/remove",p()({method:"POST",params:p()({},o)},i||{})));case 1:case"end":return r.stop()}},u)})),E.apply(this,arguments)}function M(u,o){return G.apply(this,arguments)}function G(){return G=_asyncToGenerator(_regeneratorRuntime().mark(function u(o,i){return _regeneratorRuntime().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",request("/system/dept/roleDeptTreeSelect",_objectSpread({method:"GET",params:_objectSpread({},o)},i||{})));case 1:case"end":return r.stop()}},u)})),G.apply(this,arguments)}function x(u,o){return w.apply(this,arguments)}function w(){return w=v()(c()().mark(function u(o,i){return c()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,h.WY)("/system/dept/treeSelect",p()({method:"POST",headers:{"Content-Type":"application/json"},data:o},i||{})));case 1:case"end":return r.stop()}},u)})),w.apply(this,arguments)}}}]);
