"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[641],{69870:function(Me,ee,e){e.d(ee,{UW:function(){return g}});var x=e(30553),g=x.A.Group},41846:function(Me,ee,e){e.r(ee),e.d(ee,{default:function(){return we}});var x=e(55980),g=e.n(x),Ze=e(42217),i=e.n(Ze),Ee=e(18172),N=e.n(Ee),Pe=e(3849),pe=e.n(Pe),ye=e(29960),te=e.n(ye),Ne=e(75318),J=e(72867),Fe=e(25384),G=e(96069),r=e(11527),ue=function(){return(0,r.jsxs)("div",{className:"flex flex-col justify-center items-center",children:[(0,r.jsx)(Fe.Z,{plain:!0,children:(0,r.jsx)("span",{className:"text-sm font-normal text-neutral-400",children:"\u5176\u4ED6\u767B\u5F55\u65B9\u5F0F"})}),(0,r.jsx)("div",{onClick:function(){G.ZP.info("\u656C\u8BF7\u671F\u5F85")},className:"flex justify-center items-center cursor-pointer rounded-full h-[40px] w-[40px] border-solid border border-gray-300",children:(0,r.jsx)(J.Z,{style:{fontSize:"20px",color:"#00ac84"}})})]})},je=ue,ae=e(96032),re=e(16064),ve=e(16916),me=e(88387),Be=e(642),Se=e(57174),k=e(45443),de=e(68591),be=e(28856),R=e(44367),ie=e(29547),W=e(12191),a=e(50959),Te=e(30553),v=["logo","message","style","activityConfig","backgroundImageUrl","title","subTitle","actions","children"];function t(n){var p=n.logo,z=n.message,y=n.style,D=n.activityConfig,Z=D===void 0?{}:D,b=n.backgroundImageUrl,$=n.title,L=n.subTitle,F=n.actions,oe=n.children,j=(0,ie.Z)(n,v),I=(0,W.YB)(),P=function(){var w,q;return j.submitter===!1||((w=j.submitter)===null||w===void 0?void 0:w.submitButtonProps)===!1?!1:(0,R.Z)({size:"large",style:{width:"100%"}},(q=j.submitter)===null||q===void 0?void 0:q.submitButtonProps)},le=(0,R.Z)((0,R.Z)({searchConfig:{submitText:I.getMessage("loginForm.submitText","\u767B\u5F55")},render:function(w,q){return q.pop()}},j.submitter),{},{submitButtonProps:P()}),ce=(0,a.useContext)(be.ZP.ConfigContext),M=ce.getPrefixCls("pro-form-login-page"),u=function(w){return"".concat(M,"-").concat(w)},X=(0,a.useMemo)(function(){return p?typeof p=="string"?a.createElement("img",{src:p}):p:null},[p]);return a.createElement("div",{className:M,style:(0,R.Z)((0,R.Z)({},y),{},{backgroundImage:'url("'.concat(b,'")')})},a.createElement("div",{className:u("notice")},Z&&a.createElement("div",{className:u("notice-activity"),style:Z.style},Z.title&&a.createElement("div",{className:u("notice-activity-title")}," ",Z.title," "),Z.subTitle&&a.createElement("div",{className:u("notice-activity-subTitle")}," ",Z.subTitle," "),Z.action&&a.createElement("div",{className:u("notice-activity-action")}," ",Z.action," "))),a.createElement("div",{className:u("container")},a.createElement("div",{className:u("top")},$||X?a.createElement("div",{className:u("header")},X?a.createElement("span",{className:u("logo")},X):null,$?a.createElement("span",{className:u("title")},$):null):null,L?a.createElement("div",{className:u("desc")},L):null),a.createElement("div",{className:u("main")},a.createElement(Te.A,(0,k.Z)({isKeyPressSubmit:!0},j,{submitter:le}),z,oe),F?a.createElement("div",{className:u("other")},F):null)))}var s=e(88843),c=e(43114),m=e(63743),C=e(34602),E=e(50118),l=e(73466),d=e(67948),o=e(82173),h=e(23151),S=e(91417),K=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],Re=a.forwardRef(function(n,p){var z=(0,a.useState)(n.countDown||60),y=(0,h.Z)(z,2),D=y[0],Z=y[1],b=(0,a.useState)(!1),$=(0,h.Z)(b,2),L=$[0],F=$[1],oe=(0,a.useState)(),j=(0,h.Z)(oe,2),I=j[0],P=j[1],le=n.rules,ce=n.name,M=n.phoneName,u=n.fieldProps,X=n.captchaTextRender,f=X===void 0?function(O,H){return O?"".concat(H," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:X,w=n.captchaProps,q=(0,ie.Z)(n,K),Oe=function(){var O=(0,o.Z)((0,d.Z)().mark(function H(_){return(0,d.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.prev=0,P(!0),T.next=4,q.onGetCaptcha(_);case 4:P(!1),F(!0),T.next=13;break;case 8:T.prev=8,T.t0=T.catch(0),F(!1),P(!1),console.log(T.t0);case 13:case"end":return T.stop()}},H,null,[[0,8]])}));return function(_){return O.apply(this,arguments)}}();return(0,a.useEffect)(function(){var O=0,H=n.countDown;return L&&(O=window.setInterval(function(){Z(function(_){return _<=1?(F(!1),clearInterval(O),H||60):_-1})},1e3)),function(){return clearInterval(O)}},[L]),a.createElement(c.Z.Item,{noStyle:!0,shouldUpdate:!0},function(O){var H=O.getFieldValue,_=O.validateFields;return a.createElement("div",{style:(0,R.Z)((0,R.Z)({},u==null?void 0:u.style),{},{display:"flex",alignItems:"center"}),ref:p},a.createElement(l.Z,(0,k.Z)({},u,{style:{flex:1,transition:"width .3s",marginRight:8}})),a.createElement(C.Z,(0,k.Z)({style:{display:"block"},disabled:L,loading:I},w,{onClick:(0,o.Z)((0,d.Z)().mark(function Ge(){var T;return(0,d.Z)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(B.prev=0,!M){B.next=9;break}return B.next=4,_([M].flat(1));case 4:return T=H([M].flat(1)),B.next=7,Oe(T);case 7:B.next=11;break;case 9:return B.next=11,Oe("");case 11:B.next=16;break;case 13:B.prev=13,B.t0=B.catch(0),console.log(B.t0);case 16:case"end":return B.stop()}},Ge,null,[[0,13]])}))}),f(L,D)))})}),Ae=(0,S.G)(Re),A=Ae,V=e(19857),ne=e(78586),Y=e(44963),Q=e(81416),fe=["options","fieldProps","proFieldProps","valueEnum"],ze=a.forwardRef(function(n,p){var z=n.options,y=n.fieldProps,D=n.proFieldProps,Z=n.valueEnum,b=(0,ie.Z)(n,fe);return a.createElement(Q.Z,(0,k.Z)({ref:p,valueType:"checkbox",mode:"edit",valueEnum:(0,Y.h)(Z,void 0),fieldProps:(0,R.Z)({options:z},y),lightProps:(0,R.Z)({labelFormatter:function(){return a.createElement(Q.Z,(0,k.Z)({ref:p,valueType:"checkbox",mode:"read",valueEnum:(0,Y.h)(Z,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,R.Z)({options:z},y),proFieldProps:D},b))}},b.lightProps),proFieldProps:D},b))}),ge=a.forwardRef(function(n,p){var z=n.fieldProps,y=n.children;return a.createElement(ne.Z,(0,k.Z)({ref:p},z),y)}),he=(0,S.G)(ge,{valuePropName:"checked"}),xe=he;xe.Group=ze;var Ce=xe,se=e(50405),Ie=e(69870),Ue=e(85384),Le=e(77854),De=e(71822),$e=e(90031),ke=e(35234),We=["autoLogin"],U;(function(n){n.MOBILE="MOBILE",n.USERNAME="USERNAME"})(U||(U={}));var Ke=function(){var p=(0,a.useState)(U.USERNAME),z=pe()(p,2),y=z[0],D=z[1],Z=(0,Ue.Z)(ae.Ex),b=Z.data,$=Z.loading,L=Z.run,F=ke.parse(window.location.search),oe=function(){var j=N()(te().mark(function I(P){var le,ce,M,u;return te().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(f.prev=0,ce=P.autoLogin,M=i()(P,We),y!==U.MOBILE){f.next=8;break}return f.next=5,(0,ae.w3)(M);case 5:u=f.sent,f.next=16;break;case 8:if(b){f.next=13;break}return G.ZP.error("\u8BF7\u5148\u83B7\u53D6\u56FE\u7247\u9A8C\u8BC1\u7801"),f.abrupt("return");case 13:return f.next=15,(0,ae.Hd)(g()(g()({},M),{},{uuid:b.uuid}));case 15:u=f.sent;case 16:(0,re.o4)(ce?re.Z1.LOCAL_STORAGE:re.Z1.SESSION_STORAGE,"Bearer ".concat(u.token)),window.location.href=(le=F==null?void 0:F.redirect)!==null&&le!==void 0?le:"/",f.next=23;break;case 20:f.prev=20,f.t0=f.catch(0),y===U.USERNAME&&L();case 23:case"end":return f.stop()}},I,null,[[0,20]])}));return function(P){return j.apply(this,arguments)}}();return(0,a.useEffect)(function(){F!=null&&F.msg&&G.ZP.error(F.msg)},[]),(0,r.jsx)("div",{className:"h-[100vh]",children:(0,r.jsxs)(t,{backgroundImageUrl:"https://gw.alipayobjects.com/zos/rmsportal/FfdJeJRQWjEeGTpqgBKj.png",logo:"https://github.githubassets.com/images/modules/logos_page/Octocat.png",title:"RuoYi X Umi",subTitle:"\u82E5\u4F9D\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF",actions:(0,r.jsx)(je,{}),onFinish:oe,activityConfig:{action:(0,r.jsx)(Ne.ET,{})},children:[(0,r.jsxs)(Le.Z,{activeKey:y,onChange:function(I){return D(I)},children:[(0,r.jsx)(Le.Z.TabPane,{tab:"\u8D26\u53F7\u5BC6\u7801\u767B\u5F55"},U.USERNAME),(0,r.jsx)(Le.Z.TabPane,{tab:"\u624B\u673A\u53F7\u767B\u5F55"},U.MOBILE)]}),y===U.USERNAME&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(se.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(ve.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]}),(0,r.jsx)(se.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(me.Z,{})},placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]}),(0,r.jsxs)(Ie.UW,{children:[(0,r.jsx)(se.Z,{width:160,name:"code",placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",fieldProps:{size:"large",prefix:(0,r.jsx)(Be.Z,{})},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}]}),(0,r.jsx)("div",{className:"h-[40px] w-[135px] cursor-pointer  border border-solid border-gray-300",children:$?(0,r.jsx)(De.Z.Button,{active:!0,block:!0,size:"large"}):(0,r.jsx)($e.Z,{src:"data:image/png;base64,".concat(b==null?void 0:b.img),preview:!1,className:"h-[40px] w-[135px]",alt:"\u9A8C\u8BC1\u7801",onClick:L})})]})]}),y===U.MOBILE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(se.Z,{fieldProps:{maxLength:11,size:"large",prefix:(0,r.jsx)(Se.Z,{})},name:"phonenumber",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},{pattern:re.RE,message:"\u624B\u673A\u53F7\u683C\u5F0F\u9519\u8BEF"}]}),(0,r.jsx)(A,{fieldProps:{size:"large",prefix:(0,r.jsx)(me.Z,{})},captchaProps:{size:"large"},placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",captchaTextRender:function(I,P){return I?"".concat(P," ","\u83B7\u53D6\u9A8C\u8BC1\u7801"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"},name:"smsCode",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}],onGetCaptcha:N()(te().mark(function j(){return te().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return G.ZP.info("\u656C\u8BF7\u671F\u5F85"),P.abrupt("return",Promise.reject(new Error("\u656C\u8BF7\u671F\u5F85")));case 2:case"end":return P.stop()}},j)}))})]}),(0,r.jsx)(Ce,{name:"autoLogin",children:"\u81EA\u52A8\u767B\u5F55"})]})})},we=Ke},71822:function(Me,ee,e){e.d(ee,{Z:function(){return Te}});var x=e(23080),g=e(45443),Ze=e(30251),i=e(50959),Ee=e(19803),N=e.n(Ee),Pe=function(t){var s=t.prefixCls,c=t.className,m=t.width,C=t.style;return i.createElement("h3",{className:N()(s,c),style:(0,g.Z)({width:m},C)})},pe=Pe,ye=e(34451),te=function(t){var s=function(o){var h=t.width,S=t.rows,K=S===void 0?2:S;if(Array.isArray(h))return h[o];if(K-1===o)return h},c=t.prefixCls,m=t.className,C=t.style,E=t.rows,l=(0,ye.Z)(Array(E)).map(function(d,o){return i.createElement("li",{key:o,style:{width:s(o)}})});return i.createElement("ul",{className:N()(c,m),style:C},l)},Ne=te,J=e(98442),Fe=function(t){var s,c,m=t.prefixCls,C=t.className,E=t.style,l=t.size,d=t.shape,o=N()((s={},(0,x.Z)(s,"".concat(m,"-lg"),l==="large"),(0,x.Z)(s,"".concat(m,"-sm"),l==="small"),s)),h=N()((c={},(0,x.Z)(c,"".concat(m,"-circle"),d==="circle"),(0,x.Z)(c,"".concat(m,"-square"),d==="square"),(0,x.Z)(c,"".concat(m,"-round"),d==="round"),c)),S=typeof l=="number"?{width:l,height:l,lineHeight:"".concat(l,"px")}:{};return i.createElement("span",{className:N()(m,o,h,C),style:(0,g.Z)((0,g.Z)({},S),E)})},G=Fe,r=e(85424),ue=function(t){var s=t.prefixCls,c=t.className,m=t.active,C=i.useContext(J.E_),E=C.getPrefixCls,l=E("skeleton",s),d=(0,r.Z)(t,["prefixCls","className"]),o=N()(l,"".concat(l,"-element"),(0,x.Z)({},"".concat(l,"-active"),m),c);return i.createElement("div",{className:o},i.createElement(G,(0,g.Z)({prefixCls:"".concat(l,"-avatar")},d)))};ue.defaultProps={size:"default",shape:"circle"};var je=ue,ae=function(t){var s,c=t.prefixCls,m=t.className,C=t.active,E=t.block,l=E===void 0?!1:E,d=i.useContext(J.E_),o=d.getPrefixCls,h=o("skeleton",c),S=(0,r.Z)(t,["prefixCls"]),K=N()(h,"".concat(h,"-element"),(s={},(0,x.Z)(s,"".concat(h,"-active"),C),(0,x.Z)(s,"".concat(h,"-block"),l),s),m);return i.createElement("div",{className:K},i.createElement(G,(0,g.Z)({prefixCls:"".concat(h,"-button")},S)))};ae.defaultProps={size:"default"};var re=ae,ve=function(t){var s,c=t.prefixCls,m=t.className,C=t.active,E=t.block,l=i.useContext(J.E_),d=l.getPrefixCls,o=d("skeleton",c),h=(0,r.Z)(t,["prefixCls"]),S=N()(o,"".concat(o,"-element"),(s={},(0,x.Z)(s,"".concat(o,"-active"),C),(0,x.Z)(s,"".concat(o,"-block"),E),s),m);return i.createElement("div",{className:S},i.createElement(G,(0,g.Z)({prefixCls:"".concat(o,"-input")},h)))};ve.defaultProps={size:"default"};var me=ve,Be="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Se=function(t){var s=t.prefixCls,c=t.className,m=t.style,C=i.useContext(J.E_),E=C.getPrefixCls,l=E("skeleton",s),d=N()(l,"".concat(l,"-element"),c);return i.createElement("div",{className:d},i.createElement("div",{className:N()("".concat(l,"-image"),c),style:m},i.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(l,"-image-svg")},i.createElement("path",{d:Be,className:"".concat(l,"-image-path")}))))},k=Se;function de(v){return v&&(0,Ze.Z)(v)==="object"?v:{}}function be(v,t){return v&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function R(v,t){return!v&&t?{width:"38%"}:v&&t?{width:"50%"}:{}}function ie(v,t){var s={};return(!v||!t)&&(s.width="61%"),!v&&t?s.rows=3:s.rows=2,s}var W=function(t){var s=t.prefixCls,c=t.loading,m=t.className,C=t.style,E=t.children,l=t.avatar,d=t.title,o=t.paragraph,h=t.active,S=t.round,K=i.useContext(J.E_),Re=K.getPrefixCls,Ae=K.direction,A=Re("skeleton",s);if(c||!("loading"in t)){var V,ne=!!l,Y=!!d,Q=!!o,fe;if(ne){var ze=(0,g.Z)((0,g.Z)({prefixCls:"".concat(A,"-avatar")},be(Y,Q)),de(l));fe=i.createElement("div",{className:"".concat(A,"-header")},i.createElement(G,(0,g.Z)({},ze)))}var ge;if(Y||Q){var he;if(Y){var xe=(0,g.Z)((0,g.Z)({prefixCls:"".concat(A,"-title")},R(ne,Q)),de(d));he=i.createElement(pe,(0,g.Z)({},xe))}var Ce;if(Q){var se=(0,g.Z)((0,g.Z)({prefixCls:"".concat(A,"-paragraph")},ie(ne,Y)),de(o));Ce=i.createElement(Ne,(0,g.Z)({},se))}ge=i.createElement("div",{className:"".concat(A,"-content")},he,Ce)}var Ie=N()(A,(V={},(0,x.Z)(V,"".concat(A,"-with-avatar"),ne),(0,x.Z)(V,"".concat(A,"-active"),h),(0,x.Z)(V,"".concat(A,"-rtl"),Ae==="rtl"),(0,x.Z)(V,"".concat(A,"-round"),S),V),m);return i.createElement("div",{className:Ie,style:C},fe,ge)}return typeof E<"u"?E:null};W.defaultProps={avatar:!1,title:!0,paragraph:!0},W.Button=re,W.Avatar=je,W.Input=me,W.Image=k;var a=W,Te=a}}]);
