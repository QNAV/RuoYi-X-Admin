"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[925],{18723:function(_,F,e){var d=e(84045),s=e(18112),x=e(11527),m=e(50959),T=e(59609),g=["fieldProps","min","proFieldProps","max"],o=function(u,c){var f=u.fieldProps,v=u.min,h=u.proFieldProps,y=u.max,n=(0,s.Z)(u,g);return(0,x.jsx)(T.Z,(0,d.Z)({valueType:"digit",fieldProps:(0,d.Z)({min:v,max:y},f),ref:c,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:h},n))};F.Z=m.forwardRef(o)},37349:function(_,F,e){var d=e(81694),s=e(21374),x=e(84045),m=e(18112),T=e(11527),g=e(41386),o=e(50959),P=e(81522),u=e(59609),c=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],f=o.forwardRef(function(n,C){var R=n.fieldProps,j=n.options,B=n.radioType,M=n.layout,U=n.proFieldProps,L=n.valueEnum,V=(0,m.Z)(n,c);return(0,T.jsx)(u.Z,(0,x.Z)((0,x.Z)({valueType:B==="button"?"radioButton":"radio",ref:C,valueEnum:(0,g.h)(L,void 0)},V),{},{fieldProps:(0,x.Z)({options:j,layout:M},R),proFieldProps:U,filedConfig:{customLightMode:!0}}))}),v=o.forwardRef(function(n,C){var R=n.fieldProps,j=n.children;return(0,T.jsx)(s.ZP,(0,x.Z)((0,x.Z)({},R),{},{ref:C,children:j}))}),h=(0,P.G)(v,{valuePropName:"checked",ignoreWidth:!0}),y=h;y.Group=f,y.Button=s.ZP.Button,y.displayName="ProFormComponent",F.Z=y},88448:function(_,F,e){var d=e(84045),s=e(18112),x=e(11527),m=e(41386),T=e(50959),g=e(35063),o=e(59609),P=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],u=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],c=T.forwardRef(function(n,C){var R=n.fieldProps,j=n.children,B=n.params,M=n.proFieldProps,U=n.mode,L=n.valueEnum,V=n.request,$=n.showSearch,ee=n.options,w=(0,s.Z)(n,P),A=(0,T.useContext)(g.Z);return(0,x.jsx)(o.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,m.h)(L),request:V,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({options:ee,mode:U,showSearch:$,getPopupContainer:A.getPopupContainer},R),ref:C,proFieldProps:M},w),{},{children:j}))}),f=T.forwardRef(function(n,C){var R=n.fieldProps,j=n.children,B=n.params,M=n.proFieldProps,U=n.mode,L=n.valueEnum,V=n.request,$=n.options,ee=(0,s.Z)(n,u),w=(0,d.Z)({options:$,mode:U||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},R),A=(0,T.useContext)(g.Z);return(0,x.jsx)(o.Z,(0,d.Z)((0,d.Z)({valueEnum:(0,m.h)(L),request:V,params:B,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,d.Z)({getPopupContainer:A.getPopupContainer},w),ref:C,proFieldProps:M},ee),{},{children:j}))}),v=c,h=f,y=v;y.SearchSelect=h,y.displayName="ProFormComponent",F.Z=y},55099:function(_,F,e){var d=e(84045),s=e(18112),x=e(11527),m=e(59609),T=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],o="text",P=function(v){var h=v.fieldProps,y=v.proFieldProps,n=(0,s.Z)(v,T);return(0,x.jsx)(m.Z,(0,d.Z)({valueType:o,fieldProps:h,filedConfig:{valueType:o},proFieldProps:y},n))},u=function(v){var h=v.fieldProps,y=v.proFieldProps,n=(0,s.Z)(v,g);return(0,x.jsx)(m.Z,(0,d.Z)({valueType:"password",fieldProps:h,proFieldProps:y,filedConfig:{valueType:o}},n))},c=P;c.Password=u,c.displayName="ProFormComponent",F.Z=c},70477:function(_,F,e){e.d(F,{gp:function(){return x},jk:function(){return m},l:function(){return g},mJ:function(){return s},nj:function(){return T}});var d=e(50959),s={title:"\u90E8\u95E8\u540D\u79F0",dataIndex:"deptName",key:"deptName",valueType:"text"},x={title:"\u8D1F\u8D23\u4EBA",dataIndex:"leader",key:"leader",valueType:"text"},m={title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone",key:"phone",valueType:"text"},T={title:"\u90AE\u7BB1",dataIndex:"email",key:"email",valueType:"text"},g=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return(0,d.useMemo)(function(){return{title:"\u4E0A\u7EA7\u90E8\u95E8",dataIndex:"parentId",key:"parentId",valueType:"treeSelect",fieldProps:{treeData:P,dropdownMatchSelectWidth:250,fieldNames:{value:"id"}}}},[P])}},20747:function(_,F,e){e.d(F,{ew:function(){return Y},Jx:function(){return v},iT:function(){return n},Zi:function(){return y},Bw:function(){return C},eJ:function(){return x},fk:function(){return g},nj:function(){return u.nj},sE:function(){return T},WW:function(){return h},sy:function(){return G},E$:function(){return ue},_M:function(){return re},tC:function(){return s},wX:function(){return M},oh:function(){return B},Uc:function(){return U},x:function(){return L},Mw:function(){return V},p_:function(){return j},$V:function(){return R},gp:function(){return u.gp},Qo:function(){return A},y4:function(){return P},$9:function(){return w},jk:function(){return u.jk},Jy:function(){return $},VP:function(){return o},g4:function(){return de},Fu:function(){return pe},Rj:function(){return ye},tE:function(){return ce},iO:function(){return ie},q2:function(){return f},jR:function(){return c},BP:function(){return ee},au:function(){return m},l:function(){return u.l}});var d=e(31194),s={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},x={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},m={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},T={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:d.al},g={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(ae){return{beginCreateTime:ae[0],endCreateTime:ae[1]}}}},o={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},P={title:"\u6392\u5E8F",dataIndex:"orderNum",key:"orderNum",valueType:"digit"},u=e(70477),c={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},f={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},v={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},h={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},y={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},n={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},C={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},R={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:d.gh,width:90},j={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},B={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:d.gc},M={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:d.gc},U={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:d.gc},L={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:d.gc},V={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:d.gc},$={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:d.CX,width:70},ee={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:d.V},w={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},A={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},Y={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},G={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},re={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:d.LZ},ue={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},ie={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},ye={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},de={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},pe={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},ce={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},46864:function(_,F,e){e.r(F),e.d(F,{default:function(){return xt}});var d=e(35290),s=e.n(d),x=e(411),m=e.n(x),T=e(46686),g=e.n(T),o=e(31194),P=e(30279),u=e.n(P),c=e(45402);function f(l,a){return v.apply(this,arguments)}function v(){return v=m()(s()().mark(function l(a,i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/system/dept/add",u()({method:"POST",headers:{"Content-Type":"application/json"},data:a},i||{})));case 1:case"end":return t.stop()}},l)})),v.apply(this,arguments)}function h(l,a){return y.apply(this,arguments)}function y(){return y=m()(s()().mark(function l(a,i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/system/dept/edit",u()({method:"POST",headers:{"Content-Type":"application/json"},data:a},i||{})));case 1:case"end":return t.stop()}},l)})),y.apply(this,arguments)}function n(l,a){return C.apply(this,arguments)}function C(){return C=m()(s()().mark(function l(a,i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/system/dept/info",u()({method:"GET",params:u()({},a)},i||{})));case 1:case"end":return t.stop()}},l)})),C.apply(this,arguments)}function R(l,a){return j.apply(this,arguments)}function j(){return j=m()(s()().mark(function l(a,i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/system/dept/list",u()({method:"POST",headers:{"Content-Type":"application/json"},data:a},i||{})));case 1:case"end":return t.stop()}},l)})),j.apply(this,arguments)}function B(l,a){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function l(a,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/dept/list/exclude",_objectSpread({method:"GET",params:_objectSpread({},a)},i||{})));case 1:case"end":return t.stop()}},l)})),M.apply(this,arguments)}function U(l,a){return L.apply(this,arguments)}function L(){return L=m()(s()().mark(function l(a,i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/system/dept/remove",u()({method:"POST",params:u()({},a)},i||{})));case 1:case"end":return t.stop()}},l)})),L.apply(this,arguments)}function V(l,a){return $.apply(this,arguments)}function $(){return $=_asyncToGenerator(_regeneratorRuntime().mark(function l(a,i){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/dept/roleDeptTreeSelect",_objectSpread({method:"GET",params:_objectSpread({},a)},i||{})));case 1:case"end":return t.stop()}},l)})),$.apply(this,arguments)}function ee(l,a){return w.apply(this,arguments)}function w(){return w=m()(s()().mark(function l(a,i){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.WY)("/system/dept/treeSelect",u()({method:"POST",headers:{"Content-Type":"application/json"},data:a},i||{})));case 1:case"end":return t.stop()}},l)})),w.apply(this,arguments)}var A=e(3650),Y=e(50959),G=e(98205),re="systemDept",ue=(0,G.cn)({key:"".concat(re,"AtomDeptDetails"),default:{visible:!1,deptId:0,deptName:""}}),ie=function(){return(0,G.sJ)(ue)},ye=function(){return(0,G.Zl)(ue)},de=function(){return(0,G.rb)(ue)},pe=(0,G.cn)({key:"".concat(re,"AtomSearchDeptListParams"),default:{}}),ce=function(){return(0,G.sJ)(pe)},Ce=function(){return(0,G.Zl)(pe)},ae=[re,"list"],Ie=function(){var a=ce();return(0,A.useQuery)(ae,m()(s()().mark(function i(){var p,t;return s()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,R(a);case 2:return p=E.sent,t=(0,c.tw)(p,{id:"deptId",pId:"parentId",rootPId:null}),E.abrupt("return",{data:p,treeData:t,allParentIds:p.map(function(O){return O.parentId})});case 5:case"end":return E.stop()}},i)})))},Le=[re,"treeData"],Se=function(){return(0,A.useQuery)(Le,m()(s()().mark(function a(){return s()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,ee({});case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},a)})))},Ae=function(){var a=Ce(),i=ce(),p=Ie();return(0,Y.useEffect)(function(){p.refetch()},[i]),function(t){a(t)}},Ne=e(53136),ve=e(15328),We=e(54064),be=e(2072),Ke=e(84045),Ue=e(18112),r=e(11527),$e=e(59609),we=["fieldProps","request","params","proFieldProps"],Ge=function(a,i){var p=a.fieldProps,t=a.request,I=a.params,E=a.proFieldProps,O=(0,Ue.Z)(a,we);return(0,r.jsx)($e.Z,(0,Ke.Z)({valueType:"treeSelect",fieldProps:p,ref:i,request:t,params:I,filedConfig:{customLightMode:!0},proFieldProps:E},O))},Qe=Y.forwardRef(Ge),ke=Qe,oe=e(55099),Je=e(18723),Ve=e(37349),Ye=e(81027),he=e(28287),Pe=e(93066),je=e(48111),He=function(){var a=(0,ve.md)(),i=(0,Y.useRef)(),p=(0,Ye.Z)(),t=g()(p,2),I=t[0],E=t[1].toggle,O=Se(),N=O.data,D=O.refetch,Q=(0,A.useMutation)(m()(s()().mark(function b(){var S,X;return s()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(S=i.current)===null||S===void 0?void 0:S.validateFields();case 2:return X=Z.sent,Z.next=5,f(X);case 5:case"end":return Z.stop()}},b)})),{onSuccess:function(){var S;he.ZP.success("\u65B0\u5EFA\u6210\u529F"),D(),E(),(S=i.current)===null||S===void 0||S.resetFields()}}),W=Q.mutate,H=Q.isLoading;return(0,r.jsxs)(Ne.Access,{accessible:a.canAddSysDept,children:[(0,r.jsx)(Pe.Z,{type:"primary",icon:(0,r.jsx)(We.Z,{}),onClick:E,children:"\u65B0\u5EFA"}),(0,r.jsx)(je.Z,{title:"\u65B0\u5EFA\u90E8\u95E8",okText:"\u63D0\u4EA4",open:I,onCancel:E,onOk:function(){return W()},okButtonProps:{loading:H},children:(0,r.jsxs)(be.A,{submitter:!1,formRef:i,grid:!0,rowProps:{gutter:[16,0]},children:[(0,r.jsx)(ke,{name:"parentId",label:"\u4E0A\u7EA7\u90E8\u95E8",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u90E8\u95E8"}],fieldProps:{treeData:N??[],fieldNames:{value:"id"}}}),(0,r.jsx)(oe.Z,{name:"deptName",label:"\u90E8\u95E8\u540D\u79F0",rules:[{required:!0}],colProps:{span:12}}),(0,r.jsx)(Je.Z,{name:"orderNum",label:"\u663E\u793A\u6392\u5E8F",initialValue:0,rules:[{required:!0}],colProps:{span:12}}),(0,r.jsx)(oe.Z,{name:"leader",label:"\u8D1F\u8D23\u4EBA",colProps:{span:12}}),(0,r.jsx)(oe.Z,{name:"phone",label:"\u8054\u7CFB\u7535\u8BDD",colProps:{span:12}}),(0,r.jsx)(oe.Z,{name:"email",label:"\u90AE\u7BB1",colProps:{span:12}}),(0,r.jsx)(Ve.Z.Group,{name:"status",label:"\u72B6\u6001",valueEnum:o.al,initialValue:o.vu.ENABLE,colProps:{span:12}})]})})]})},Xe=He,ze=e(39449),Fe=e(7537),qe=function(){var a=(0,ve.md)(),i=(0,A.useQueryClient)(),p=ie(),t=p.deptId,I=p.deptName,E=p.visible,O=de(),N=function(){je.Z.confirm({title:"\u5220\u9664\u786E\u8BA4",content:(0,r.jsxs)(r.Fragment,{children:["\u786E\u5B9A\u5BF9",(0,r.jsx)(Fe.Z.Text,{code:!0,children:I}),"\u8FDB\u884C",(0,r.jsx)(Fe.Z.Text,{code:!0,children:"\u5220\u9664"}),"\u64CD\u4F5C\u5417\uFF1F"]}),onOk:function(){var Q=m()(s()().mark(function H(){return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,U({deptId:t});case 2:he.ZP.success("\u5220\u9664\u6210\u529F"),O(),i.invalidateQueries(ae);case 5:case"end":return S.stop()}},H)}));function W(){return Q.apply(this,arguments)}return W}()})};return(0,r.jsx)(ve.Nv,{accessible:a.canRemoveSysDept,children:(0,r.jsx)(Pe.Z,{danger:!0,ghost:!0,icon:(0,r.jsx)(ze.Z,{}),disabled:!E,onClick:N,children:"\u5220\u9664"})})},_e=qe,et=e(93275),Ze=e.n(et),tt=e(44463),rt=e.n(tt),te=e(20747),at=e(70477),Re=e(36937),De=e(93612),nt=e(84337),st=e(86131),Be=e(53554),Oe=e(42381),ut=["ancestors"],xe={xs:1,sm:1,md:1,lg:1,xl:2},ot=function(){var a=(0,Y.useState)([]),i=g()(a,2),p=i[0],t=i[1],I=(0,ve.md)(),E=st.Z.useForm(),O=g()(E,1),N=O[0],D=(0,A.useQueryClient)(),Q=ie(),W=Q.deptId,H=Q.visible,b=Se(),S=b.data,X=(0,te.l)(S),k=(0,nt.Z)(m()(s()().mark(function le(){var K,J,q,me,fe;return s()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,n({deptId:W});case 2:return J=se.sent,q=J.ancestors,me=rt()(J,ut),fe=(K=q==null?void 0:q.split(","))!==null&&K!==void 0?K:[],se.abrupt("return",u()(u()({},me),{},{ancestors:Number(fe[fe.length-1])}));case 7:case"end":return se.stop()}},le)})),{ready:H&&W>0,refreshDeps:[W],onSuccess:function(){t([])}}),Z=k.data,z=k.loading,Te=k.refreshAsync,ge=I!=null&&I.canEditSysDept?{form:N,editableKeys:p,onChange:function(K,J){t(K),K.length===1&&!Array.isArray(J)&&N.setFieldsValue(Ze()({},K[0],J[K[0]]))},onSave:function(){var le=m()(s()().mark(function J(q,me){return s()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,h(Ze()({deptId:W,deptName:Z.deptName,orderNum:Z.orderNum,parentId:Z.parentId},q,me[q]));case 2:return ne.next=4,Promise.all([D.invalidateQueries(ae),Te()]);case 4:he.ZP.success("\u4FDD\u5B58\u6210\u529F");case 5:case"end":return ne.stop()}},J)}));function K(J,q){return le.apply(this,arguments)}return K}()}:void 0;return H?(0,r.jsxs)(Be.Z,{spinning:z,children:[(0,r.jsx)(De.vY,{column:xe,editable:ge,dataSource:Z,columns:[te.sE,te.y4,te.eJ]}),(0,r.jsx)(Oe.Z,{}),(0,r.jsx)(De.vY,{column:xe,editable:ge,dataSource:Z,columns:[at.mJ,X]}),(0,r.jsx)(Oe.Z,{}),(0,r.jsx)(De.vY,{column:xe,editable:ge,dataSource:Z,columns:[te.gp,te.jk,te.nj]})]}):(0,r.jsx)(Re._E,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u90E8\u95E8\u9879\u67E5\u770B\u8BE6\u60C5"})},lt=ot,it=e(71600),dt=e(29993),pt=e(17147),ct=e(88448),Me=e(67415),vt=e(38395),mt=e(53016),ft=function(a){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Me.Z,{color:"rgb(148 163 184)",children:a.orderNum}),(0,r.jsxs)(vt.Z,{children:[a.deptName,(0,r.jsx)(Me.Z,{color:a.status===o.vu.ENABLE?"success":"error",children:a.status===o.vu.ENABLE?"\u542F\u7528\u4E2D":"\u5DF2\u7981\u7528"})]})]})},yt=function(){var a,i,p=(0,Y.useState)([]),t=g()(p,2),I=t[0],E=t[1],O=Ae(),N=Ie(),D=N.data,Q=N.isFetching,W=ye(),H=de(),b=(I==null?void 0:I.length)!==0&&(I==null?void 0:I.length)===(D==null||(a=D.allParentIds)===null||a===void 0?void 0:a.length);return(0,Y.useEffect)(function(){D!=null&&D.allParentIds&&E(D.allParentIds)},[D==null?void 0:D.allParentIds]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)(Pe.Z,{size:"small",className:"my-2",icon:b?(0,r.jsx)(it.Z,{}):(0,r.jsx)(dt.Z,{}),onClick:function(){return E(b?[]:D==null?void 0:D.allParentIds)},children:b?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),(0,r.jsxs)(pt.M,{onFinish:function(){var S=m()(s()().mark(function X(k){return s()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:O(k);case 1:case"end":return z.stop()}},X)}));return function(X){return S.apply(this,arguments)}}(),children:[(0,r.jsx)(oe.Z,{name:"deptName",label:"\u90E8\u95E8\u540D\u79F0"}),(0,r.jsx)(ct.Z,{name:"status",label:"\u72B6\u6001",valueEnum:o.al})]})]}),D!=null&&D.treeData?(0,r.jsx)(Be.Z,{spinning:Q,children:(0,r.jsx)(mt.Z,{blockNode:!0,showLine:{showLeafIcon:!1},titleRender:ft,treeData:(i=D==null?void 0:D.treeData)!==null&&i!==void 0?i:[],expandedKeys:I,onExpand:E,fieldNames:{title:"deptName",key:"deptId",children:"children"},onSelect:function(X,k){var Z=k.selected,z=k.node.key;if(Z){W({visible:!0,deptId:z,deptName:D.data.find(function(Te){return Te.deptId===z}).deptName});return}H()}})}):(0,r.jsx)(Re._E,{})]})},ht=yt,Pt=e(23070),Ee=e(79372),Dt=function(){return(0,r.jsx)(Pt.ZP,{children:(0,r.jsxs)(Ee.Z,{ghost:!0,gutter:24,children:[(0,r.jsx)(Ee.Z,{title:"\u90E8\u95E8\u5217\u8868",colSpan:"500px",extra:(0,r.jsx)(Xe,{}),children:(0,r.jsx)(ht,{})}),(0,r.jsx)(Ee.Z,{title:"\u90E8\u95E8\u8BE6\u60C5",extra:(0,r.jsx)(_e,{}),children:(0,r.jsx)(lt,{})})]})})},xt=Dt},81027:function(_,F,e){e.d(F,{Z:function(){return g}});var d=e(50959),s=function(o,P){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var c=u.call(o),f,v=[],h;try{for(;(P===void 0||P-- >0)&&!(f=c.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return v};function x(o,P){o===void 0&&(o=!1);var u=s((0,d.useState)(o),2),c=u[0],f=u[1],v=(0,d.useMemo)(function(){var h=P===void 0?!o:P,y=function(){return f(function(B){return B===o?h:o})},n=function(B){return f(B)},C=function(){return f(o)},R=function(){return f(h)};return{toggle:y,set:n,setLeft:C,setRight:R}},[]);return[c,v]}var m=x,T=function(o,P){var u=typeof Symbol=="function"&&o[Symbol.iterator];if(!u)return o;var c=u.call(o),f,v=[],h;try{for(;(P===void 0||P-- >0)&&!(f=c.next()).done;)v.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(h)throw h.error}}return v};function g(o){o===void 0&&(o=!1);var P=T(m(o),2),u=P[0],c=P[1],f=c.toggle,v=c.set,h=(0,d.useMemo)(function(){var y=function(){return v(!0)},n=function(){return v(!1)};return{toggle:f,set:function(R){return v(!!R)},setTrue:y,setFalse:n}},[]);return[u,h]}}}]);
