"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[868],{39868:function(Qt,Re,s){s.d(Re,{vY:function(){return Pe}});var ee=s(11060),F=s(88081),V=s(21519),Ut=s(12125),we=s(5142),Xt=s(34265),$=s(43293),Q=s(61431),fe=s(27497),je=s(19803),A=s.n(je),ye=s(29183),t=s(50959),U=s(83173),Le=s(26967),X=s(16644),ze=function(e){var n=e.children;return n},Be=ze,z=s(665);function Y(a){return a!=null}var $e=function(e){var n=e.itemPrefixCls,r=e.component,l=e.span,o=e.className,c=e.style,m=e.labelStyle,i=e.contentStyle,f=e.bordered,g=e.label,D=e.content,S=e.colon,P=r;if(f){var E;return t.createElement(P,{className:A()((E={},(0,$.Z)(E,"".concat(n,"-item-label"),Y(g)),(0,$.Z)(E,"".concat(n,"-item-content"),Y(D)),E),o),style:c,colSpan:l},Y(g)&&t.createElement("span",{style:m},g),Y(D)&&t.createElement("span",{style:i},D))}return t.createElement(P,{className:A()("".concat(n,"-item"),o),style:c,colSpan:l},t.createElement("div",{className:"".concat(n,"-item-container")},(g||g===0)&&t.createElement("span",{className:A()("".concat(n,"-item-label"),(0,$.Z)({},"".concat(n,"-item-no-colon"),!S)),style:m},g),(D||D===0)&&t.createElement("span",{className:A()("".concat(n,"-item-content")),style:i},D)))},te=$e;function ae(a,e,n){var r=e.colon,l=e.prefixCls,o=e.bordered,c=n.component,m=n.type,i=n.showLabel,f=n.showContent,g=n.labelStyle,D=n.contentStyle;return a.map(function(S,P){var E=S.props,T=E.label,j=E.children,y=E.prefixCls,p=y===void 0?l:y,Z=E.className,v=E.style,d=E.labelStyle,N=E.contentStyle,I=E.span,R=I===void 0?1:I,L=S.key;return typeof c=="string"?t.createElement(te,{key:"".concat(m,"-").concat(L||P),className:Z,style:v,labelStyle:(0,z.Z)((0,z.Z)({},g),d),contentStyle:(0,z.Z)((0,z.Z)({},D),N),span:R,colon:r,component:c,itemPrefixCls:p,bordered:o,label:i?T:null,content:f?j:null}):[t.createElement(te,{key:"label-".concat(L||P),className:Z,style:(0,z.Z)((0,z.Z)((0,z.Z)({},g),v),d),span:1,colon:r,component:c[0],itemPrefixCls:p,bordered:o,label:T}),t.createElement(te,{key:"content-".concat(L||P),className:Z,style:(0,z.Z)((0,z.Z)((0,z.Z)({},D),v),N),span:R*2-1,component:c[1],itemPrefixCls:p,bordered:o,content:j})]})}var Oe=function(e){var n=t.useContext(ge),r=e.prefixCls,l=e.vertical,o=e.row,c=e.index,m=e.bordered;return l?t.createElement(t.Fragment,null,t.createElement("tr",{key:"label-".concat(c),className:"".concat(r,"-row")},ae(o,e,(0,z.Z)({component:"th",type:"label",showLabel:!0},n))),t.createElement("tr",{key:"content-".concat(c),className:"".concat(r,"-row")},ae(o,e,(0,z.Z)({component:"td",type:"content",showContent:!0},n)))):t.createElement("tr",{key:c,className:"".concat(r,"-row")},ae(o,e,(0,z.Z)({component:m?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},Me=Oe,ge=t.createContext({}),he={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Fe(a,e){if(typeof a=="number")return a;if((0,fe.Z)(a)==="object")for(var n=0;n<X.c4.length;n++){var r=X.c4[n];if(e[r]&&a[r]!==void 0)return a[r]||he[r]}return 3}function Ee(a,e,n){var r=a;return(e===void 0||e>n)&&(r=(0,Le.Tm)(a,{span:n})),r}function Ae(a,e){var n=(0,ye.Z)(a).filter(function(c){return c}),r=[],l=[],o=e;return n.forEach(function(c,m){var i,f=(i=c.props)===null||i===void 0?void 0:i.span,g=f||1;if(m===n.length-1){l.push(Ee(c,f,o)),r.push(l);return}g<o?(o-=g,l.push(c)):(l.push(Ee(c,g,o)),r.push(l),o=e,l=[])}),r}function be(a){var e,n=a.prefixCls,r=a.title,l=a.extra,o=a.column,c=o===void 0?he:o,m=a.colon,i=m===void 0?!0:m,f=a.bordered,g=a.layout,D=a.children,S=a.className,P=a.style,E=a.size,T=a.labelStyle,j=a.contentStyle,y=t.useContext(U.E_),p=y.getPrefixCls,Z=y.direction,v=p("descriptions",n),d=t.useState({}),N=(0,Q.Z)(d,2),I=N[0],R=N[1],L=Fe(c,I);t.useEffect(function(){var b=X.ZP.subscribe(function(x){(0,fe.Z)(c)==="object"&&R(x)});return function(){X.ZP.unsubscribe(b)}},[]);var u=Ae(D,L),O=t.useMemo(function(){return{labelStyle:T,contentStyle:j}},[T,j]);return t.createElement(ge.Provider,{value:O},t.createElement("div",{className:A()(v,(e={},(0,$.Z)(e,"".concat(v,"-").concat(E),E&&E!=="default"),(0,$.Z)(e,"".concat(v,"-bordered"),!!f),(0,$.Z)(e,"".concat(v,"-rtl"),Z==="rtl"),e),S),style:P},(r||l)&&t.createElement("div",{className:"".concat(v,"-header")},r&&t.createElement("div",{className:"".concat(v,"-title")},r),l&&t.createElement("div",{className:"".concat(v,"-extra")},l)),t.createElement("div",{className:"".concat(v,"-view")},t.createElement("table",null,t.createElement("tbody",null,u.map(function(b,x){return t.createElement(Me,{key:x,index:x,colon:i,prefixCls:v,vertical:g==="vertical",bordered:f,row:b})}))))))}be.Item=Be;var ne=be,re=s(62957),Yt=s(1315),H=s(50841),Jt=s(76122),ke=s(81567),h=s(82175),w=s(11527),Ke=s(24530),He=s(88021),Ge=s(17073),We=s(68644),le=s(13640),qt=s(41803),_t=s(45463),Ve=s(28910),Qe=s(6387),C=s(8817),pe=s(819),Ue=function(a,e){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(a);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(a,r[l])&&(n[r[l]]=a[r[l]]);return n},Xe=function(e){var n=e.prefixCls,r=e.className,l=e.hoverable,o=l===void 0?!0:l,c=Ue(e,["prefixCls","className","hoverable"]);return t.createElement(U.C,null,function(m){var i=m.getPrefixCls,f=i("card",n),g=A()("".concat(f,"-grid"),r,(0,$.Z)({},"".concat(f,"-grid-hoverable"),o));return t.createElement("div",(0,z.Z)({},c,{className:g}))})},Ze=Xe,Ye=function(a,e){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(a);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(a,r[l])&&(n[r[l]]=a[r[l]]);return n};function Je(a){var e=a.map(function(n,r){return t.createElement("li",{style:{width:"".concat(100/a.length,"%")},key:"action-".concat(r)},t.createElement("span",null,n))});return e}var qe=t.forwardRef(function(a,e){var n,r,l=t.useContext(U.E_),o=l.getPrefixCls,c=l.direction,m=t.useContext(Qe.Z),i=function(_){var K;(K=a.onTabChange)===null||K===void 0||K.call(a,_)},f=function(){var _;return t.Children.forEach(a.children,function(K){K&&K.type&&K.type===Ze&&(_=!0)}),_},g=a.prefixCls,D=a.className,S=a.extra,P=a.headStyle,E=P===void 0?{}:P,T=a.bodyStyle,j=T===void 0?{}:T,y=a.title,p=a.loading,Z=a.bordered,v=Z===void 0?!0:Z,d=a.size,N=a.type,I=a.cover,R=a.actions,L=a.tabList,u=a.children,O=a.activeTabKey,b=a.defaultActiveTabKey,x=a.tabBarExtraContent,G=a.hoverable,k=a.tabProps,q=k===void 0?{}:k,ve=Ye(a,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),B=o("card",g),me=t.createElement(C.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},u),Te=O!==void 0,kt=(0,z.Z)((0,z.Z)({},q),(n={},(0,$.Z)(n,Te?"activeKey":"defaultActiveKey",Te?O:b),(0,$.Z)(n,"tabBarExtraContent",x),n)),De,Ne=L&&L.length?t.createElement(pe.Z,(0,z.Z)({size:"large"},kt,{className:"".concat(B,"-head-tabs"),onChange:i}),L.map(function(W){return t.createElement(pe.Z.TabPane,{tab:W.tab,disabled:W.disabled,key:W.key})})):null;(y||S||Ne)&&(De=t.createElement("div",{className:"".concat(B,"-head"),style:E},t.createElement("div",{className:"".concat(B,"-head-wrapper")},y&&t.createElement("div",{className:"".concat(B,"-head-title")},y),S&&t.createElement("div",{className:"".concat(B,"-extra")},S)),Ne));var Kt=I?t.createElement("div",{className:"".concat(B,"-cover")},I):null,Ht=t.createElement("div",{className:"".concat(B,"-body"),style:j},p?me:u),Gt=R&&R.length?t.createElement("ul",{className:"".concat(B,"-actions")},Je(R)):null,Wt=(0,Ve.Z)(ve,["onTabChange"]),Ie=d||m,Vt=A()(B,(r={},(0,$.Z)(r,"".concat(B,"-loading"),p),(0,$.Z)(r,"".concat(B,"-bordered"),v),(0,$.Z)(r,"".concat(B,"-hoverable"),G),(0,$.Z)(r,"".concat(B,"-contain-grid"),f()),(0,$.Z)(r,"".concat(B,"-contain-tabs"),L&&L.length),(0,$.Z)(r,"".concat(B,"-").concat(Ie),Ie),(0,$.Z)(r,"".concat(B,"-type-").concat(N),!!N),(0,$.Z)(r,"".concat(B,"-rtl"),c==="rtl"),r),D);return t.createElement("div",(0,z.Z)({ref:e},Wt,{className:Vt}),De,Kt,Ht,Gt)}),_e=qe,et=function(a,e){var n={};for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&e.indexOf(r)<0&&(n[r]=a[r]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(a);l<r.length;l++)e.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(a,r[l])&&(n[r[l]]=a[r[l]]);return n},tt=function(e){return t.createElement(U.C,null,function(n){var r=n.getPrefixCls,l=e.prefixCls,o=e.className,c=e.avatar,m=e.title,i=e.description,f=et(e,["prefixCls","className","avatar","title","description"]),g=r("card",l),D=A()("".concat(g,"-meta"),o),S=c?t.createElement("div",{className:"".concat(g,"-meta-avatar")},c):null,P=m?t.createElement("div",{className:"".concat(g,"-meta-title")},m):null,E=i?t.createElement("div",{className:"".concat(g,"-meta-description")},i):null,T=P||E?t.createElement("div",{className:"".concat(g,"-meta-detail")},P,E):null;return t.createElement("div",(0,z.Z)({},f,{className:D}),S,T)})},at=tt,ie=_e;ie.Grid=Ze,ie.Meta=at;var M=ie,oe=s(59171),ea=s(39593),nt=s(9583),ce=function(e){var n=e.padding;return t.createElement("div",{style:{padding:n||"0 24px"}},t.createElement(nt.Z,{style:{margin:0}}))},rt={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},lt=function(e){var n=e.size,r=e.active,l=(0,oe.ZP)(),o=n===void 0?rt[l]||6:n,c=function(i){return i===0?0:o>2?42:16};return t.createElement(M,{bordered:!1,style:{marginBottom:16}},t.createElement("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"}},new Array(o).fill(null).map(function(m,i){return t.createElement("div",{key:i,style:{borderLeft:o>2&&i===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingLeft:c(i),flex:1,marginRight:i===0?16:0}},t.createElement(C.Z,{active:r,paragraph:!1,title:{width:100,style:{marginTop:0}}}),t.createElement(C.Z.Button,{active:r,style:{height:48}}))})))},it=function(e){var n=e.active;return t.createElement(t.Fragment,null,t.createElement(M,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24}},t.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"}},t.createElement("div",{style:{maxWidth:"100%",flex:1}},t.createElement(C.Z,{active:n,title:{width:100,style:{marginTop:0}},paragraph:{rows:1,style:{margin:0}}})),t.createElement(C.Z.Button,{active:n,size:"small",style:{width:165,marginTop:12}}))),t.createElement(ce,null))},ot=function(e){var n=e.size,r=e.active,l=r===void 0?!0:r,o=e.actionButton;return t.createElement(M,{bordered:!1,bodyStyle:{padding:0}},new Array(n).fill(null).map(function(c,m){return t.createElement(it,{key:m,active:!!l})}),o!==!1&&t.createElement(M,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"}},t.createElement(C.Z.Button,{style:{width:102},active:l,size:"small"})))},se=function(e){var n=e.active;return t.createElement("div",{style:{marginBottom:16}},t.createElement(C.Z,{paragraph:!1,title:{width:185}}),t.createElement(C.Z.Button,{active:n,size:"small"}))},ct=function(e){var n=e.active;return t.createElement(M,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBottom:8}},t.createElement(H.Z,{style:{width:"100%",justifyContent:"space-between"}},t.createElement(C.Z.Button,{active:n,style:{width:200},size:"small"}),t.createElement(H.Z,null,t.createElement(C.Z.Button,{active:n,size:"small",style:{width:120}}),t.createElement(C.Z.Button,{active:n,size:"small",style:{width:80}}))))},st=function(e){var n=e.active,r=n===void 0?!0:n,l=e.statistic,o=e.actionButton,c=e.toolbar,m=e.pageHeader,i=e.list,f=i===void 0?5:i;return t.createElement("div",{style:{width:"100%"}},m!==!1&&t.createElement(se,{active:r}),l!==!1&&t.createElement(lt,{size:l,active:r}),(c!==!1||f!==!1)&&t.createElement(M,{bordered:!1,bodyStyle:{padding:0}},c!==!1&&t.createElement(ct,{active:r}),f!==!1&&t.createElement(ot,{size:f,active:r,actionButton:o})))},dt=st,xe={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},ut=function(e){var n=e.active;return t.createElement("div",{style:{marginTop:32}},t.createElement(C.Z.Button,{active:n,size:"small",style:{width:100,marginBottom:16}}),t.createElement("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"}},t.createElement("div",{style:{flex:1,marginRight:24,maxWidth:300}},t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{marginTop:0}}}),t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}}),t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}})),t.createElement("div",{style:{flex:1,alignItems:"center",justifyContent:"center"}},t.createElement("div",{style:{maxWidth:300,margin:"auto"}},t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{marginTop:0}}}),t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}})))))},vt=function(e){var n=e.size,r=e.active,l=(0,oe.ZP)(),o=n===void 0?xe[l]||3:n;return t.createElement("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"}},new Array(o).fill(null).map(function(c,m){return t.createElement("div",{key:m,style:{flex:1,paddingLeft:m===0?0:24,paddingRight:m===o-1?0:24}},t.createElement(C.Z,{active:r,paragraph:!1,title:{style:{marginTop:0}}}),t.createElement(C.Z,{active:r,paragraph:!1,title:{style:{marginTop:8}}}),t.createElement(C.Z,{active:r,paragraph:!1,title:{style:{marginTop:8}}}))}))},Ce=function(e){var n=e.active,r=e.header,l=r===void 0?!1:r,o=(0,oe.ZP)(),c=xe[o]||3;return t.createElement(t.Fragment,null,t.createElement("div",{style:{display:"flex",background:l?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"}},new Array(c).fill(null).map(function(m,i){return t.createElement("div",{key:i,style:{flex:1,paddingLeft:l&&i===0?0:20,paddingRight:32}},t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{margin:0,height:24,width:l?"75px":"100%"}}}))}),t.createElement("div",{style:{flex:3,paddingLeft:32}},t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{margin:0,height:24,width:l?"75px":"100%"}}}))),t.createElement(ce,{padding:"0px 0px"}))},mt=function(e){var n=e.active,r=e.size,l=r===void 0?4:r;return t.createElement(M,{bordered:!1},t.createElement(C.Z.Button,{active:n,size:"small",style:{width:100,marginBottom:16}}),t.createElement(Ce,{header:!0,active:n}),new Array(l).fill(null).map(function(o,c){return t.createElement(Ce,{key:c,active:n})}),t.createElement("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:16}},t.createElement(C.Z,{active:n,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})))},ft=function(e){var n=e.active;return t.createElement(M,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0}},t.createElement(C.Z.Button,{active:n,size:"small",style:{width:100,marginBottom:16}}),t.createElement(vt,{active:n}),t.createElement(ut,{active:n}))},yt=function(e){var n=e.active,r=n===void 0?!0:n,l=e.pageHeader,o=e.list;return t.createElement("div",{style:{width:"100%"}},l!==!1&&t.createElement(se,{active:r}),t.createElement(ft,{active:r}),o!==!1&&t.createElement(ce,null),o!==!1&&t.createElement(mt,{active:r,size:o}))},gt=yt,ht=function(e){var n=e.active,r=n===void 0?!0:n,l=e.pageHeader;return t.createElement("div",{style:{width:"100%"}},l!==!1&&t.createElement(se,{active:r}),t.createElement(M,null,t.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128}},t.createElement(C.Z.Avatar,{size:64,style:{marginBottom:32}}),t.createElement(C.Z.Button,{active:r,style:{width:214,marginBottom:8}}),t.createElement(C.Z.Button,{active:r,style:{width:328},size:"small"}),t.createElement(H.Z,{style:{marginTop:24}},t.createElement(C.Z.Button,{active:r,style:{width:116}}),t.createElement(C.Z.Button,{active:r,style:{width:116}})))))},Et=ht,bt=["type"],pt=function(e){var n=e.type,r=n===void 0?"list":n,l=(0,re.Z)(e,bt);return r==="result"?t.createElement(Et,l):r==="descriptions"?t.createElement(gt,l):t.createElement(dt,l)},Zt=pt,ta=s(89801),xt=s(71810),Ct=s(94023),de=s(28850),J=s(57579);function St(a){var e=a.data,n=a.row;return(0,h.Z)((0,h.Z)({},e),n)}function Pt(a){var e=a.type||"single",n=(0,de.Z)([],{value:a.editableKeys,onChange:a.onChange?function(y){var p;a==null||(p=a.onChange)===null||p===void 0||p.call(a,y,a.dataSource)}:void 0}),r=(0,Q.Z)(n,2),l=r[0],o=r[1],c=(0,t.useMemo)(function(){var y=e==="single"?l==null?void 0:l.slice(0,1):l;return new Set(y)},[(l||[]).join(","),e]),m=(0,t.useCallback)(function(y){return!!(l!=null&&l.includes((0,J.sN)(y)))},[(l||[]).join(",")]),i=function(p){return c.size>0&&e==="single"?(xt.ZP.warn(a.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1):(c.add((0,J.sN)(p)),o(Array.from(c)),!0)},f=function(p){return c.delete((0,J.sN)(p)),o(Array.from(c)),!0},g=function(){var y=(0,V.Z)((0,F.Z)().mark(function p(Z,v,d,N){var I,R;return(0,F.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a==null||(I=a.onCancel)===null||I===void 0?void 0:I.call(a,Z,v,d,N);case 2:if(R=u.sent,R!==!1){u.next=5;break}return u.abrupt("return",!1);case 5:return u.abrupt("return",!0);case 6:case"end":return u.stop()}},p)}));return function(Z,v,d,N){return y.apply(this,arguments)}}(),D=function(){var y=(0,V.Z)((0,F.Z)().mark(function p(Z,v,d){var N,I,R;return(0,F.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,a==null||(N=a.onSave)===null||N===void 0?void 0:N.call(a,Z,v,d);case 2:if(I=u.sent,I!==!1){u.next=5;break}return u.abrupt("return",!1);case 5:return f(Z),R={data:a.dataSource,row:v,key:Z,childrenColumnName:a.childrenColumnName||"children"},a.setDataSource(St(R)),u.abrupt("return",!0);case 9:case"end":return u.stop()}},p)}));return function(Z,v,d){return y.apply(this,arguments)}}(),S=(0,Ct.YB)(),P=S.getMessage("editableTable.action.save","\u4FDD\u5B58"),E=S.getMessage("editableTable.action.delete","\u5220\u9664"),T=S.getMessage("editableTable.action.cancel","\u53D6\u6D88"),j=(0,t.useCallback)(function(y,p,Z){var v=(0,h.Z)({recordKey:y,cancelEditable:f,onCancel:g,onSave:D,editableKeys:l,setEditableRowKeys:o,form:p,saveText:P,cancelText:T,deleteText:E,deletePopconfirmMessage:"\u5220\u9664\u6B64\u884C\uFF1F",editorType:"Map"},Z),d=(0,J.aX)(a.dataSource,v);return a.actionRender?a.actionRender(a.dataSource,v,{save:d[0],delete:d[1],cancel:d[2]}):d},[l&&l.join(","),a.dataSource]);return{editableKeys:l,setEditableRowKeys:o,isEditable:m,actionRender:j,startEditable:i,cancelEditable:f}}var Tt=Pt,ue=s(92721),Dt=s(32061),Nt=s(18827),Se=s(38028),It=s(44154),Rt=s(85621),wt=s(44205),jt=function(e,n){var r=n||{},l=r.onRequestError,o=r.effects,c=r.manual,m=r.dataSource,i=r.defaultDataSource,f=r.onDataSourceChange,g=(0,de.Z)(i,{value:m,onChange:f}),D=(0,Q.Z)(g,2),S=D[0],P=D[1],E=(0,de.Z)(n==null?void 0:n.loading,{value:n==null?void 0:n.loading,onChange:n==null?void 0:n.onLoadingChange}),T=(0,Q.Z)(E,2),j=T[0],y=T[1],p=function(d){P(d),y(!1)},Z=function(){var v=(0,V.Z)((0,F.Z)().mark(function d(){var N,I,R;return(0,F.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!j){u.next=2;break}return u.abrupt("return");case 2:return y(!0),u.prev=3,u.next=6,e();case 6:if(u.t0=u.sent,u.t0){u.next=9;break}u.t0={};case 9:N=u.t0,I=N.data,R=N.success,R!==!1&&p(I),u.next=23;break;case 15:if(u.prev=15,u.t1=u.catch(3),l!==void 0){u.next=21;break}throw new Error(u.t1);case 21:l(u.t1);case 22:y(!1);case 23:case"end":return u.stop()}},d,null,[[3,15]])}));return function(){return v.apply(this,arguments)}}();return(0,t.useEffect)(function(){c||Z()},[].concat((0,ee.Z)(o||[]),[c])),{dataSource:S,setDataSource:P,loading:j,reload:function(){return Z()}}},Lt=jt,zt=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],Bt=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],$t=function(e,n){var r=e.dataIndex;if(r){var l=Array.isArray(r)?(0,Rt.Z)(n,r):n[r];if(l!==void 0||l!==null)return l}return e.children},Ot=function(e){var n=e.valueEnum,r=e.action,l=e.index,o=e.text,c=e.entity,m=e.mode,i=e.render,f=e.editableUtils,g=e.valueType,D=e.plain,S=e.dataIndex,P=e.request,E=e.renderFormItem,T=e.params,j={text:o,valueEnum:n,mode:m||"read",proFieldProps:{render:i?function(){return i==null?void 0:i(o,c,l,r,(0,h.Z)((0,h.Z)({},e),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:g,request:P,params:T,plain:D};if(m==="read"||!m||g==="option"){var y=(0,ue.Z)(e.fieldProps,void 0,(0,h.Z)((0,h.Z)({},e),{},{rowKey:S,isEditable:!1}));return(0,w.jsx)(le.Z,(0,h.Z)((0,h.Z)({name:S},j),{},{fieldProps:y}))}return(0,w.jsx)("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:(0,w.jsx)(ke.Z.Item,{noStyle:!0,shouldUpdate:function(Z,v){return Z!==v},children:function(Z){var v,d=(0,ue.Z)(e.formItemProps,Z,(0,h.Z)((0,h.Z)({},e),{},{rowKey:S,isEditable:!0})),N=(0,ue.Z)(e.fieldProps,Z,(0,h.Z)((0,h.Z)({},e),{},{rowKey:S,isEditable:!0})),I=E?E==null?void 0:E((0,h.Z)((0,h.Z)({},e),{},{type:"descriptions"}),{isEditable:!0,recordKey:S,record:Z.getFieldValue([S].flat(1)),defaultRender:function(){return(0,w.jsx)(le.Z,(0,h.Z)((0,h.Z)({},j),{},{fieldProps:N}))},type:"descriptions"},Z):void 0;return(0,w.jsxs)(H.Z,{children:[(0,w.jsx)(Dt.Z,(0,h.Z)((0,h.Z)({name:S},d),{},{style:(0,h.Z)({margin:0},(d==null?void 0:d.style)||{}),initialValue:o||(d==null?void 0:d.initialValue),children:I||(0,w.jsx)(le.Z,(0,h.Z)((0,h.Z)({},j),{},{proFieldProps:(0,h.Z)({},j.proFieldProps),fieldProps:N}))})),f==null||(v=f.actionRender)===null||v===void 0?void 0:v.call(f,S||l,Z,{cancelText:(0,w.jsx)(Ke.Z,{}),saveText:(0,w.jsx)(He.Z,{}),deleteText:!1})]})}})})},Mt=function(e,n,r,l){var o,c=[],m=e==null||(o=e.map)===null||o===void 0?void 0:o.call(e,function(i,f){var g,D;if(t.isValidElement(i))return i;var S=i.valueEnum,P=i.render,E=i.renderText,T=i.mode,j=i.plain,y=i.dataIndex,p=i.request,Z=i.params,v=i.editable,d=(0,re.Z)(i,zt),N=(g=$t(i,n))!==null&&g!==void 0?g:d.children,I=E?E(N,n,f,r):N,R=typeof d.title=="function"?d.title(i,"descriptions",null):d.title,L=typeof d.valueType=="function"?d.valueType(n||{},"descriptions"):d.valueType,u=l==null?void 0:l.isEditable(y||f),O=T||u?"edit":"read",b=l&&O==="read"&&v!==!1&&(v==null?void 0:v(I,n,f))!==!1,x=b?H.Z:t.Fragment,G=O==="edit"?I:(0,Nt.X)(I,i,I),k=(0,t.createElement)(ne.Item,(0,h.Z)((0,h.Z)({},d),{},{key:d.key||((D=d.label)===null||D===void 0?void 0:D.toString())||f,label:(R||d.label||d.tooltip||d.tip)&&(0,w.jsx)(Se.Z,{label:R||d.label,tooltip:d.tooltip||d.tip,ellipsis:i.ellipsis})}),(0,w.jsxs)(x,{children:[(0,w.jsx)(Ot,(0,h.Z)((0,h.Z)({},i),{},{dataIndex:i.dataIndex||f,mode:O,text:G,valueType:L,entity:n,index:f,action:r,editableUtils:l})),b&&L!=="option"&&(0,w.jsx)(Ge.Z,{onClick:function(){l==null||l.startEditable(y||f)}})]}));return L==="option"?(c.push(k),null):k}).filter(function(i){return i});return{options:c!=null&&c.length?c:null,children:m}},Ft=function(e){return(0,w.jsx)(ne.Item,(0,h.Z)((0,h.Z)({},e),{},{children:e.children}))},At=function(e){return e.children},Pe=function(e){var n,r=e.request,l=e.columns,o=e.params,c=o===void 0?{}:o,m=e.dataSource,i=e.onDataSourceChange,f=e.formProps,g=e.editable,D=e.loading,S=e.onLoadingChange,P=e.actionRef,E=e.onRequestError,T=(0,re.Z)(e,Bt),j=(0,t.useContext)(we.ZP.ConfigContext),y=Lt((0,V.Z)((0,F.Z)().mark(function u(){var O;return(0,F.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!r){x.next=6;break}return x.next=3,r(c);case 3:x.t0=x.sent,x.next=7;break;case 6:x.t0={data:{}};case 7:return O=x.t0,x.abrupt("return",O);case 9:case"end":return x.stop()}},u)})),{onRequestError:E,effects:[(0,wt.P)(c)],manual:!r,dataSource:m,loading:D,onLoadingChange:S,onDataSourceChange:i}),p=Tt((0,h.Z)((0,h.Z)({},e.editable),{},{childrenColumnName:void 0,dataSource:y.dataSource,setDataSource:y.setDataSource}));if((0,t.useEffect)(function(){P&&(P.current=(0,h.Z)({reload:y.reload},p))},[y,P,p]),y.loading||y.loading===void 0&&r)return(0,w.jsx)(Zt,{type:"descriptions",list:!1,pageHeader:!1});var Z=function(){var O=(0,ye.Z)(e.children).filter(Boolean).map(function(b){if(!t.isValidElement(b))return b;var x=b==null?void 0:b.props,G=x.valueEnum,k=x.valueType,q=x.dataIndex,ve=x.ellipsis,B=x.copyable,me=x.request;return!k&&!G&&!q&&!me&&!ve&&!B?b:(0,h.Z)((0,h.Z)({},b==null?void 0:b.props),{},{entity:m})});return[].concat((0,ee.Z)(l||[]),(0,ee.Z)(O)).filter(function(b){return!b||(b==null?void 0:b.valueType)&&["index","indexBorder"].includes(b==null?void 0:b.valueType)?!1:!(b!=null&&b.hideInDescriptions)}).sort(function(b,x){return x.order||b.order?(x.order||0)-(b.order||0):(x.index||0)-(b.index||0)})},v=Mt(Z(),y.dataSource||{},(P==null?void 0:P.current)||y,g?p:void 0),d=v.options,N=v.children,I=g?We.ZP:At,R=null;(T.title||T.tooltip||T.tip)&&(R=(0,w.jsx)(Se.Z,{label:T.title,tooltip:T.tooltip||T.tip}));var L=j.getPrefixCls("pro-descriptions");return(0,w.jsx)(It.Z,{children:(0,w.jsx)(I,(0,h.Z)((0,h.Z)({form:(n=e.editable)===null||n===void 0?void 0:n.form,component:!1,submitter:!1},f),{},{onFinish:void 0,children:(0,w.jsx)(ne,(0,h.Z)((0,h.Z)({className:L},T),{},{extra:T.extra?(0,w.jsxs)(H.Z,{children:[d,T.extra]}):d,title:R,children:N}))}),"form")})};Pe.Item=Ft;var aa=null}}]);
