"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[238],{79238:function(Vt,Ie,c){c.d(Ie,{vY:function(){return Pe}});var ee=c(41384),F=c(43219),V=c(77036),Qt=c(70696),Re=c(84212),Xt=c(21382),$=c(82269),Q=c(17361),me=c(31307),Le=c(19803),A=c.n(Le),ye=c(14191),s=c(50959),X=c(73164),ze=c(1509),Y=c(2697),Be=function(e){var t=e.children;return t},$e=Be,z=c(62081);function J(a){return a!=null}var Oe=function(e){var t=e.itemPrefixCls,n=e.component,l=e.span,i=e.className,d=e.style,u=e.labelStyle,o=e.contentStyle,x=e.bordered,y=e.label,T=e.content,D=e.colon,E=n;if(x){var b;return s.createElement(E,{className:A()((b={},(0,$.Z)(b,"".concat(t,"-item-label"),J(y)),(0,$.Z)(b,"".concat(t,"-item-content"),J(T)),b),i),style:d,colSpan:l},J(y)&&s.createElement("span",{style:u},y),J(T)&&s.createElement("span",{style:o},T))}return s.createElement(E,{className:A()("".concat(t,"-item"),i),style:d,colSpan:l},s.createElement("div",{className:"".concat(t,"-item-container")},(y||y===0)&&s.createElement("span",{className:A()("".concat(t,"-item-label"),(0,$.Z)({},"".concat(t,"-item-no-colon"),!D)),style:u},y),(T||T===0)&&s.createElement("span",{className:A()("".concat(t,"-item-content")),style:o},T)))},te=Oe;function ae(a,e,t){var n=e.colon,l=e.prefixCls,i=e.bordered,d=t.component,u=t.type,o=t.showLabel,x=t.showContent,y=t.labelStyle,T=t.contentStyle;return a.map(function(D,E){var b=D.props,P=b.label,L=b.children,f=b.prefixCls,Z=f===void 0?l:f,N=b.className,h=b.style,g=b.labelStyle,C=b.contentStyle,w=b.span,I=w===void 0?1:w,R=D.key;return typeof d=="string"?s.createElement(te,{key:"".concat(u,"-").concat(R||E),className:N,style:h,labelStyle:(0,z.Z)((0,z.Z)({},y),g),contentStyle:(0,z.Z)((0,z.Z)({},T),C),span:I,colon:n,component:d,itemPrefixCls:Z,bordered:i,label:o?P:null,content:x?L:null}):[s.createElement(te,{key:"label-".concat(R||E),className:N,style:(0,z.Z)((0,z.Z)((0,z.Z)({},y),h),g),span:1,colon:n,component:d[0],itemPrefixCls:Z,bordered:i,label:P}),s.createElement(te,{key:"content-".concat(R||E),className:N,style:(0,z.Z)((0,z.Z)((0,z.Z)({},T),h),C),span:I*2-1,component:d[1],itemPrefixCls:Z,bordered:i,content:L})]})}var Me=function(e){var t=s.useContext(ge),n=e.prefixCls,l=e.vertical,i=e.row,d=e.index,u=e.bordered;return l?s.createElement(s.Fragment,null,s.createElement("tr",{key:"label-".concat(d),className:"".concat(n,"-row")},ae(i,e,(0,z.Z)({component:"th",type:"label",showLabel:!0},t))),s.createElement("tr",{key:"content-".concat(d),className:"".concat(n,"-row")},ae(i,e,(0,z.Z)({component:"td",type:"content",showContent:!0},t)))):s.createElement("tr",{key:d,className:"".concat(n,"-row")},ae(i,e,(0,z.Z)({component:u?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},Fe=Me,ge=s.createContext({}),he={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Ae(a,e){if(typeof a=="number")return a;if((0,me.Z)(a)==="object")for(var t=0;t<Y.c4.length;t++){var n=Y.c4[t];if(e[n]&&a[n]!==void 0)return a[n]||he[n]}return 3}function xe(a,e,t){var n=a;return(e===void 0||e>t)&&(n=(0,ze.Tm)(a,{span:t})),n}function Ke(a,e){var t=(0,ye.Z)(a).filter(function(d){return d}),n=[],l=[],i=e;return t.forEach(function(d,u){var o,x=(o=d.props)===null||o===void 0?void 0:o.span,y=x||1;if(u===t.length-1){l.push(xe(d,x,i)),n.push(l);return}y<i?(i-=y,l.push(d)):(l.push(xe(d,y,i)),n.push(l),i=e,l=[])}),n}function be(a){var e,t=a.prefixCls,n=a.title,l=a.extra,i=a.column,d=i===void 0?he:i,u=a.colon,o=u===void 0?!0:u,x=a.bordered,y=a.layout,T=a.children,D=a.className,E=a.style,b=a.size,P=a.labelStyle,L=a.contentStyle,f=s.useContext(X.E_),Z=f.getPrefixCls,N=f.direction,h=Z("descriptions",t),g=s.useState({}),C=(0,Q.Z)(g,2),w=C[0],I=C[1],R=Ae(d,w);s.useEffect(function(){var p=Y.ZP.subscribe(function(j){(0,me.Z)(d)==="object"&&I(j)});return function(){Y.ZP.unsubscribe(p)}},[]);var v=Ke(T,R),O=s.useMemo(function(){return{labelStyle:P,contentStyle:L}},[P,L]);return s.createElement(ge.Provider,{value:O},s.createElement("div",{className:A()(h,(e={},(0,$.Z)(e,"".concat(h,"-").concat(b),b&&b!=="default"),(0,$.Z)(e,"".concat(h,"-bordered"),!!x),(0,$.Z)(e,"".concat(h,"-rtl"),N==="rtl"),e),D),style:E},(n||l)&&s.createElement("div",{className:"".concat(h,"-header")},n&&s.createElement("div",{className:"".concat(h,"-title")},n),l&&s.createElement("div",{className:"".concat(h,"-extra")},l)),s.createElement("div",{className:"".concat(h,"-view")},s.createElement("table",null,s.createElement("tbody",null,v.map(function(p,j){return s.createElement(Fe,{key:j,index:j,colon:o,prefixCls:h,vertical:y==="vertical",bordered:x,row:p})}))))))}be.Item=$e;var ne=be,re=c(40107),Yt=c(64991),H=c(40190),m=c(84045),r=c(11527),ke=c(24530),He=c(88021),Ge=c(17073),pe=c(85237),le=c(20673),Jt=c(37818),Ut=c(97214),We=c(99035),Ve=c(11721),S=c(4600),Ze=c(10268),Qe=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(t[n[l]]=a[n[l]]);return t},Xe=function(e){var t=e.prefixCls,n=e.className,l=e.hoverable,i=l===void 0?!0:l,d=Qe(e,["prefixCls","className","hoverable"]);return s.createElement(X.C,null,function(u){var o=u.getPrefixCls,x=o("card",t),y=A()("".concat(x,"-grid"),n,(0,$.Z)({},"".concat(x,"-grid-hoverable"),i));return s.createElement("div",(0,z.Z)({},d,{className:y}))})},Ce=Xe,Ye=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(t[n[l]]=a[n[l]]);return t};function Je(a){var e=a.map(function(t,n){return s.createElement("li",{style:{width:"".concat(100/a.length,"%")},key:"action-".concat(n)},s.createElement("span",null,t))});return e}var Ue=s.forwardRef(function(a,e){var t,n,l=s.useContext(X.E_),i=l.getPrefixCls,d=l.direction,u=s.useContext(Ve.Z),o=function(_){var k;(k=a.onTabChange)===null||k===void 0||k.call(a,_)},x=function(){var _;return s.Children.forEach(a.children,function(k){k&&k.type&&k.type===Ce&&(_=!0)}),_},y=a.prefixCls,T=a.className,D=a.extra,E=a.headStyle,b=E===void 0?{}:E,P=a.bodyStyle,L=P===void 0?{}:P,f=a.title,Z=a.loading,N=a.bordered,h=N===void 0?!0:N,g=a.size,C=a.type,w=a.cover,I=a.actions,R=a.tabList,v=a.children,O=a.activeTabKey,p=a.defaultActiveTabKey,j=a.tabBarExtraContent,G=a.hoverable,K=a.tabProps,q=K===void 0?{}:K,ue=Ye(a,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),B=i("card",y),fe=s.createElement(S.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},v),Te=O!==void 0,At=(0,z.Z)((0,z.Z)({},q),(t={},(0,$.Z)(t,Te?"activeKey":"defaultActiveKey",Te?O:p),(0,$.Z)(t,"tabBarExtraContent",j),t)),De,Ne=R&&R.length?s.createElement(Ze.Z,(0,z.Z)({size:"large"},At,{className:"".concat(B,"-head-tabs"),onChange:o}),R.map(function(W){return s.createElement(Ze.Z.TabPane,{tab:W.tab,disabled:W.disabled,key:W.key})})):null;(f||D||Ne)&&(De=s.createElement("div",{className:"".concat(B,"-head"),style:b},s.createElement("div",{className:"".concat(B,"-head-wrapper")},f&&s.createElement("div",{className:"".concat(B,"-head-title")},f),D&&s.createElement("div",{className:"".concat(B,"-extra")},D)),Ne));var Kt=w?s.createElement("div",{className:"".concat(B,"-cover")},w):null,kt=s.createElement("div",{className:"".concat(B,"-body"),style:L},Z?fe:v),Ht=I&&I.length?s.createElement("ul",{className:"".concat(B,"-actions")},Je(I)):null,Gt=(0,We.Z)(ue,["onTabChange"]),we=g||u,Wt=A()(B,(n={},(0,$.Z)(n,"".concat(B,"-loading"),Z),(0,$.Z)(n,"".concat(B,"-bordered"),h),(0,$.Z)(n,"".concat(B,"-hoverable"),G),(0,$.Z)(n,"".concat(B,"-contain-grid"),x()),(0,$.Z)(n,"".concat(B,"-contain-tabs"),R&&R.length),(0,$.Z)(n,"".concat(B,"-").concat(we),we),(0,$.Z)(n,"".concat(B,"-type-").concat(C),!!C),(0,$.Z)(n,"".concat(B,"-rtl"),d==="rtl"),n),T);return s.createElement("div",(0,z.Z)({ref:e},Gt,{className:Wt}),De,Kt,kt,Ht)}),qe=Ue,_e=function(a,e){var t={};for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&e.indexOf(n)<0&&(t[n]=a[n]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(a);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(a,n[l])&&(t[n[l]]=a[n[l]]);return t},et=function(e){return s.createElement(X.C,null,function(t){var n=t.getPrefixCls,l=e.prefixCls,i=e.className,d=e.avatar,u=e.title,o=e.description,x=_e(e,["prefixCls","className","avatar","title","description"]),y=n("card",l),T=A()("".concat(y,"-meta"),i),D=d?s.createElement("div",{className:"".concat(y,"-meta-avatar")},d):null,E=u?s.createElement("div",{className:"".concat(y,"-meta-title")},u):null,b=o?s.createElement("div",{className:"".concat(y,"-meta-description")},o):null,P=E||b?s.createElement("div",{className:"".concat(y,"-meta-detail")},E,b):null;return s.createElement("div",(0,z.Z)({},x,{className:T}),D,P)})},tt=et,ie=qe;ie.Grid=Ce,ie.Meta=tt;var M=ie,se=c(59171),qt=c(95439),at=c(51476),oe=function(e){var t=e.padding;return(0,r.jsx)("div",{style:{padding:t||"0 24px"},children:(0,r.jsx)(at.Z,{style:{margin:0}})})},nt={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},rt=function(e){var t=e.size,n=e.active,l=(0,se.ZP)(),i=t===void 0?nt[l]||6:t,d=function(o){return o===0?0:i>2?42:16};return(0,r.jsx)(M,{bordered:!1,style:{marginBottom:16},children:(0,r.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(i).fill(null).map(function(u,o){return(0,r.jsxs)("div",{style:{borderLeft:i>2&&o===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingLeft:d(o),flex:1,marginRight:o===0?16:0},children:[(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{width:100,style:{marginTop:0}}}),(0,r.jsx)(S.Z.Button,{active:n,style:{height:48}})]},o)})})})},lt=function(e){var t=e.active;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24},children:(0,r.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)("div",{style:{maxWidth:"100%",flex:1},children:(0,r.jsx)(S.Z,{active:t,title:{width:100,style:{marginTop:0}},paragraph:{rows:1,style:{margin:0}}})}),(0,r.jsx)(S.Z.Button,{active:t,size:"small",style:{width:165,marginTop:12}})]})}),(0,r.jsx)(oe,{})]})},it=function(e){var t=e.size,n=e.active,l=n===void 0?!0:n,i=e.actionButton;return(0,r.jsxs)(M,{bordered:!1,bodyStyle:{padding:0},children:[new Array(t).fill(null).map(function(d,u){return(0,r.jsx)(lt,{active:!!l},u)}),i!==!1&&(0,r.jsx)(M,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(S.Z.Button,{style:{width:102},active:l,size:"small"})})]})},de=function(e){var t=e.active;return(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)(S.Z,{paragraph:!1,title:{width:185}}),(0,r.jsx)(S.Z.Button,{active:t,size:"small"})]})},st=function(e){var t=e.active;return(0,r.jsx)(M,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBottom:8},children:(0,r.jsxs)(H.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(S.Z.Button,{active:t,style:{width:200},size:"small"}),(0,r.jsxs)(H.Z,{children:[(0,r.jsx)(S.Z.Button,{active:t,size:"small",style:{width:120}}),(0,r.jsx)(S.Z.Button,{active:t,size:"small",style:{width:80}})]})]})})},ot=function(e){var t=e.active,n=t===void 0?!0:t,l=e.statistic,i=e.actionButton,d=e.toolbar,u=e.pageHeader,o=e.list,x=o===void 0?5:o;return(0,r.jsxs)("div",{style:{width:"100%"},children:[u!==!1&&(0,r.jsx)(de,{active:n}),l!==!1&&(0,r.jsx)(rt,{size:l,active:n}),(d!==!1||x!==!1)&&(0,r.jsxs)(M,{bordered:!1,bodyStyle:{padding:0},children:[d!==!1&&(0,r.jsx)(st,{active:n}),x!==!1&&(0,r.jsx)(it,{size:x,active:n,actionButton:i})]})]})},dt=ot,je={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},ct=function(e){var t=e.active;return(0,r.jsxs)("div",{style:{marginTop:32},children:[(0,r.jsx)(S.Z.Button,{active:t,size:"small",style:{width:100,marginBottom:16}}),(0,r.jsxs)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:[(0,r.jsxs)("div",{style:{flex:1,marginRight:24,maxWidth:300},children:[(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{marginTop:0}}}),(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{marginTop:8}}}),(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{marginTop:8}}})]}),(0,r.jsx)("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)("div",{style:{maxWidth:300,margin:"auto"},children:[(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{marginTop:0}}}),(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{marginTop:8}}})]})})]})]})},vt=function(e){var t=e.size,n=e.active,l=(0,se.ZP)(),i=t===void 0?je[l]||3:t;return(0,r.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(i).fill(null).map(function(d,u){return(0,r.jsxs)("div",{style:{flex:1,paddingLeft:u===0?0:24,paddingRight:u===i-1?0:24},children:[(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{style:{marginTop:0}}}),(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}}),(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}})]},u)})})},Se=function(e){var t=e.active,n=e.header,l=n===void 0?!1:n,i=(0,se.ZP)(),d=je[i]||3;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"flex",background:l?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"},children:[new Array(d).fill(null).map(function(u,o){return(0,r.jsx)("div",{style:{flex:1,paddingLeft:l&&o===0?0:20,paddingRight:32},children:(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{margin:0,height:24,width:l?"75px":"100%"}}})},o)}),(0,r.jsx)("div",{style:{flex:3,paddingLeft:32},children:(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{margin:0,height:24,width:l?"75px":"100%"}}})})]}),(0,r.jsx)(oe,{padding:"0px 0px"})]})},ut=function(e){var t=e.active,n=e.size,l=n===void 0?4:n;return(0,r.jsxs)(M,{bordered:!1,children:[(0,r.jsx)(S.Z.Button,{active:t,size:"small",style:{width:100,marginBottom:16}}),(0,r.jsx)(Se,{header:!0,active:t}),new Array(l).fill(null).map(function(i,d){return(0,r.jsx)(Se,{active:t},d)}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:16},children:(0,r.jsx)(S.Z,{active:t,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})})]})},ft=function(e){var t=e.active;return(0,r.jsxs)(M,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},children:[(0,r.jsx)(S.Z.Button,{active:t,size:"small",style:{width:100,marginBottom:16}}),(0,r.jsx)(vt,{active:t}),(0,r.jsx)(ct,{active:t})]})},mt=function(e){var t=e.active,n=t===void 0?!0:t,l=e.pageHeader,i=e.list;return(0,r.jsxs)("div",{style:{width:"100%"},children:[l!==!1&&(0,r.jsx)(de,{active:n}),(0,r.jsx)(ft,{active:n}),i!==!1&&(0,r.jsx)(oe,{}),i!==!1&&(0,r.jsx)(ut,{active:n,size:i})]})},yt=mt,gt=function(e){var t=e.active,n=t===void 0?!0:t,l=e.pageHeader;return(0,r.jsxs)("div",{style:{width:"100%"},children:[l!==!1&&(0,r.jsx)(de,{active:n}),(0,r.jsx)(M,{children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128},children:[(0,r.jsx)(S.Z.Avatar,{size:64,style:{marginBottom:32}}),(0,r.jsx)(S.Z.Button,{active:n,style:{width:214,marginBottom:8}}),(0,r.jsx)(S.Z.Button,{active:n,style:{width:328},size:"small"}),(0,r.jsxs)(H.Z,{style:{marginTop:24},children:[(0,r.jsx)(S.Z.Button,{active:n,style:{width:116}}),(0,r.jsx)(S.Z.Button,{active:n,style:{width:116}})]})]})})]})},ht=gt,xt=["type"],bt=function(e){var t=e.type,n=t===void 0?"list":t,l=(0,re.Z)(e,xt);return n==="result"?(0,r.jsx)(ht,(0,m.Z)({},l)):n==="descriptions"?(0,r.jsx)(yt,(0,m.Z)({},l)):(0,r.jsx)(dt,(0,m.Z)({},l))},pt=bt,_t=c(20081),Zt=c(27375),Ct=c(63467),ce=c(52334),U=c(11873);function jt(a){var e=a.data,t=a.row;return(0,m.Z)((0,m.Z)({},e),t)}function St(a){var e=a.type||"single",t=(0,Ct.YB)(),n=(0,ce.Z)([],{value:a.editableKeys,onChange:a.onChange?function(f){var Z;a==null||(Z=a.onChange)===null||Z===void 0||Z.call(a,f,a.dataSource)}:void 0}),l=(0,Q.Z)(n,2),i=l[0],d=l[1],u=(0,s.useMemo)(function(){var f=e==="single"?i==null?void 0:i.slice(0,1):i;return new Set(f)},[(i||[]).join(","),e]),o=(0,s.useCallback)(function(f){return!!(i!=null&&i.includes((0,U.sN)(f)))},[(i||[]).join(",")]),x=function(Z){return u.size>0&&e==="single"?(Zt.ZP.warn(a.onlyOneLineEditorAlertMessage||t.getMessage("editableTable.onlyOneLineEditor","\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C")),!1):(u.add((0,U.sN)(Z)),d(Array.from(u)),!0)},y=function(Z){return u.delete((0,U.sN)(Z)),d(Array.from(u)),!0},T=function(){var f=(0,V.Z)((0,F.Z)().mark(function Z(N,h,g,C){var w,I;return(0,F.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,a==null||(w=a.onCancel)===null||w===void 0?void 0:w.call(a,N,h,g,C);case 2:if(I=v.sent,I!==!1){v.next=5;break}return v.abrupt("return",!1);case 5:return v.abrupt("return",!0);case 6:case"end":return v.stop()}},Z)}));return function(N,h,g,C){return f.apply(this,arguments)}}(),D=function(){var f=(0,V.Z)((0,F.Z)().mark(function Z(N,h,g){var C,w,I;return(0,F.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,a==null||(C=a.onSave)===null||C===void 0?void 0:C.call(a,N,h,g);case 2:if(w=v.sent,w!==!1){v.next=5;break}return v.abrupt("return",!1);case 5:return y(N),I={data:a.dataSource,row:h,key:N,childrenColumnName:a.childrenColumnName||"children"},a.setDataSource(jt(I)),v.abrupt("return",!0);case 9:case"end":return v.stop()}},Z)}));return function(N,h,g){return f.apply(this,arguments)}}(),E=t.getMessage("editableTable.action.save","\u4FDD\u5B58"),b=t.getMessage("editableTable.action.delete","\u5220\u9664"),P=t.getMessage("editableTable.action.cancel","\u53D6\u6D88"),L=(0,s.useCallback)(function(f,Z){var N=(0,m.Z)({recordKey:f,cancelEditable:y,onCancel:T,onSave:D,editableKeys:i,setEditableRowKeys:d,saveText:E,cancelText:P,deleteText:b,deletePopconfirmMessage:"".concat(t.getMessage("deleteThisLine","\u5220\u9664\u6B64\u884C"),"?"),editorType:"Map"},Z),h=(0,U.aX)(a.dataSource,N);return a.actionRender?a.actionRender(a.dataSource,N,{save:h[0],delete:h[1],cancel:h[2]}):h},[i&&i.join(","),a.dataSource]);return{editableKeys:i,setEditableRowKeys:d,isEditable:o,actionRender:L,startEditable:x,cancelEditable:y}}var Et=St,ve=c(92354),Pt=c(79823),Tt=c(29231),Ee=c(41913),Dt=c(59377),Nt=c(86817),wt=c(44205),It=function(e,t){var n=t||{},l=n.onRequestError,i=n.effects,d=n.manual,u=n.dataSource,o=n.defaultDataSource,x=n.onDataSourceChange,y=(0,ce.Z)(o,{value:u,onChange:x}),T=(0,Q.Z)(y,2),D=T[0],E=T[1],b=(0,ce.Z)(t==null?void 0:t.loading,{value:t==null?void 0:t.loading,onChange:t==null?void 0:t.onLoadingChange}),P=(0,Q.Z)(b,2),L=P[0],f=P[1],Z=function(g){E(g),f(!1)},N=function(){var h=(0,V.Z)((0,F.Z)().mark(function g(){var C,w,I;return(0,F.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!L){v.next=2;break}return v.abrupt("return");case 2:return f(!0),v.prev=3,v.next=6,e();case 6:if(v.t0=v.sent,v.t0){v.next=9;break}v.t0={};case 9:C=v.t0,w=C.data,I=C.success,I!==!1&&Z(w),v.next=23;break;case 15:if(v.prev=15,v.t1=v.catch(3),l!==void 0){v.next=21;break}throw new Error(v.t1);case 21:l(v.t1);case 22:f(!1);case 23:case"end":return v.stop()}},g,null,[[3,15]])}));return function(){return h.apply(this,arguments)}}();return(0,s.useEffect)(function(){d||N()},[].concat((0,ee.Z)(i||[]),[d])),{dataSource:D,setDataSource:E,loading:L,reload:function(){return N()}}},Rt=It,Lt=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],zt=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],Bt=function(e,t){var n=e.dataIndex;if(n){var l=Array.isArray(n)?(0,Nt.Z)(t,n):t[n];if(l!==void 0||l!==null)return l}return e.children},$t=function(e){var t=e.valueEnum,n=e.action,l=e.index,i=e.text,d=e.entity,u=e.mode,o=e.render,x=e.editableUtils,y=e.valueType,T=e.plain,D=e.dataIndex,E=e.request,b=e.renderFormItem,P=e.params,L=pe.ZP.useFormInstance(),f={text:i,valueEnum:t,mode:u||"read",proFieldProps:{render:o?function(){return o==null?void 0:o(i,d,l,n,(0,m.Z)((0,m.Z)({},e),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:y,request:E,params:P,plain:T};if(u==="read"||!u||y==="option"){var Z=(0,ve.Z)(e.fieldProps,void 0,(0,m.Z)((0,m.Z)({},e),{},{rowKey:D,isEditable:!1}));return(0,r.jsx)(le.Z,(0,m.Z)((0,m.Z)({name:D},f),{},{fieldProps:Z}))}var N=function(){var g,C=(0,ve.Z)(e.formItemProps,L,(0,m.Z)((0,m.Z)({},e),{},{rowKey:D,isEditable:!0})),w=(0,ve.Z)(e.fieldProps,L,(0,m.Z)((0,m.Z)({},e),{},{rowKey:D,isEditable:!0})),I=b?b==null?void 0:b((0,m.Z)((0,m.Z)({},e),{},{type:"descriptions"}),{isEditable:!0,recordKey:D,record:L.getFieldValue([D].flat(1)),defaultRender:function(){return(0,r.jsx)(le.Z,(0,m.Z)((0,m.Z)({},f),{},{fieldProps:w}))},type:"descriptions"},L):void 0;return(0,r.jsxs)(H.Z,{children:[(0,r.jsx)(Pt.Z,(0,m.Z)((0,m.Z)({name:D},C),{},{style:(0,m.Z)({margin:0},(C==null?void 0:C.style)||{}),initialValue:i||(C==null?void 0:C.initialValue),children:I||(0,r.jsx)(le.Z,(0,m.Z)((0,m.Z)({},f),{},{proFieldProps:(0,m.Z)({},f.proFieldProps),fieldProps:w}))})),x==null||(g=x.actionRender)===null||g===void 0?void 0:g.call(x,D||l,{cancelText:(0,r.jsx)(ke.Z,{}),saveText:(0,r.jsx)(He.Z,{}),deleteText:!1})]})};return(0,r.jsx)("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:N()})},Ot=function(e,t,n,l){var i,d=[],u=e==null||(i=e.map)===null||i===void 0?void 0:i.call(e,function(o,x){var y,T;if(s.isValidElement(o))return o;var D=o.valueEnum,E=o.render,b=o.renderText,P=o.mode,L=o.plain,f=o.dataIndex,Z=o.request,N=o.params,h=o.editable,g=(0,re.Z)(o,Lt),C=(y=Bt(o,t))!==null&&y!==void 0?y:g.children,w=b?b(C,t,x,n):C,I=typeof g.title=="function"?g.title(o,"descriptions",null):g.title,R=typeof g.valueType=="function"?g.valueType(t||{},"descriptions"):g.valueType,v=l==null?void 0:l.isEditable(f||x),O=P||v?"edit":"read",p=l&&O==="read"&&h!==!1&&(h==null?void 0:h(w,t,x))!==!1,j=p?H.Z:s.Fragment,G=O==="edit"?w:(0,Tt.X)(w,o,w),K=(0,s.createElement)(ne.Item,(0,m.Z)((0,m.Z)({},g),{},{key:g.key||((T=g.label)===null||T===void 0?void 0:T.toString())||x,label:(I||g.label||g.tooltip||g.tip)&&(0,r.jsx)(Ee.Z,{label:I||g.label,tooltip:g.tooltip||g.tip,ellipsis:o.ellipsis})}),(0,r.jsxs)(j,{children:[(0,r.jsx)($t,(0,m.Z)((0,m.Z)({},o),{},{dataIndex:o.dataIndex||x,mode:O,text:G,valueType:R,entity:t,index:x,action:n,editableUtils:l})),p&&R!=="option"&&(0,r.jsx)(Ge.Z,{onClick:function(){l==null||l.startEditable(f||x)}})]}));return R==="option"?(d.push(K),null):K}).filter(function(o){return o});return{options:d!=null&&d.length?d:null,children:u}},Mt=function(e){return(0,r.jsx)(ne.Item,(0,m.Z)((0,m.Z)({},e),{},{children:e.children}))},Ft=function(e){return e.children},Pe=function(e){var t,n=e.request,l=e.columns,i=e.params,d=i===void 0?{}:i,u=e.dataSource,o=e.onDataSourceChange,x=e.formProps,y=e.editable,T=e.loading,D=e.onLoadingChange,E=e.actionRef,b=e.onRequestError,P=(0,re.Z)(e,zt),L=(0,s.useContext)(Re.ZP.ConfigContext),f=Rt((0,V.Z)((0,F.Z)().mark(function v(){var O;return(0,F.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!n){j.next=6;break}return j.next=3,n(d);case 3:j.t0=j.sent,j.next=7;break;case 6:j.t0={data:{}};case 7:return O=j.t0,j.abrupt("return",O);case 9:case"end":return j.stop()}},v)})),{onRequestError:b,effects:[(0,wt.P)(d)],manual:!n,dataSource:u,loading:T,onLoadingChange:D,onDataSourceChange:o}),Z=Et((0,m.Z)((0,m.Z)({},e.editable),{},{childrenColumnName:void 0,dataSource:f.dataSource,setDataSource:f.setDataSource}));if((0,s.useEffect)(function(){E&&(E.current=(0,m.Z)({reload:f.reload},Z))},[f,E,Z]),f.loading||f.loading===void 0&&n)return(0,r.jsx)(pt,{type:"descriptions",list:!1,pageHeader:!1});var N=function(){var O=(0,ye.Z)(e.children).filter(Boolean).map(function(p){if(!s.isValidElement(p))return p;var j=p==null?void 0:p.props,G=j.valueEnum,K=j.valueType,q=j.dataIndex,ue=j.ellipsis,B=j.copyable,fe=j.request;return!K&&!G&&!q&&!fe&&!ue&&!B?p:(0,m.Z)((0,m.Z)({},p==null?void 0:p.props),{},{entity:u})});return[].concat((0,ee.Z)(l||[]),(0,ee.Z)(O)).filter(function(p){return!p||(p==null?void 0:p.valueType)&&["index","indexBorder"].includes(p==null?void 0:p.valueType)?!1:!(p!=null&&p.hideInDescriptions)}).sort(function(p,j){return j.order||p.order?(j.order||0)-(p.order||0):(j.index||0)-(p.index||0)})},h=Ot(N(),f.dataSource||{},(E==null?void 0:E.current)||f,y?Z:void 0),g=h.options,C=h.children,w=y?pe.ZP:Ft,I=null;(P.title||P.tooltip||P.tip)&&(I=(0,r.jsx)(Ee.Z,{label:P.title,tooltip:P.tooltip||P.tip}));var R=L.getPrefixCls("pro-descriptions");return(0,r.jsx)(Dt.Z,{children:(0,r.jsx)(w,(0,m.Z)((0,m.Z)({form:(t=e.editable)===null||t===void 0?void 0:t.form,component:!1,submitter:!1},x),{},{onFinish:void 0,children:(0,r.jsx)(ne,(0,m.Z)((0,m.Z)({className:R},P),{},{extra:P.extra?(0,r.jsxs)(H.Z,{children:[g,P.extra]}):g,title:I,children:C}))}),"form")})};Pe.Item=Mt;var ea=null}}]);
