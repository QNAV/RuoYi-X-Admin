"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[628],{86628:function(Qt,Ie,c){c.d(Ie,{vY:function(){return Ee}});var ee=c(41384),F=c(43219),V=c(77036),Ut=c(19271),Re=c(82938),Xt=c(2364),$=c(82269),Q=c(17361),me=c(31307),we=c(19803),A=c.n(we),ye=c(14191),i=c(50959),U=c(97421),Le=c(35555),X=c(76081),ze=function(e){var a=e.children;return a},Be=ze,z=c(62081);function Y(t){return t!=null}var $e=function(e){var a=e.itemPrefixCls,n=e.component,l=e.span,o=e.className,d=e.style,m=e.labelStyle,s=e.contentStyle,h=e.bordered,x=e.label,D=e.content,E=e.colon,P=n;if(h){var b;return i.createElement(P,{className:A()((b={},(0,$.Z)(b,"".concat(a,"-item-label"),Y(x)),(0,$.Z)(b,"".concat(a,"-item-content"),Y(D)),b),o),style:d,colSpan:l},Y(x)&&i.createElement("span",{style:m},x),Y(D)&&i.createElement("span",{style:s},D))}return i.createElement(P,{className:A()("".concat(a,"-item"),o),style:d,colSpan:l},i.createElement("div",{className:"".concat(a,"-item-container")},(x||x===0)&&i.createElement("span",{className:A()("".concat(a,"-item-label"),(0,$.Z)({},"".concat(a,"-item-no-colon"),!E)),style:m},x),(D||D===0)&&i.createElement("span",{className:A()("".concat(a,"-item-content")),style:s},D)))},te=$e;function ae(t,e,a){var n=e.colon,l=e.prefixCls,o=e.bordered,d=a.component,m=a.type,s=a.showLabel,h=a.showContent,x=a.labelStyle,D=a.contentStyle;return t.map(function(E,P){var b=E.props,T=b.label,w=b.children,g=b.prefixCls,Z=g===void 0?l:g,C=b.className,f=b.style,u=b.labelStyle,N=b.contentStyle,I=b.span,R=I===void 0?1:I,L=E.key;return typeof d=="string"?i.createElement(te,{key:"".concat(m,"-").concat(L||P),className:C,style:f,labelStyle:(0,z.Z)((0,z.Z)({},x),u),contentStyle:(0,z.Z)((0,z.Z)({},D),N),span:R,colon:n,component:d,itemPrefixCls:Z,bordered:o,label:s?T:null,content:h?w:null}):[i.createElement(te,{key:"label-".concat(L||P),className:C,style:(0,z.Z)((0,z.Z)((0,z.Z)({},x),f),u),span:1,colon:n,component:d[0],itemPrefixCls:Z,bordered:o,label:T}),i.createElement(te,{key:"content-".concat(L||P),className:C,style:(0,z.Z)((0,z.Z)((0,z.Z)({},D),f),N),span:R*2-1,component:d[1],itemPrefixCls:Z,bordered:o,content:w})]})}var Oe=function(e){var a=i.useContext(he),n=e.prefixCls,l=e.vertical,o=e.row,d=e.index,m=e.bordered;return l?i.createElement(i.Fragment,null,i.createElement("tr",{key:"label-".concat(d),className:"".concat(n,"-row")},ae(o,e,(0,z.Z)({component:"th",type:"label",showLabel:!0},a))),i.createElement("tr",{key:"content-".concat(d),className:"".concat(n,"-row")},ae(o,e,(0,z.Z)({component:"td",type:"content",showContent:!0},a)))):i.createElement("tr",{key:d,className:"".concat(n,"-row")},ae(o,e,(0,z.Z)({component:m?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},a)))},Me=Oe,he=i.createContext({}),ge={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Fe(t,e){if(typeof t=="number")return t;if((0,me.Z)(t)==="object")for(var a=0;a<X.c4.length;a++){var n=X.c4[a];if(e[n]&&t[n]!==void 0)return t[n]||ge[n]}return 3}function xe(t,e,a){var n=t;return(e===void 0||e>a)&&(n=(0,Le.Tm)(t,{span:a})),n}function Ae(t,e){var a=(0,ye.Z)(t).filter(function(d){return d}),n=[],l=[],o=e;return a.forEach(function(d,m){var s,h=(s=d.props)===null||s===void 0?void 0:s.span,x=h||1;if(m===a.length-1){l.push(xe(d,h,o)),n.push(l);return}x<o?(o-=x,l.push(d)):(l.push(xe(d,x,o)),n.push(l),o=e,l=[])}),n}function be(t){var e,a=t.prefixCls,n=t.title,l=t.extra,o=t.column,d=o===void 0?ge:o,m=t.colon,s=m===void 0?!0:m,h=t.bordered,x=t.layout,D=t.children,E=t.className,P=t.style,b=t.size,T=t.labelStyle,w=t.contentStyle,g=i.useContext(U.E_),Z=g.getPrefixCls,C=g.direction,f=Z("descriptions",a),u=i.useState({}),N=(0,Q.Z)(u,2),I=N[0],R=N[1],L=Fe(d,I);i.useEffect(function(){var p=X.ZP.subscribe(function(j){(0,me.Z)(d)==="object"&&R(j)});return function(){X.ZP.unsubscribe(p)}},[]);var v=Ae(D,L),O=i.useMemo(function(){return{labelStyle:T,contentStyle:w}},[T,w]);return i.createElement(he.Provider,{value:O},i.createElement("div",{className:A()(f,(e={},(0,$.Z)(e,"".concat(f,"-").concat(b),b&&b!=="default"),(0,$.Z)(e,"".concat(f,"-bordered"),!!h),(0,$.Z)(e,"".concat(f,"-rtl"),C==="rtl"),e),E),style:P},(n||l)&&i.createElement("div",{className:"".concat(f,"-header")},n&&i.createElement("div",{className:"".concat(f,"-title")},n),l&&i.createElement("div",{className:"".concat(f,"-extra")},l)),i.createElement("div",{className:"".concat(f,"-view")},i.createElement("table",null,i.createElement("tbody",null,v.map(function(p,j){return i.createElement(Me,{key:j,index:j,colon:s,prefixCls:f,vertical:x==="vertical",bordered:h,row:p})}))))))}be.Item=Be;var ne=be,re=c(40107),Yt=c(83914),H=c(95465),Jt=c(20443),Ke=c(19299),y=c(84045),r=c(11527),ke=c(24530),He=c(88021),Ge=c(17073),We=c(48845),le=c(56800),qt=c(90845),_t=c(75526),Ve=c(99035),Qe=c(44759),S=c(56390),pe=c(57579),Ue=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(t);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(t,n[l])&&(a[n[l]]=t[n[l]]);return a},Xe=function(e){var a=e.prefixCls,n=e.className,l=e.hoverable,o=l===void 0?!0:l,d=Ue(e,["prefixCls","className","hoverable"]);return i.createElement(U.C,null,function(m){var s=m.getPrefixCls,h=s("card",a),x=A()("".concat(h,"-grid"),n,(0,$.Z)({},"".concat(h,"-grid-hoverable"),o));return i.createElement("div",(0,z.Z)({},d,{className:x}))})},Ze=Xe,Ye=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(t);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(t,n[l])&&(a[n[l]]=t[n[l]]);return a};function Je(t){var e=t.map(function(a,n){return i.createElement("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(n)},i.createElement("span",null,a))});return e}var qe=i.forwardRef(function(t,e){var a,n,l=i.useContext(U.E_),o=l.getPrefixCls,d=l.direction,m=i.useContext(Qe.Z),s=function(_){var k;(k=t.onTabChange)===null||k===void 0||k.call(t,_)},h=function(){var _;return i.Children.forEach(t.children,function(k){k&&k.type&&k.type===Ze&&(_=!0)}),_},x=t.prefixCls,D=t.className,E=t.extra,P=t.headStyle,b=P===void 0?{}:P,T=t.bodyStyle,w=T===void 0?{}:T,g=t.title,Z=t.loading,C=t.bordered,f=C===void 0?!0:C,u=t.size,N=t.type,I=t.cover,R=t.actions,L=t.tabList,v=t.children,O=t.activeTabKey,p=t.defaultActiveTabKey,j=t.tabBarExtraContent,G=t.hoverable,K=t.tabProps,q=K===void 0?{}:K,ve=Ye(t,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),B=o("card",x),fe=i.createElement(S.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1},v),Pe=O!==void 0,Kt=(0,z.Z)((0,z.Z)({},q),(a={},(0,$.Z)(a,Pe?"activeKey":"defaultActiveKey",Pe?O:p),(0,$.Z)(a,"tabBarExtraContent",j),a)),Te,De=L&&L.length?i.createElement(pe.Z,(0,z.Z)({size:"large"},Kt,{className:"".concat(B,"-head-tabs"),onChange:s}),L.map(function(W){return i.createElement(pe.Z.TabPane,{tab:W.tab,disabled:W.disabled,key:W.key})})):null;(g||E||De)&&(Te=i.createElement("div",{className:"".concat(B,"-head"),style:b},i.createElement("div",{className:"".concat(B,"-head-wrapper")},g&&i.createElement("div",{className:"".concat(B,"-head-title")},g),E&&i.createElement("div",{className:"".concat(B,"-extra")},E)),De));var kt=I?i.createElement("div",{className:"".concat(B,"-cover")},I):null,Ht=i.createElement("div",{className:"".concat(B,"-body"),style:w},Z?fe:v),Gt=R&&R.length?i.createElement("ul",{className:"".concat(B,"-actions")},Je(R)):null,Wt=(0,Ve.Z)(ve,["onTabChange"]),Ne=u||m,Vt=A()(B,(n={},(0,$.Z)(n,"".concat(B,"-loading"),Z),(0,$.Z)(n,"".concat(B,"-bordered"),f),(0,$.Z)(n,"".concat(B,"-hoverable"),G),(0,$.Z)(n,"".concat(B,"-contain-grid"),h()),(0,$.Z)(n,"".concat(B,"-contain-tabs"),L&&L.length),(0,$.Z)(n,"".concat(B,"-").concat(Ne),Ne),(0,$.Z)(n,"".concat(B,"-type-").concat(N),!!N),(0,$.Z)(n,"".concat(B,"-rtl"),d==="rtl"),n),D);return i.createElement("div",(0,z.Z)({ref:e},Wt,{className:Vt}),Te,kt,Ht,Gt)}),_e=qe,et=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(t);l<n.length;l++)e.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(t,n[l])&&(a[n[l]]=t[n[l]]);return a},tt=function(e){return i.createElement(U.C,null,function(a){var n=a.getPrefixCls,l=e.prefixCls,o=e.className,d=e.avatar,m=e.title,s=e.description,h=et(e,["prefixCls","className","avatar","title","description"]),x=n("card",l),D=A()("".concat(x,"-meta"),o),E=d?i.createElement("div",{className:"".concat(x,"-meta-avatar")},d):null,P=m?i.createElement("div",{className:"".concat(x,"-meta-title")},m):null,b=s?i.createElement("div",{className:"".concat(x,"-meta-description")},s):null,T=P||b?i.createElement("div",{className:"".concat(x,"-meta-detail")},P,b):null;return i.createElement("div",(0,z.Z)({},h,{className:D}),E,T)})},at=tt,ie=_e;ie.Grid=Ze,ie.Meta=at;var M=ie,se=c(59171),ea=c(82736),nt=c(60085),oe=function(e){var a=e.padding;return(0,r.jsx)("div",{style:{padding:a||"0 24px"},children:(0,r.jsx)(nt.Z,{style:{margin:0}})})},rt={xs:2,sm:2,md:4,lg:4,xl:6,xxl:6},lt=function(e){var a=e.size,n=e.active,l=(0,se.ZP)(),o=a===void 0?rt[l]||6:a,d=function(s){return s===0?0:o>2?42:16};return(0,r.jsx)(M,{bordered:!1,style:{marginBottom:16},children:(0,r.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(o).fill(null).map(function(m,s){return(0,r.jsxs)("div",{style:{borderLeft:o>2&&s===1?"1px solid rgba(0,0,0,0.06)":void 0,paddingLeft:d(s),flex:1,marginRight:s===0?16:0},children:[(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{width:100,style:{marginTop:0}}}),(0,r.jsx)(S.Z.Button,{active:n,style:{height:48}})]},s)})})})},it=function(e){var a=e.active;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{bordered:!1,style:{borderRadius:0},bodyStyle:{padding:24},children:(0,r.jsxs)("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)("div",{style:{maxWidth:"100%",flex:1},children:(0,r.jsx)(S.Z,{active:a,title:{width:100,style:{marginTop:0}},paragraph:{rows:1,style:{margin:0}}})}),(0,r.jsx)(S.Z.Button,{active:a,size:"small",style:{width:165,marginTop:12}})]})}),(0,r.jsx)(oe,{})]})},st=function(e){var a=e.size,n=e.active,l=n===void 0?!0:n,o=e.actionButton;return(0,r.jsxs)(M,{bordered:!1,bodyStyle:{padding:0},children:[new Array(a).fill(null).map(function(d,m){return(0,r.jsx)(it,{active:!!l},m)}),o!==!1&&(0,r.jsx)(M,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},bodyStyle:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(S.Z.Button,{style:{width:102},active:l,size:"small"})})]})},de=function(e){var a=e.active;return(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)(S.Z,{paragraph:!1,title:{width:185}}),(0,r.jsx)(S.Z.Button,{active:a,size:"small"})]})},ot=function(e){var a=e.active;return(0,r.jsx)(M,{bordered:!1,style:{borderBottomRightRadius:0,borderBottomLeftRadius:0},bodyStyle:{paddingBottom:8},children:(0,r.jsxs)(H.Z,{style:{width:"100%",justifyContent:"space-between"},children:[(0,r.jsx)(S.Z.Button,{active:a,style:{width:200},size:"small"}),(0,r.jsxs)(H.Z,{children:[(0,r.jsx)(S.Z.Button,{active:a,size:"small",style:{width:120}}),(0,r.jsx)(S.Z.Button,{active:a,size:"small",style:{width:80}})]})]})})},dt=function(e){var a=e.active,n=a===void 0?!0:a,l=e.statistic,o=e.actionButton,d=e.toolbar,m=e.pageHeader,s=e.list,h=s===void 0?5:s;return(0,r.jsxs)("div",{style:{width:"100%"},children:[m!==!1&&(0,r.jsx)(de,{active:n}),l!==!1&&(0,r.jsx)(lt,{size:l,active:n}),(d!==!1||h!==!1)&&(0,r.jsxs)(M,{bordered:!1,bodyStyle:{padding:0},children:[d!==!1&&(0,r.jsx)(ot,{active:n}),h!==!1&&(0,r.jsx)(st,{size:h,active:n,actionButton:o})]})]})},ct=dt,Ce={xs:1,sm:2,md:3,lg:3,xl:3,xxl:4},ut=function(e){var a=e.active;return(0,r.jsxs)("div",{style:{marginTop:32},children:[(0,r.jsx)(S.Z.Button,{active:a,size:"small",style:{width:100,marginBottom:16}}),(0,r.jsxs)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:[(0,r.jsxs)("div",{style:{flex:1,marginRight:24,maxWidth:300},children:[(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{marginTop:0}}}),(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{marginTop:8}}}),(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{marginTop:8}}})]}),(0,r.jsx)("div",{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,r.jsxs)("div",{style:{maxWidth:300,margin:"auto"},children:[(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{marginTop:0}}}),(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{marginTop:8}}})]})})]})]})},vt=function(e){var a=e.size,n=e.active,l=(0,se.ZP)(),o=a===void 0?Ce[l]||3:a;return(0,r.jsx)("div",{style:{width:"100%",justifyContent:"space-between",display:"flex"},children:new Array(o).fill(null).map(function(d,m){return(0,r.jsxs)("div",{style:{flex:1,paddingLeft:m===0?0:24,paddingRight:m===o-1?0:24},children:[(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{style:{marginTop:0}}}),(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}}),(0,r.jsx)(S.Z,{active:n,paragraph:!1,title:{style:{marginTop:8}}})]},m)})})},je=function(e){var a=e.active,n=e.header,l=n===void 0?!1:n,o=(0,se.ZP)(),d=Ce[o]||3;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{display:"flex",background:l?"rgba(0,0,0,0.02)":"none",padding:"24px 8px"},children:[new Array(d).fill(null).map(function(m,s){return(0,r.jsx)("div",{style:{flex:1,paddingLeft:l&&s===0?0:20,paddingRight:32},children:(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{margin:0,height:24,width:l?"75px":"100%"}}})},s)}),(0,r.jsx)("div",{style:{flex:3,paddingLeft:32},children:(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{margin:0,height:24,width:l?"75px":"100%"}}})})]}),(0,r.jsx)(oe,{padding:"0px 0px"})]})},ft=function(e){var a=e.active,n=e.size,l=n===void 0?4:n;return(0,r.jsxs)(M,{bordered:!1,children:[(0,r.jsx)(S.Z.Button,{active:a,size:"small",style:{width:100,marginBottom:16}}),(0,r.jsx)(je,{header:!0,active:a}),new Array(l).fill(null).map(function(o,d){return(0,r.jsx)(je,{active:a},d)}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:16},children:(0,r.jsx)(S.Z,{active:a,paragraph:!1,title:{style:{margin:0,height:32,float:"right",maxWidth:"630px"}}})})]})},mt=function(e){var a=e.active;return(0,r.jsxs)(M,{bordered:!1,style:{borderTopRightRadius:0,borderTopLeftRadius:0},children:[(0,r.jsx)(S.Z.Button,{active:a,size:"small",style:{width:100,marginBottom:16}}),(0,r.jsx)(vt,{active:a}),(0,r.jsx)(ut,{active:a})]})},yt=function(e){var a=e.active,n=a===void 0?!0:a,l=e.pageHeader,o=e.list;return(0,r.jsxs)("div",{style:{width:"100%"},children:[l!==!1&&(0,r.jsx)(de,{active:n}),(0,r.jsx)(mt,{active:n}),o!==!1&&(0,r.jsx)(oe,{}),o!==!1&&(0,r.jsx)(ft,{active:n,size:o})]})},ht=yt,gt=function(e){var a=e.active,n=a===void 0?!0:a,l=e.pageHeader;return(0,r.jsxs)("div",{style:{width:"100%"},children:[l!==!1&&(0,r.jsx)(de,{active:n}),(0,r.jsx)(M,{children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",padding:128},children:[(0,r.jsx)(S.Z.Avatar,{size:64,style:{marginBottom:32}}),(0,r.jsx)(S.Z.Button,{active:n,style:{width:214,marginBottom:8}}),(0,r.jsx)(S.Z.Button,{active:n,style:{width:328},size:"small"}),(0,r.jsxs)(H.Z,{style:{marginTop:24},children:[(0,r.jsx)(S.Z.Button,{active:n,style:{width:116}}),(0,r.jsx)(S.Z.Button,{active:n,style:{width:116}})]})]})})]})},xt=gt,bt=["type"],pt=function(e){var a=e.type,n=a===void 0?"list":a,l=(0,re.Z)(e,bt);return n==="result"?(0,r.jsx)(xt,(0,y.Z)({},l)):n==="descriptions"?(0,r.jsx)(ht,(0,y.Z)({},l)):(0,r.jsx)(ct,(0,y.Z)({},l))},Zt=pt,ta=c(79356),Ct=c(91238),jt=c(36070),ce=c(52334),J=c(10958);function St(t){var e=t.data,a=t.row;return(0,y.Z)((0,y.Z)({},e),a)}function Et(t){var e=t.type||"single",a=(0,ce.Z)([],{value:t.editableKeys,onChange:t.onChange?function(g){var Z;t==null||(Z=t.onChange)===null||Z===void 0||Z.call(t,g,t.dataSource)}:void 0}),n=(0,Q.Z)(a,2),l=n[0],o=n[1],d=(0,i.useMemo)(function(){var g=e==="single"?l==null?void 0:l.slice(0,1):l;return new Set(g)},[(l||[]).join(","),e]),m=(0,i.useCallback)(function(g){return!!(l!=null&&l.includes((0,J.sN)(g)))},[(l||[]).join(",")]),s=function(Z){return d.size>0&&e==="single"?(Ct.ZP.warn(t.onlyOneLineEditorAlertMessage||"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C"),!1):(d.add((0,J.sN)(Z)),o(Array.from(d)),!0)},h=function(Z){return d.delete((0,J.sN)(Z)),o(Array.from(d)),!0},x=function(){var g=(0,V.Z)((0,F.Z)().mark(function Z(C,f,u,N){var I,R;return(0,F.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,t==null||(I=t.onCancel)===null||I===void 0?void 0:I.call(t,C,f,u,N);case 2:if(R=v.sent,R!==!1){v.next=5;break}return v.abrupt("return",!1);case 5:return v.abrupt("return",!0);case 6:case"end":return v.stop()}},Z)}));return function(C,f,u,N){return g.apply(this,arguments)}}(),D=function(){var g=(0,V.Z)((0,F.Z)().mark(function Z(C,f,u){var N,I,R;return(0,F.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,t==null||(N=t.onSave)===null||N===void 0?void 0:N.call(t,C,f,u);case 2:if(I=v.sent,I!==!1){v.next=5;break}return v.abrupt("return",!1);case 5:return h(C),R={data:t.dataSource,row:f,key:C,childrenColumnName:t.childrenColumnName||"children"},t.setDataSource(St(R)),v.abrupt("return",!0);case 9:case"end":return v.stop()}},Z)}));return function(C,f,u){return g.apply(this,arguments)}}(),E=(0,jt.YB)(),P=E.getMessage("editableTable.action.save","\u4FDD\u5B58"),b=E.getMessage("editableTable.action.delete","\u5220\u9664"),T=E.getMessage("editableTable.action.cancel","\u53D6\u6D88"),w=(0,i.useCallback)(function(g,Z,C){var f=(0,y.Z)({recordKey:g,cancelEditable:h,onCancel:x,onSave:D,editableKeys:l,setEditableRowKeys:o,form:Z,saveText:P,cancelText:T,deleteText:b,deletePopconfirmMessage:"\u5220\u9664\u6B64\u884C\uFF1F",editorType:"Map"},C),u=(0,J.aX)(t.dataSource,f);return t.actionRender?t.actionRender(t.dataSource,f,{save:u[0],delete:u[1],cancel:u[2]}):u},[l&&l.join(","),t.dataSource]);return{editableKeys:l,setEditableRowKeys:o,isEditable:m,actionRender:w,startEditable:s,cancelEditable:h}}var Pt=Et,ue=c(39524),Tt=c(98157),Dt=c(92899),Se=c(69061),Nt=c(98412),It=c(86817),Rt=c(44205),wt=function(e,a){var n=a||{},l=n.onRequestError,o=n.effects,d=n.manual,m=n.dataSource,s=n.defaultDataSource,h=n.onDataSourceChange,x=(0,ce.Z)(s,{value:m,onChange:h}),D=(0,Q.Z)(x,2),E=D[0],P=D[1],b=(0,ce.Z)(a==null?void 0:a.loading,{value:a==null?void 0:a.loading,onChange:a==null?void 0:a.onLoadingChange}),T=(0,Q.Z)(b,2),w=T[0],g=T[1],Z=function(u){P(u),g(!1)},C=function(){var f=(0,V.Z)((0,F.Z)().mark(function u(){var N,I,R;return(0,F.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!w){v.next=2;break}return v.abrupt("return");case 2:return g(!0),v.prev=3,v.next=6,e();case 6:if(v.t0=v.sent,v.t0){v.next=9;break}v.t0={};case 9:N=v.t0,I=N.data,R=N.success,R!==!1&&Z(I),v.next=23;break;case 15:if(v.prev=15,v.t1=v.catch(3),l!==void 0){v.next=21;break}throw new Error(v.t1);case 21:l(v.t1);case 22:g(!1);case 23:case"end":return v.stop()}},u,null,[[3,15]])}));return function(){return f.apply(this,arguments)}}();return(0,i.useEffect)(function(){d||C()},[].concat((0,ee.Z)(o||[]),[d])),{dataSource:E,setDataSource:P,loading:w,reload:function(){return C()}}},Lt=wt,zt=["valueEnum","render","renderText","mode","plain","dataIndex","request","params","editable"],Bt=["request","columns","params","dataSource","onDataSourceChange","formProps","editable","loading","onLoadingChange","actionRef","onRequestError"],$t=function(e,a){var n=e.dataIndex;if(n){var l=Array.isArray(n)?(0,It.Z)(a,n):a[n];if(l!==void 0||l!==null)return l}return e.children},Ot=function(e){var a=e.valueEnum,n=e.action,l=e.index,o=e.text,d=e.entity,m=e.mode,s=e.render,h=e.editableUtils,x=e.valueType,D=e.plain,E=e.dataIndex,P=e.request,b=e.renderFormItem,T=e.params,w={text:o,valueEnum:a,mode:m||"read",proFieldProps:{render:s?function(){return s==null?void 0:s(o,d,l,n,(0,y.Z)((0,y.Z)({},e),{},{type:"descriptions"}))}:void 0},ignoreFormItem:!0,valueType:x,request:P,params:T,plain:D};if(m==="read"||!m||x==="option"){var g=(0,ue.Z)(e.fieldProps,void 0,(0,y.Z)((0,y.Z)({},e),{},{rowKey:E,isEditable:!1}));return(0,r.jsx)(le.Z,(0,y.Z)((0,y.Z)({name:E},w),{},{fieldProps:g}))}return(0,r.jsx)("div",{style:{marginTop:-5,marginBottom:-5,marginLeft:0,marginRight:0},children:(0,r.jsx)(Ke.Z.Item,{noStyle:!0,shouldUpdate:function(C,f){return C!==f},children:function(C){var f,u=(0,ue.Z)(e.formItemProps,C,(0,y.Z)((0,y.Z)({},e),{},{rowKey:E,isEditable:!0})),N=(0,ue.Z)(e.fieldProps,C,(0,y.Z)((0,y.Z)({},e),{},{rowKey:E,isEditable:!0})),I=b?b==null?void 0:b((0,y.Z)((0,y.Z)({},e),{},{type:"descriptions"}),{isEditable:!0,recordKey:E,record:C.getFieldValue([E].flat(1)),defaultRender:function(){return(0,r.jsx)(le.Z,(0,y.Z)((0,y.Z)({},w),{},{fieldProps:N}))},type:"descriptions"},C):void 0;return(0,r.jsxs)(H.Z,{children:[(0,r.jsx)(Tt.Z,(0,y.Z)((0,y.Z)({name:E},u),{},{style:(0,y.Z)({margin:0},(u==null?void 0:u.style)||{}),initialValue:o||(u==null?void 0:u.initialValue),children:I||(0,r.jsx)(le.Z,(0,y.Z)((0,y.Z)({},w),{},{proFieldProps:(0,y.Z)({},w.proFieldProps),fieldProps:N}))})),h==null||(f=h.actionRender)===null||f===void 0?void 0:f.call(h,E||l,C,{cancelText:(0,r.jsx)(ke.Z,{}),saveText:(0,r.jsx)(He.Z,{}),deleteText:!1})]})}})})},Mt=function(e,a,n,l){var o,d=[],m=e==null||(o=e.map)===null||o===void 0?void 0:o.call(e,function(s,h){var x,D;if(i.isValidElement(s))return s;var E=s.valueEnum,P=s.render,b=s.renderText,T=s.mode,w=s.plain,g=s.dataIndex,Z=s.request,C=s.params,f=s.editable,u=(0,re.Z)(s,zt),N=(x=$t(s,a))!==null&&x!==void 0?x:u.children,I=b?b(N,a,h,n):N,R=typeof u.title=="function"?u.title(s,"descriptions",null):u.title,L=typeof u.valueType=="function"?u.valueType(a||{},"descriptions"):u.valueType,v=l==null?void 0:l.isEditable(g||h),O=T||v?"edit":"read",p=l&&O==="read"&&f!==!1&&(f==null?void 0:f(I,a,h))!==!1,j=p?H.Z:i.Fragment,G=O==="edit"?I:(0,Dt.X)(I,s,I),K=(0,i.createElement)(ne.Item,(0,y.Z)((0,y.Z)({},u),{},{key:u.key||((D=u.label)===null||D===void 0?void 0:D.toString())||h,label:(R||u.label||u.tooltip||u.tip)&&(0,r.jsx)(Se.Z,{label:R||u.label,tooltip:u.tooltip||u.tip,ellipsis:s.ellipsis})}),(0,r.jsxs)(j,{children:[(0,r.jsx)(Ot,(0,y.Z)((0,y.Z)({},s),{},{dataIndex:s.dataIndex||h,mode:O,text:G,valueType:L,entity:a,index:h,action:n,editableUtils:l})),p&&L!=="option"&&(0,r.jsx)(Ge.Z,{onClick:function(){l==null||l.startEditable(g||h)}})]}));return L==="option"?(d.push(K),null):K}).filter(function(s){return s});return{options:d!=null&&d.length?d:null,children:m}},Ft=function(e){return(0,r.jsx)(ne.Item,(0,y.Z)((0,y.Z)({},e),{},{children:e.children}))},At=function(e){return e.children},Ee=function(e){var a,n=e.request,l=e.columns,o=e.params,d=o===void 0?{}:o,m=e.dataSource,s=e.onDataSourceChange,h=e.formProps,x=e.editable,D=e.loading,E=e.onLoadingChange,P=e.actionRef,b=e.onRequestError,T=(0,re.Z)(e,Bt),w=(0,i.useContext)(Re.ZP.ConfigContext),g=Lt((0,V.Z)((0,F.Z)().mark(function v(){var O;return(0,F.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!n){j.next=6;break}return j.next=3,n(d);case 3:j.t0=j.sent,j.next=7;break;case 6:j.t0={data:{}};case 7:return O=j.t0,j.abrupt("return",O);case 9:case"end":return j.stop()}},v)})),{onRequestError:b,effects:[(0,Rt.P)(d)],manual:!n,dataSource:m,loading:D,onLoadingChange:E,onDataSourceChange:s}),Z=Pt((0,y.Z)((0,y.Z)({},e.editable),{},{childrenColumnName:void 0,dataSource:g.dataSource,setDataSource:g.setDataSource}));if((0,i.useEffect)(function(){P&&(P.current=(0,y.Z)({reload:g.reload},Z))},[g,P,Z]),g.loading||g.loading===void 0&&n)return(0,r.jsx)(Zt,{type:"descriptions",list:!1,pageHeader:!1});var C=function(){var O=(0,ye.Z)(e.children).filter(Boolean).map(function(p){if(!i.isValidElement(p))return p;var j=p==null?void 0:p.props,G=j.valueEnum,K=j.valueType,q=j.dataIndex,ve=j.ellipsis,B=j.copyable,fe=j.request;return!K&&!G&&!q&&!fe&&!ve&&!B?p:(0,y.Z)((0,y.Z)({},p==null?void 0:p.props),{},{entity:m})});return[].concat((0,ee.Z)(l||[]),(0,ee.Z)(O)).filter(function(p){return!p||(p==null?void 0:p.valueType)&&["index","indexBorder"].includes(p==null?void 0:p.valueType)?!1:!(p!=null&&p.hideInDescriptions)}).sort(function(p,j){return j.order||p.order?(j.order||0)-(p.order||0):(j.index||0)-(p.index||0)})},f=Mt(C(),g.dataSource||{},(P==null?void 0:P.current)||g,x?Z:void 0),u=f.options,N=f.children,I=x?We.ZP:At,R=null;(T.title||T.tooltip||T.tip)&&(R=(0,r.jsx)(Se.Z,{label:T.title,tooltip:T.tooltip||T.tip}));var L=w.getPrefixCls("pro-descriptions");return(0,r.jsx)(Nt.Z,{children:(0,r.jsx)(I,(0,y.Z)((0,y.Z)({form:(a=e.editable)===null||a===void 0?void 0:a.form,component:!1,submitter:!1},h),{},{onFinish:void 0,children:(0,r.jsx)(ne,(0,y.Z)((0,y.Z)({className:L},T),{},{extra:T.extra?(0,r.jsxs)(H.Z,{children:[u,T.extra]}):u,title:R,children:N}))}),"form")})};Ee.Item=Ft;var aa=null}}]);
