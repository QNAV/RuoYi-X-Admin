"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[24],{20747:function(xe,H,e){e.d(H,{ew:function(){return s},Jx:function(){return ee},iT:function(){return W},Zi:function(){return Y},Bw:function(){return V},eJ:function(){return re},fk:function(){return m},sE:function(){return _},WW:function(){return M},sy:function(){return de},E$:function(){return Se},_M:function(){return ue},tC:function(){return l},wX:function(){return v},oh:function(){return w},Uc:function(){return Z},x:function(){return te},Mw:function(){return J},p_:function(){return ae},$V:function(){return X},Qo:function(){return D},$9:function(){return h},Jy:function(){return i},VP:function(){return C},g4:function(){return B},Fu:function(){return O},Rj:function(){return ge},tE:function(){return T},iO:function(){return se},q2:function(){return x},jR:function(){return q},BP:function(){return c},au:function(){return d}});var y=e(31194),l={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},re={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},d={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},_={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:y.al},m={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(j){return{beginCreateTime:j[0],endCreateTime:j[1]}}}},C={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},q={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},x={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},ee={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},M={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},Y={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},W={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},V={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},X={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:y.gh,width:90},ae={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},w={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:y.gc},v={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:y.gc},Z={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:y.gc},te={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:y.gc},J={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:y.gc},i={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:y.CX,width:70},c={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:y.V},h={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},D={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},s={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},de={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},ue={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:y.LZ},Se={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},se={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},ge={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},B={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},O={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},T={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},44926:function(xe,H,e){e.d(H,{Z:function(){return re},n:function(){return X}});var y=e(50959),l=e(98205),re=function(w){var v=(0,y.useRef)(),Z=(0,l.Zl)(w);return(0,y.useEffect)(function(){v!=null&&v.current&&Z(v.current)},[]),v},d=e(35290),_=e.n(d),m=e(411),C=e.n(m),q=e(94434),x=e.n(q),ee=e(46686),M=e.n(ee),Y=e(70264),W=e(32222),V=e.n(W),X=function(w){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"checkbox",Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,te=(0,y.useState)([]),J=M()(te,2),i=J[0],c=J[1],h=(0,y.useState)([]),D=M()(h,2),s=D[0],de=D[1],ue={alwaysShowAlert:Z,type:v,selectedRowKeys:i,onChange:function(O,T){de(T),c(O)}},Se=function(O){var T=O[w],L=[O],j=[T];if(v==="checkbox")if(j=x()(i),L=V()(s),j.includes(T)){var F=i.indexOf(T);j.splice(F,1),L.splice(F,1)}else L.push(O),j.push(T);de(L),c(j)},se=function(){de([]),c([])},ge=function(){var B=C()(_()().mark(function O(){var T,L=arguments;return _()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(T=L.length>0&&L[0]!==void 0?L[0]:"\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61",(s==null?void 0:s.length)!==0){F.next=4;break}return Y.ZP.warning(T),F.abrupt("return",Promise.reject(T));case 4:return F.abrupt("return",Promise.resolve(s));case 5:case"end":return F.stop()}},O)}));return function(){return B.apply(this,arguments)}}();return{selectedRows:s,selectedRowKeys:i,rowSelection:ue,onClick:Se,clearSelection:se,setSelectedRowKeys:c,checkRowSelection:ge}}},40160:function(xe,H,e){e.r(H),e.d(H,{default:function(){return bt}});var y=e(35290),l=e.n(y),re=e(30279),d=e.n(re),_=e(411),m=e.n(_),C=e(31194),q=e(44926),x=e(98205),ee="systemRole",M=(0,x.cn)({key:"".concat(ee,"AtomRoleListActions"),default:void 0}),Y=function(){return(0,x.sJ)(M)},W=function(){return(0,q.Z)(M)},V=(0,x.cn)({key:"".concat(ee,"AtomRoleDetails"),default:{visible:!1,roleId:0,roleName:""}}),X=function(){return(0,x.rb)(V)},ae=function(){return(0,x.Zl)(V)},w=function(){return(0,x.sJ)(V)},v=e(45402);function Z(n,r){return te.apply(this,arguments)}function te(){return te=m()(l()().mark(function n(r,a){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.WY)("/system/role/add",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),te.apply(this,arguments)}function J(n,r){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/allocatedList",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),i.apply(this,arguments)}function c(n,r){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/cancel",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),h.apply(this,arguments)}function D(n,r){return s.apply(this,arguments)}function s(){return s=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/cancelAll",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),s.apply(this,arguments)}function de(n,r){return ue.apply(this,arguments)}function ue(){return ue=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/selectAll",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),ue.apply(this,arguments)}function Se(n,r){return se.apply(this,arguments)}function se(){return se=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/unallocatedList",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),se.apply(this,arguments)}function ge(n,r){return B.apply(this,arguments)}function B(){return B=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/changeStatus",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),B.apply(this,arguments)}function O(n,r){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/dataScope",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),T.apply(this,arguments)}function L(n,r){return j.apply(this,arguments)}function j(){return j=m()(l()().mark(function n(r,a){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.WY)("/system/role/edit",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),j.apply(this,arguments)}function F(n,r){return Ie.apply(this,arguments)}function Ie(){return Ie=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,a){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/export",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),Ie.apply(this,arguments)}function ze(n,r){return je.apply(this,arguments)}function je(){return je=m()(l()().mark(function n(r,a){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.WY)("/system/role/info",d()({method:"GET",params:d()({},r)},a||{})));case 1:case"end":return t.stop()}},n)})),je.apply(this,arguments)}function He(n,r){return Ee.apply(this,arguments)}function Ee(){return Ee=m()(l()().mark(function n(r,a){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.WY)("/system/role/list",d()({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return t.stop()}},n)})),Ee.apply(this,arguments)}function Lt(n){return Pe.apply(this,arguments)}function Pe(){return Pe=_asyncToGenerator(_regeneratorRuntime().mark(function n(r){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("/system/role/optionSelect",_objectSpread({method:"GET"},r||{})));case 1:case"end":return o.stop()}},n)})),Pe.apply(this,arguments)}function _e(n,r){return Ae.apply(this,arguments)}function Ae(){return Ae=m()(l()().mark(function n(r,a){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,v.WY)("/system/role/remove",d()({method:"POST",params:d()({},r)},a||{})));case 1:case"end":return t.stop()}},n)})),Ae.apply(this,arguments)}var Oe=e(53136),Re=e(15328),qe=e(54064),et=e(55134),Le=e(55099),tt=e(18723),nt=e(37349),rt=e(1206),me=e(61857),we=e(70264),U=e(50959),u=e(11527),at=function(){var r=(0,Re.md)(),a=(0,U.useRef)(),o=Y();return(0,u.jsx)(Oe.Access,{accessible:r.canAddSysRole,children:(0,u.jsxs)(et.Y,{title:"\u65B0\u5EFA\u89D2\u8272",trigger:(0,u.jsx)(me.Z,{type:"primary",icon:(0,u.jsx)(qe.Z,{}),children:"\u65B0\u5EFA"}),formRef:a,onFinish:function(){var t=m()(l()().mark(function E(P){var g;return l()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Z(d()(d()({},P),{},{menuIds:[],menuCheckStrictly:!0}));case 2:return o==null||o.reload(),(g=a.current)===null||g===void 0||g.resetFields(),we.ZP.success("\u65B0\u5EFA\u6210\u529F"),I.abrupt("return",!0);case 6:case"end":return I.stop()}},E)}));return function(E){return t.apply(this,arguments)}}(),width:500,children:[(0,u.jsx)(Le.Z,{name:"roleName",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0}]}),(0,u.jsx)(Le.Z,{name:"roleKey",label:"\u6743\u9650\u5B57\u7B26",rules:[{required:!0}],tooltip:"\u63A7\u5236\u5668\u4E2D\u5B9A\u4E49\u7684\u6743\u9650\u5B57\u7B26\uFF0C\u5982\uFF1A@PreAuthorize(`@ss.hasRole('admin')`)"}),(0,u.jsx)(tt.Z,{name:"roleSort",label:"\u663E\u793A\u6392\u5E8F",rules:[{required:!0}],initialValue:0}),(0,u.jsx)(nt.Z.Group,{name:"status",label:"\u72B6\u6001",valueEnum:C.al,initialValue:C.vu.ENABLE}),(0,u.jsx)(rt.Z,{name:"remark",label:"\u5907\u6CE8"})]})})},ut=at,st=e(39449),lt=e(9535),Ne=e(16340),ot=function(){var r=(0,Re.md)(),a=Y(),o=X(),t=w(),E=t.roleId,P=t.roleName,g=function(){return lt.Z.confirm({title:"\u5220\u9664\u786E\u8BA4",content:(0,u.jsxs)(u.Fragment,{children:["\u786E\u5B9A\u5BF9\u89D2\u8272",(0,u.jsx)(Ne.Z.Text,{code:!0,children:P}),"\u8FDB\u884C",(0,u.jsx)(Ne.Z.Text,{code:!0,children:"\u5220\u9664"}),"\u64CD\u4F5C\u5417\uFF1F"]}),onOk:function(){var I=m()(l()().mark(function N(){var K;return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,_e({roleIds:E});case 2:a==null||a.reload(),a==null||(K=a.clearSelected)===null||K===void 0||K.call(a),o(),we.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return S.stop()}},N)}));function oe(){return I.apply(this,arguments)}return oe}()})};return(0,u.jsx)(Re.Nv,{accessible:r.canRemoveSysRole,children:(0,u.jsx)(me.Z,{danger:!0,ghost:!0,icon:(0,u.jsx)(st.Z,{}),onClick:g,children:"\u5220\u9664"})})},it=ot,ct=e(93275),$e=e.n(ct),dt=e(46686),ne=e.n(dt),le=e(20747),Be=e(36937),mt=e(94434),pt=e.n(mt),vt=e(90026),ht=e(71600),ft=e(29993),Fe=e(3650),Ue=e(84337),Ke=e(60171),yt=e(48777),St=e(44786),gt={title:"label",key:"id",children:"children"},Rt=function n(r){var a=[];return r.forEach(function(o){var t=o.id,E=o.children;a.push(t),E&&a.push.apply(a,pt()(n(E)))}),a},Tt=function(r){var a,o=r.roleId,t=r.handleEdit,E=(0,U.useState)([]),P=ne()(E,2),g=P[0],k=P[1],I=(0,U.useState)(!1),oe=ne()(I,2),N=oe[0],K=oe[1],pe=(0,U.useState)([]),S=ne()(pe,2),Q=S[0],Te=S[1],ke=(0,U.useState)([]),he=ne()(ke,2),fe=he[0],$=he[1],A=(0,U.useState)(!1),G=ne()(A,2),z=G[0],ye=G[1],ie=(0,U.useState)(!0),ce=ne()(ie,2),Ve=ce[0],be=ce[1],Xe=(0,Ue.Z)(m()(l()().mark(function b(){var p,R,Ze;return l()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,(0,vt.bi)({roleId:o});case 2:return p=ve.sent,R=p.menus,Ze=p.checkedKeys,ve.abrupt("return",{treeData:R,selectedMenuIds:Ze,selectedTreeData:(0,v.Cr)(R,Ze),allMenuIds:(0,v.x$)(R)});case 6:case"end":return ve.stop()}},b)})),{ready:o>0,refreshDeps:[o],onSuccess:function(p){K(!1),$(p.selectedTreeData)}}),f=Xe.data,Mt=Xe.refresh,Je=(0,Fe.useMutation)(m()(l()().mark(function b(){return l()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,t({menuIds:g});case 2:Mt();case 3:case"end":return R.stop()}},b)}))),Qe=Je.isLoading,Zt=Je.mutate,Ce=Rt((a=f==null?void 0:f.treeData)!==null&&a!==void 0?a:[]),Me=(Q==null?void 0:Q.length)!==0&&(Q==null?void 0:Q.length)===(Ce==null?void 0:Ce.length),Ot=function(p){if(p||Ve){var R;k((R=f==null?void 0:f.allMenuIds)!==null&&R!==void 0?R:[]);return}k([])};return(0,U.useEffect)(function(){if((f==null?void 0:f.allMenuIds.length)===g.length){ye(!0),be(!1);return}if(g.length===0){ye(!1),be(!1);return}be(!0)},[f==null?void 0:f.allMenuIds,g]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("header",{className:"flex justify-between mb-2",children:[(0,u.jsxs)(Ke.Z,{children:[fe.length>0&&(0,u.jsx)(me.Z,{size:"small",icon:Me?(0,u.jsx)(ht.Z,{}):(0,u.jsx)(ft.Z,{}),onClick:function(){return Te(Me?[]:Ce)},children:Me?"\u5168\u90E8\u6298\u53E0":"\u5168\u90E8\u5C55\u5F00"}),N&&(0,u.jsx)(yt.Z,{indeterminate:Ve,onChange:function(p){return Ot(p.target.checked)},checked:z,children:"\u5168\u9009/\u5168\u4E0D\u9009"})]}),(0,u.jsx)(Oe.Access,{accessible:!0,children:N?(0,u.jsxs)(Ke.Z,{children:[(0,u.jsx)(me.Z,{loading:Qe,onClick:function(){var p;K(!1),$((p=f==null?void 0:f.selectedTreeData)!==null&&p!==void 0?p:[])},children:"\u53D6\u6D88\u7F16\u8F91"}),(0,u.jsx)(me.Z,{type:"primary",ghost:!0,loading:Qe,onClick:function(){return Zt()},children:"\u4FDD\u5B58"})]}):(0,u.jsx)(me.Z,{type:"primary",ghost:!0,onClick:function(){var p,R;K(!0),k((p=f==null?void 0:f.selectedMenuIds)!==null&&p!==void 0?p:[]),$((R=f==null?void 0:f.treeData)!==null&&R!==void 0?R:[])},children:"\u7F16\u8F91\u6743\u9650"})})]}),(0,u.jsx)("div",{className:"h-[390px] overflow-y-auto",children:fe.length>0?(0,u.jsx)(St.Z,{blockNode:!0,showLine:{showLeafIcon:!1},checkable:N,checkStrictly:!0,fieldNames:gt,checkedKeys:g,treeData:fe,expandedKeys:Q,onExpand:function(p){return Te(p)},onCheck:function(p){k(p.checked)}}):(0,u.jsx)(Be._E,{description:"\u6682\u672A\u5206\u914D\u6743\u9650"})})]})},Ct=Tt,Ge=e(70675),xt=e(45374),It=e(96022),Ye=e(95331),jt=function(){var r=(0,U.useState)([]),a=ne()(r,2),o=a[0],t=a[1],E=xt.Z.useForm(),P=ne()(E,1),g=P[0],k=(0,Re.md)(),I=Y(),oe=w(),N=oe.roleId,K=oe.visible,pe=(0,Ue.Z)(function(){return ze({roleId:N})},{ready:K&&N>0,refreshDeps:[N],onSuccess:function(){t([])}}),S=pe.data,Q=pe.loading,Te=pe.refresh,ke=(0,Fe.useMutation)(function(){var $=m()(l()().mark(function A(G){var z;return l()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,L(d()({roleId:N,menuIds:(z=S==null?void 0:S.menuIds)!==null&&z!==void 0?z:[],roleKey:S.roleKey,roleName:S.roleName,roleSort:S.roleSort,status:S.status},G));case 2:case"end":return ie.stop()}},A)}));return function(A){return $.apply(this,arguments)}}(),{onSuccess:function(){Te(),I==null||I.reload(),we.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),he=ke.mutateAsync,fe=k.canEditSysRole&&S?{form:g,editableKeys:o,onChange:function(A,G){t(A),A.length===1&&!Array.isArray(G)&&g.setFieldsValue($e()({},A[0],G[A[0]]))},onSave:function(){var $=m()(l()().mark(function G(z,ye){return l()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,he($e()({},z,ye[z]));case 2:case"end":return ce.stop()}},G)}));function A(G,z){return $.apply(this,arguments)}return A}()}:void 0;return K?(0,u.jsxs)(It.Z,{spinning:Q,children:[(0,u.jsx)(Ge.vY,{column:2,columns:[le.g4,le.eJ],dataSource:S}),(0,u.jsx)(Ye.Z,{}),(0,u.jsx)(Ge.vY,{column:2,columns:[le.sE,le.tE,le.Rj,le.VP,le.Fu],dataSource:S,editable:fe}),(0,u.jsx)(Ye.Z,{}),(0,u.jsx)(Ct,{roleId:N,handleEdit:function(A){return he(A)}})]}):(0,u.jsx)(Be._E,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u89D2\u8272\u67E5\u770B\u8BE6\u60C5"})},Et=jt,Pt=e(18825),We=e(12416),At=function(){var r=W(),a=ae(),o=(0,q.n)("roleId","radio"),t=o.onClick,E=o.rowSelection,P=o.selectedRows;return(0,U.useEffect)(function(){P.length===1&&a({roleId:P[0].roleId,roleName:P[0].roleName,visible:!0})},[P]),(0,u.jsx)(Pt.Rs,{ghost:!0,rowKey:"roleId",actionRef:r,metas:{title:{dataIndex:"roleName"},subTitle:{dataIndex:"status",render:function(k){return k===C.vu.ENABLE?(0,u.jsx)(We.Z,{color:"success",children:"\u542F\u7528\u4E2D"}):(0,u.jsx)(We.Z,{color:"error",children:"\u5DF2\u7981\u7528"})}}},tableAlertRender:!1,onRow:function(k){return{onClick:function(){return t(k)}}},rowSelection:E,pagination:{pageSize:10},request:function(){return He(v.h$.apply(void 0,arguments))}})},wt=At,Dt=e(92112),De=e(75521),kt=function(){return(0,u.jsx)(Dt.ZP,{children:(0,u.jsxs)(De.Z,{ghost:!0,gutter:24,children:[(0,u.jsx)(De.Z,{title:"\u89D2\u8272\u5217\u8868",colSpan:"400px",extra:(0,u.jsx)(ut,{}),children:(0,u.jsx)(wt,{})}),(0,u.jsx)(De.Z,{title:"\u89D2\u8272\u8BE6\u60C5",extra:(0,u.jsx)(it,{}),children:(0,u.jsx)(Et,{})})]})})},bt=kt},90026:function(xe,H,e){e.d(H,{CP:function(){return V},FV:function(){return q},WJ:function(){return Y},Yh:function(){return ee},bi:function(){return v},tg:function(){return ae}});var y=e(35290),l=e.n(y),re=e(30279),d=e.n(re),_=e(411),m=e.n(_),C=e(45402);function q(i,c){return x.apply(this,arguments)}function x(){return x=m()(l()().mark(function i(c,h){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.WY)("/system/menu/add",d()({method:"POST",headers:{"Content-Type":"application/json"},data:c},h||{})));case 1:case"end":return s.stop()}},i)})),x.apply(this,arguments)}function ee(i,c){return M.apply(this,arguments)}function M(){return M=m()(l()().mark(function i(c,h){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.WY)("/system/menu/edit",d()({method:"POST",headers:{"Content-Type":"application/json"},data:c},h||{})));case 1:case"end":return s.stop()}},i)})),M.apply(this,arguments)}function Y(i,c){return W.apply(this,arguments)}function W(){return W=m()(l()().mark(function i(c,h){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.WY)("/system/menu/info",d()({method:"GET",params:d()({},c)},h||{})));case 1:case"end":return s.stop()}},i)})),W.apply(this,arguments)}function V(i,c){return X.apply(this,arguments)}function X(){return X=m()(l()().mark(function i(c,h){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.WY)("/system/menu/list",d()({method:"POST",headers:{"Content-Type":"application/json"},data:c},h||{})));case 1:case"end":return s.stop()}},i)})),X.apply(this,arguments)}function ae(i,c){return w.apply(this,arguments)}function w(){return w=m()(l()().mark(function i(c,h){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.WY)("/system/menu/remove",d()({method:"POST",params:d()({},c)},h||{})));case 1:case"end":return s.stop()}},i)})),w.apply(this,arguments)}function v(i,c){return Z.apply(this,arguments)}function Z(){return Z=m()(l()().mark(function i(c,h){return l()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,C.WY)("/system/menu/roleMenuTreeSelect",d()({method:"GET",params:d()({},c)},h||{})));case 1:case"end":return s.stop()}},i)})),Z.apply(this,arguments)}function te(i,c){return J.apply(this,arguments)}function J(){return J=_asyncToGenerator(_regeneratorRuntime().mark(function i(c,h){return _regeneratorRuntime().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",request("/system/menu/treeSelect",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:c},h||{})));case 1:case"end":return s.stop()}},i)})),J.apply(this,arguments)}}}]);
