"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[24],{20747:function(je,_,e){e.d(_,{ew:function(){return u},Jx:function(){return q},iT:function(){return Y},Zi:function(){return K},Bw:function(){return W},eJ:function(){return te},fk:function(){return p},sE:function(){return z},WW:function(){return b},sy:function(){return ce},E$:function(){return ye},_M:function(){return re},tC:function(){return l},wX:function(){return h},oh:function(){return A},Uc:function(){return M},x:function(){return X},Mw:function(){return J},p_:function(){return ne},$V:function(){return V},Qo:function(){return k},$9:function(){return y},Jy:function(){return i},VP:function(){return x},g4:function(){return O},Fu:function(){return Z},Rj:function(){return fe},tE:function(){return T},iO:function(){return ae},q2:function(){return j},jR:function(){return H},BP:function(){return c},au:function(){return m}});var f=e(31194),l={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},te={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},m={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},z={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:f.al},p={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(w){return{beginCreateTime:w[0],endCreateTime:w[1]}}}},x={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},H={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},j={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},q={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},b={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},K={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},Y={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},W={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},V={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:f.gh,width:90},ne={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},A={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:f.gc},h={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:f.gc},M={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:f.gc},X={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:f.gc},J={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:f.gc},i={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:f.CX,width:70},c={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:f.V},y={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},k={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},u={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},ce={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},re={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:f.LZ},ye={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},ae={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},fe={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},O={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},Z={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},T={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},44926:function(je,_,e){e.d(_,{Z:function(){return te},n:function(){return V}});var f=e(50959),l=e(98205),te=function(A){var h=(0,f.useRef)(),M=(0,l.Zl)(A);return(0,f.useEffect)(function(){h!=null&&h.current&&M(h.current)},[]),h},m=e(35290),z=e.n(m),p=e(411),x=e.n(p),H=e(94434),j=e.n(H),q=e(46686),b=e.n(q),K=e(70264),Y=e(32222),W=e.n(Y),V=function(A){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"checkbox",M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,X=(0,f.useState)([]),J=b()(X,2),i=J[0],c=J[1],y=(0,f.useState)([]),k=b()(y,2),u=k[0],ce=k[1],re={alwaysShowAlert:M,type:h,selectedRowKeys:i,onChange:function(Z,T){ce(T),c(Z)}},ye=function(Z){var T=Z[A],N=[Z],w=[T];if(h==="checkbox")if(w=j()(i),N=W()(u),w.includes(T)){var U=i.indexOf(T);w.splice(U,1),N.splice(U,1)}else N.push(Z),w.push(T);ce(N),c(w)},ae=function(){ce([]),c([])},fe=function(){var O=x()(z()().mark(function Z(){var T,N=arguments;return z()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(T=N.length>0&&N[0]!==void 0?N[0]:"\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61",(u==null?void 0:u.length)!==0){U.next=4;break}return K.ZP.warning(T),U.abrupt("return",Promise.reject(T));case 4:return U.abrupt("return",Promise.resolve(u));case 5:case"end":return U.stop()}},Z)}));return function(){return O.apply(this,arguments)}}();return{selectedRows:u,selectedRowKeys:i,rowSelection:re,onClick:ye,clearSelection:ae,setSelectedRowKeys:c,checkRowSelection:fe}}},346:function(je,_,e){e.r(_),e.d(_,{default:function(){return jt}});var f=e(35290),l=e.n(f),te=e(30279),m=e.n(te),z=e(411),p=e.n(z),x=e(31194),H=e(44926),j=e(98205),q="systemRole",b=(0,j.cn)({key:"".concat(q,"AtomRoleListActions"),default:void 0}),K=function(){return(0,j.sJ)(b)},Y=function(){return(0,H.Z)(b)},W=(0,j.cn)({key:"".concat(q,"AtomRoleDetails"),default:{visible:!1,roleId:0,roleName:""}}),V=function(){return(0,j.rb)(W)},ne=function(){return(0,j.Zl)(W)},A=function(){return(0,j.sJ)(W)},h=e(45402);function M(r,n){return X.apply(this,arguments)}function X(){return X=p()(l()().mark(function r(n,s){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.WY)("/system/role/add",m()({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),X.apply(this,arguments)}function J(r,n){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/allocatedList",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),i.apply(this,arguments)}function c(r,n){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/cancel",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),y.apply(this,arguments)}function k(r,n){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/cancelAll",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),u.apply(this,arguments)}function ce(r,n){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/selectAll",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),re.apply(this,arguments)}function ye(r,n){return ae.apply(this,arguments)}function ae(){return ae=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/authUser/unallocatedList",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),ae.apply(this,arguments)}function fe(r,n){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/changeStatus",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),O.apply(this,arguments)}function Z(r,n){return T.apply(this,arguments)}function T(){return T=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/dataScope",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),T.apply(this,arguments)}function N(r,n){return w.apply(this,arguments)}function w(){return w=p()(l()().mark(function r(n,s){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.WY)("/system/role/edit",m()({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),w.apply(this,arguments)}function U(r,n){return Ie.apply(this,arguments)}function Ie(){return Ie=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("/system/role/export",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),Ie.apply(this,arguments)}function Xe(r,n){return Pe.apply(this,arguments)}function Pe(){return Pe=p()(l()().mark(function r(n,s){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.WY)("/system/role/info",m()({method:"GET",params:m()({},n)},s||{})));case 1:case"end":return t.stop()}},r)})),Pe.apply(this,arguments)}function Je(r,n){return Ee.apply(this,arguments)}function Ee(){return Ee=p()(l()().mark(function r(n,s){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.WY)("/system/role/list",m()({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return t.stop()}},r)})),Ee.apply(this,arguments)}function At(r){return Ae.apply(this,arguments)}function Ae(){return Ae=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("/system/role/optionSelect",_objectSpread({method:"GET"},n||{})));case 1:case"end":return o.stop()}},r)})),Ae.apply(this,arguments)}function Qe(r,n){return we.apply(this,arguments)}function we(){return we=p()(l()().mark(function r(n,s){return l()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.WY)("/system/role/remove",m()({method:"POST",params:m()({},n)},s||{})));case 1:case"end":return t.stop()}},r)})),we.apply(this,arguments)}var Be=e(53136),Se=e(15328),_e=e(54064),ze=e(55134),Fe=e(55099),He=e(18723),qe=e(37349),et=e(1206),De=e(3650),ke=e(70264),pe=e(61857),L=e(50959),a=e(11527),tt=function(){var n=(0,Se.md)(),s=(0,L.useRef)(),o=K(),t=(0,De.useMutation)(M,{onSuccess:function(){var g;o==null||o.reload(),(g=s.current)===null||g===void 0||g.resetFields(),ke.ZP.success("\u65B0\u5EFA\u6210\u529F")}}),$=t.mutateAsync;return(0,a.jsx)(Be.Access,{accessible:n.canAddSysRole,children:(0,a.jsxs)(ze.Y,{title:"\u65B0\u5EFA\u89D2\u8272",trigger:(0,a.jsx)(pe.Z,{type:"primary",icon:(0,a.jsx)(_e.Z,{}),children:"\u65B0\u5EFA"}),formRef:s,onFinish:function(){var I=p()(l()().mark(function g(C){return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,$(m()(m()({},C),{},{menuIds:[],menuCheckStrictly:!1}));case 2:return P.abrupt("return",!0);case 3:case"end":return P.stop()}},g)}));return function(g){return I.apply(this,arguments)}}(),width:500,children:[(0,a.jsx)(Fe.Z,{name:"roleName",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0}]}),(0,a.jsx)(Fe.Z,{name:"roleKey",label:"\u6743\u9650\u5B57\u7B26",rules:[{required:!0}],tooltip:"\u63A7\u5236\u5668\u4E2D\u5B9A\u4E49\u7684\u6743\u9650\u5B57\u7B26\uFF0C\u5982\uFF1A@PreAuthorize(`@ss.hasRole('admin')`)"}),(0,a.jsx)(He.Z,{name:"roleSort",label:"\u663E\u793A\u6392\u5E8F",rules:[{required:!0}],initialValue:0}),(0,a.jsx)(qe.Z.Group,{name:"status",label:"\u72B6\u6001",valueEnum:x.al,initialValue:x.vu.ENABLE}),(0,a.jsx)(et.Z,{name:"remark",label:"\u5907\u6CE8"})]})})},nt=tt,rt=e(39449),at=e(9535),Oe=e(16340),ut=function(){var n=(0,Se.md)(),s=K(),o=V(),t=A(),$=t.roleId,I=t.roleName,g=function(){return at.Z.confirm({title:"\u5220\u9664\u786E\u8BA4",content:(0,a.jsxs)(a.Fragment,{children:["\u786E\u5B9A\u5BF9\u89D2\u8272",(0,a.jsx)(Oe.Z.Text,{code:!0,children:I}),"\u8FDB\u884C",(0,a.jsx)(Oe.Z.Text,{code:!0,children:"\u5220\u9664"}),"\u64CD\u4F5C\u5417\uFF1F"]}),onOk:function(){var se=p()(l()().mark(function G(){var D;return l()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Qe({roleIds:$});case 2:s==null||s.reload(),s==null||(D=s.clearSelected)===null||D===void 0||D.call(s),o(),ke.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return B.stop()}},G)}));function P(){return se.apply(this,arguments)}return P}()})};return(0,a.jsx)(Se.Nv,{accessible:n.canRemoveSysRole,children:(0,a.jsx)(pe.Z,{danger:!0,ghost:!0,icon:(0,a.jsx)(rt.Z,{}),onClick:g,children:"\u5220\u9664"})})},st=ut,lt=e(93275),Ue=e.n(lt),ot=e(46686),de=e.n(ot),ue=e(20747),Le=e(36937),it=e(94434),ge=e.n(it),ct=e(90026),$e=e(84337),Ge=e(60171),be=e(48777),dt=e(44786),mt={title:"label",key:"id",children:"children"},pt=function(n){var s=n.selectedMenuIds,o=n.menuCheckStrictly,t=n.handleEdit,$=(0,L.useState)([]),I=de()($,2),g=I[0],C=I[1],se=(0,L.useState)(!1),P=de()(se,2),G=P[0],D=P[1],he=(0,L.useState)(!1),B=de()(he,2),v=B[0],me=B[1],Ze=(0,L.useState)([]),Re=de()(Ze,2),Te=Re[0],ve=Re[1],ee=A(),E=ee.roleId,Q=(0,$e.Z)(p()(l()().mark(function R(){var d;return l()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,(0,ct.Q_)({});case 2:return d=ie.sent,ie.abrupt("return",{treeData:d,allMenuIds:(0,h.x$)(d),allParentIds:(0,h.Vy)(d)});case 4:case"end":return ie.stop()}},R)}))),S=Q.data,Ce=function(d){if(d){var F;ve((F=S==null?void 0:S.allParentIds)!==null&&F!==void 0?F:[]);return}ve([])},le=function(d){if(d){var F;C((F=S==null?void 0:S.allMenuIds)!==null&&F!==void 0?F:[]);return}C([])},oe=(0,De.useMutation)(p()(l()().mark(function R(){var d,F;return l()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return G?d=g:(F=g.reduce(function(Pt,Et){return[].concat(ge()(Pt),ge()((0,h.b0)(S.treeData,Et)))},[]),d=Array.from(new Set([].concat(ge()(g),ge()(F))))),xe.next=3,t({menuIds:d,menuCheckStrictly:G});case 3:case"end":return xe.stop()}},R)})),{onSuccess:function(){me(!1)}}),Ve=oe.isLoading,It=oe.mutate,Ne=(0,L.useMemo)(function(){var R,d=(R=S==null?void 0:S.treeData)!==null&&R!==void 0?R:[];return v?d:(0,h.Cr)(d,s)},[s,v,S]);return(0,L.useEffect)(function(){E>0&&me(!1)},[E]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"flex justify-between mb-2",children:[(0,a.jsxs)(Ge.Z,{children:[Ne.length>0&&(0,a.jsx)(be.Z,{onChange:function(d){return Ce(d.target.checked)},children:"\u5C55\u5F00/\u6298\u53E0"}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(be.Z,{onChange:function(d){return le(d.target.checked)},children:"\u5168\u9009/\u5168\u4E0D\u9009"}),(0,a.jsx)(be.Z,{checked:!G,onChange:function(d){return D(!d.target.checked)},children:"\u7236\u5B50\u8054\u52A8"})]})]}),(0,a.jsx)(Be.Access,{accessible:!0,children:v?(0,a.jsxs)(Ge.Z,{children:[(0,a.jsx)(pe.Z,{loading:Ve,onClick:function(){return me(!1)},children:"\u53D6\u6D88\u7F16\u8F91"}),(0,a.jsx)(pe.Z,{type:"primary",ghost:!0,loading:Ve,onClick:function(){return It()},children:"\u4FDD\u5B58"})]}):(0,a.jsx)(pe.Z,{type:"primary",ghost:!0,onClick:function(){me(!0),C(s),D(o)},children:"\u7F16\u8F91\u6743\u9650"})})]}),(0,a.jsx)("div",{className:"h-[390px] overflow-y-auto",children:Ne.length>0?(0,a.jsx)(dt.Z,{blockNode:!0,checkable:v,checkStrictly:G,fieldNames:mt,checkedKeys:g,treeData:Ne,expandedKeys:Te,onExpand:function(d){return ve(d)},onCheck:function(d){if(G){C(d.checked);return}C(d)}}):(0,a.jsx)(Le._E,{description:"\u6682\u672A\u5206\u914D\u6743\u9650"})})]})},ht=pt,Ke=e(70675),vt=e(45374),yt=e(96022),Ye=e(95331),ft=function(){var n,s=(0,L.useState)([]),o=de()(s,2),t=o[0],$=o[1],I=vt.Z.useForm(),g=de()(I,1),C=g[0],se=(0,Se.md)(),P=K(),G=A(),D=G.roleId,he=G.visible,B=(0,$e.Z)(function(){return Xe({roleId:D})},{ready:he&&D>0,refreshDeps:[D]}),v=B.data,me=B.loading,Ze=B.refresh,Re=(0,De.useMutation)(function(){var ee=p()(l()().mark(function E(Q){var S;return l()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,N(m()({roleId:D,menuIds:(S=v==null?void 0:v.menuIds)!==null&&S!==void 0?S:[],roleKey:v.roleKey,roleName:v.roleName,roleSort:v.roleSort,status:v.status},Q));case 2:case"end":return le.stop()}},E)}));return function(E){return ee.apply(this,arguments)}}(),{onSuccess:function(){Ze(),P==null||P.reload(),ke.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),Te=Re.mutateAsync,ve=se.canEditSysRole&&v?{form:C,editableKeys:t,onChange:function(E,Q){$(E),E.length===1&&!Array.isArray(Q)&&C.setFieldsValue(Ue()({},E[0],Q[E[0]]))},onSave:function(){var ee=p()(l()().mark(function Q(S,Ce){return l()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,Te(Ue()({},S,Ce[S]));case 2:case"end":return oe.stop()}},Q)}));function E(Q,S){return ee.apply(this,arguments)}return E}()}:void 0;return(0,L.useEffect)(function(){D>0&&$([])},[D]),he?(0,a.jsxs)(yt.Z,{spinning:me,children:[(0,a.jsx)(Ke.vY,{column:2,columns:[ue.g4,ue.eJ],dataSource:v}),(0,a.jsx)(Ye.Z,{}),(0,a.jsx)(Ke.vY,{column:2,columns:[ue.sE,ue.tE,ue.Rj,ue.VP,ue.Fu],dataSource:v,editable:ve}),(0,a.jsx)(Ye.Z,{}),(0,a.jsx)(ht,{selectedMenuIds:(n=v==null?void 0:v.menuIds)!==null&&n!==void 0?n:[],menuCheckStrictly:!!(v!=null&&v.menuCheckStrictly),handleEdit:function(E){return Te(E)}})]}):(0,a.jsx)(Le._E,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u89D2\u8272\u67E5\u770B\u8BE6\u60C5"})},St=ft,gt=e(18825),We=e(12416),Rt=function(){var n=Y(),s=ne(),o=(0,H.n)("roleId","radio"),t=o.onClick,$=o.rowSelection,I=o.selectedRows;return(0,L.useEffect)(function(){I.length===1&&s({roleId:I[0].roleId,roleName:I[0].roleName,visible:!0})},[I]),(0,a.jsx)(gt.Rs,{ghost:!0,rowKey:"roleId",actionRef:n,metas:{title:{dataIndex:"roleName"},subTitle:{dataIndex:"status",render:function(C){return C===x.vu.ENABLE?(0,a.jsx)(We.Z,{color:"success",children:"\u542F\u7528\u4E2D"}):(0,a.jsx)(We.Z,{color:"error",children:"\u5DF2\u7981\u7528"})}}},tableAlertRender:!1,onRow:function(C){return{onClick:function(){return t(C)}}},rowSelection:$,pagination:{pageSize:10},request:function(){return Je(h.h$.apply(void 0,arguments))}})},Tt=Rt,Ct=e(92112),Me=e(75521),xt=function(){return(0,a.jsx)(Ct.ZP,{children:(0,a.jsxs)(Me.Z,{ghost:!0,gutter:24,children:[(0,a.jsx)(Me.Z,{title:"\u89D2\u8272\u5217\u8868",colSpan:"400px",extra:(0,a.jsx)(nt,{}),children:(0,a.jsx)(Tt,{})}),(0,a.jsx)(Me.Z,{title:"\u89D2\u8272\u8BE6\u60C5",extra:(0,a.jsx)(st,{}),children:(0,a.jsx)(St,{})})]})})},jt=xt},90026:function(je,_,e){e.d(_,{CP:function(){return W},FV:function(){return H},Q_:function(){return X},WJ:function(){return K},Yh:function(){return q},tg:function(){return ne}});var f=e(35290),l=e.n(f),te=e(30279),m=e.n(te),z=e(411),p=e.n(z),x=e(45402);function H(i,c){return j.apply(this,arguments)}function j(){return j=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/add",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),j.apply(this,arguments)}function q(i,c){return b.apply(this,arguments)}function b(){return b=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/edit",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),b.apply(this,arguments)}function K(i,c){return Y.apply(this,arguments)}function Y(){return Y=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/info",m()({method:"GET",params:m()({},c)},y||{})));case 1:case"end":return u.stop()}},i)})),Y.apply(this,arguments)}function W(i,c){return V.apply(this,arguments)}function V(){return V=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/list",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),V.apply(this,arguments)}function ne(i,c){return A.apply(this,arguments)}function A(){return A=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/remove",m()({method:"POST",params:m()({},c)},y||{})));case 1:case"end":return u.stop()}},i)})),A.apply(this,arguments)}function h(i,c){return M.apply(this,arguments)}function M(){return M=_asyncToGenerator(_regeneratorRuntime().mark(function i(c,y){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/system/menu/roleMenuTreeSelect",_objectSpread({method:"GET",params:_objectSpread({},c)},y||{})));case 1:case"end":return u.stop()}},i)})),M.apply(this,arguments)}function X(i,c){return J.apply(this,arguments)}function J(){return J=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/treeSelect",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),J.apply(this,arguments)}}}]);
