"use strict";(self.webpackChunkruoyi_x_umi=self.webpackChunkruoyi_x_umi||[]).push([[24],{78798:function(Ce,Q,t){t.d(Q,{ew:function(){return u},Jx:function(){return q},iT:function(){return K},Zi:function(){return G},Bw:function(){return Y},eJ:function(){return te},fk:function(){return p},sE:function(){return z},WW:function(){return M},sy:function(){return ie},E$:function(){return ye},_M:function(){return re},tC:function(){return l},wX:function(){return v},oh:function(){return A},Uc:function(){return Z},x:function(){return V},Mw:function(){return X},p_:function(){return ne},$V:function(){return W},Qo:function(){return b},$9:function(){return y},Jy:function(){return i},VP:function(){return x},g4:function(){return O},Fu:function(){return N},Rj:function(){return fe},tE:function(){return R},iO:function(){return ae},q2:function(){return j},jR:function(){return H},BP:function(){return c},au:function(){return m}});var f=t(85880),l={title:"\u5E8F\u53F7",dataIndex:"index",key:"index",valueType:"indexBorder",editable:!1,width:60},te={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",key:"createTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},m={title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updateTime",key:"updateTime",valueType:"dateTime",editable:!1,hideInSearch:!0,sorter:!0},z={title:"\u72B6\u6001",dataIndex:"status",key:"status",valueType:"radio",valueEnum:f.al},p={title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",key:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0,search:{transform:function(w){return{beginCreateTime:w[0],endCreateTime:w[1]}}}},x={title:"\u5907\u6CE8",dataIndex:"remark",key:"remark",valueType:"textarea",hideInSearch:!0},H={title:"\u8868\u540D\u79F0",dataIndex:"tableName",key:"tableName",valueType:"text"},j={title:"\u8868\u63CF\u8FF0",dataIndex:"tableComment",key:"tableComment",valueType:"text"},q={title:"\u5B9E\u4F53\u540D\u79F0",dataIndex:"className",key:"className",valueType:"text",hideInSearch:!0},M={title:"\u4F5C\u8005",dataIndex:"functionAuthor",key:"functionAuthor",valueType:"text"},G={title:"\u5B57\u6BB5\u540D\u79F0",dataIndex:"columnName",key:"columnName",valueType:"text",editable:!1,ellipsis:!0,width:100},K={title:"\u5B57\u6BB5\u63CF\u8FF0",dataIndex:"columnComment",key:"columnComment",valueType:"text",width:250},Y={title:"\u7269\u7406\u7C7B\u578B",dataIndex:"columnType",key:"columnType",valueType:"text",editable:!1,ellipsis:!0,width:100},W={title:"JAVA\u7C7B\u578B",dataIndex:"javaType",key:"javaType",valueType:"select",valueEnum:f.gh,width:90},ne={title:"JAVA\u5C5E\u6027",dataIndex:"javaField",key:"javaField",valueType:"text",width:140},A={title:"\u63D2\u5165",dataIndex:"isInsert",key:"isInsert",valueType:"radioButton",width:115,valueEnum:f.gc},v={title:"\u7F16\u8F91",dataIndex:"isEdit",key:"isEdit",valueType:"radioButton",width:115,valueEnum:f.gc},Z={title:"\u5217\u8868",dataIndex:"isList",key:"isList",valueType:"radioButton",width:115,valueEnum:f.gc},V={title:"\u67E5\u8BE2",dataIndex:"isQuery",key:"isQuery",valueType:"radioButton",width:115,valueEnum:f.gc},X={title:"\u5FC5\u586B",dataIndex:"isRequired",key:"isRequired",valueType:"radioButton",width:115,valueEnum:f.gc},i={title:"\u67E5\u8BE2\u65B9\u5F0F",dataIndex:"queryType",key:"queryType",valueType:"select",valueEnum:f.CX,width:70},c={title:"\u751F\u6210\u6A21\u7248",dataIndex:"tplCategory",key:"tplCategory",valueType:"select",valueEnum:f.V},y={title:"\u751F\u6210\u5305\u8DEF\u5F84",dataIndex:"packageName",key:"packageName",valueType:"text"},b={title:"\u751F\u6210\u6A21\u5757\u540D",dataIndex:"moduleName",key:"moduleName",valueType:"text"},u={title:"\u751F\u6210\u4E1A\u52A1\u540D",dataIndex:"businessName",key:"businessName",valueType:"text"},ie={title:"\u751F\u6210\u529F\u80FD\u540D",dataIndex:"functionName",key:"functionName",valueType:"text"},re={title:"\u751F\u6210\u4EE3\u7801\u65B9\u5F0F",dataIndex:"genType",key:"genType",valueType:"select",valueEnum:f.LZ},ye={title:"\u81EA\u5B9A\u4E49\u8DEF\u5F84",dataIndex:"genPath",key:"genPath",valueType:"text"},ae={title:"\u5E8F\u53F7",dataIndex:"sort",valueType:"indexBorder",editable:!1,width:80},fe={title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",key:"roleName",valueType:"text"},O={title:"\u89D2\u8272\u7F16\u53F7",dataIndex:"roleId",key:"roleId",valueType:"text",hideInSearch:!0,editable:!1},N={title:"\u6743\u9650\u5B57\u7B26",dataIndex:"roleKey",key:"roleKey",valueType:"text"},R={title:"\u663E\u793A\u6392\u5E8F",dataIndex:"roleSort",key:"roleSort",valueType:"text",hideInSearch:!0}},84660:function(Ce,Q,t){t.d(Q,{Z:function(){return te},n:function(){return W}});var f=t(50959),l=t(98205),te=function(A){var v=(0,f.useRef)(),Z=(0,l.Zl)(A);return(0,f.useEffect)(function(){v!=null&&v.current&&Z(v.current)},[]),v},m=t(35290),z=t.n(m),p=t(411),x=t.n(p),H=t(94434),j=t.n(H),q=t(46686),M=t.n(q),G=t(25081),K=t(32222),Y=t.n(K),W=function(A){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"checkbox",Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,V=(0,f.useState)([]),X=M()(V,2),i=X[0],c=X[1],y=(0,f.useState)([]),b=M()(y,2),u=b[0],ie=b[1],re={alwaysShowAlert:Z,type:v,selectedRowKeys:i,onChange:function(N,R){ie(R),c(N)}},ye=function(N){var R=N[A],B=[N],w=[R];if(v==="checkbox")if(w=j()(i),B=Y()(u),w.includes(R)){var U=i.indexOf(R);w.splice(U,1),B.splice(U,1)}else B.push(N),w.push(R);ie(B),c(w)},ae=function(){ie([]),c([])},fe=function(){var O=x()(z()().mark(function N(){var R,B=arguments;return z()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(R=B.length>0&&B[0]!==void 0?B[0]:"\u672A\u9009\u62E9\u9700\u8981\u64CD\u4F5C\u7684\u5BF9\u8C61",(u==null?void 0:u.length)!==0){U.next=4;break}return G.ZP.warning(R),U.abrupt("return",Promise.reject(R));case 4:return U.abrupt("return",Promise.resolve(u));case 5:case"end":return U.stop()}},N)}));return function(){return O.apply(this,arguments)}}();return{selectedRows:u,selectedRowKeys:i,rowSelection:re,onClick:ye,clearSelection:ae,setSelectedRowKeys:c,checkRowSelection:fe}}},97845:function(Ce,Q,t){t.r(Q),t.d(Q,{default:function(){return Tt}});var f=t(35290),l=t.n(f),te=t(30279),m=t.n(te),z=t(411),p=t.n(z),x=t(85880),H=t(84660),j=t(98205),q="systemRole",M=(0,j.cn)({key:"".concat(q,"AtomRoleListActions"),default:void 0}),G=function(){return(0,j.sJ)(M)},K=function(){return(0,H.Z)(M)},Y=(0,j.cn)({key:"".concat(q,"AtomRoleDetails"),default:{visible:!1,roleId:0,roleName:""}}),W=function(){return(0,j.rb)(Y)},ne=function(){return(0,j.Zl)(Y)},A=function(){return(0,j.sJ)(Y)},v=t(12824);function Z(r,n){return V.apply(this,arguments)}function V(){return V=p()(l()().mark(function r(n,s){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/system/role/add",m()({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),V.apply(this,arguments)}function X(r,n){return i.apply(this,arguments)}function i(){return i=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/authUser/allocatedList",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),i.apply(this,arguments)}function c(r,n){return y.apply(this,arguments)}function y(){return y=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/authUser/cancel",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function b(r,n){return u.apply(this,arguments)}function u(){return u=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/authUser/cancelAll",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),u.apply(this,arguments)}function ie(r,n){return re.apply(this,arguments)}function re(){return re=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/authUser/selectAll",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),re.apply(this,arguments)}function ye(r,n){return ae.apply(this,arguments)}function ae(){return ae=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/authUser/unallocatedList",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),ae.apply(this,arguments)}function fe(r,n){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/changeStatus",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),O.apply(this,arguments)}function N(r,n){return R.apply(this,arguments)}function R(){return R=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/dataScope",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),R.apply(this,arguments)}function B(r,n){return w.apply(this,arguments)}function w(){return w=p()(l()().mark(function r(n,s){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/system/role/edit",m()({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),w.apply(this,arguments)}function U(r,n){return xe.apply(this,arguments)}function xe(){return xe=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,s){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/system/role/export",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),xe.apply(this,arguments)}function We(r,n){return je.apply(this,arguments)}function je(){return je=p()(l()().mark(function r(n,s){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/system/role/info",m()({method:"GET",params:m()({},n)},s||{})));case 1:case"end":return e.stop()}},r)})),je.apply(this,arguments)}function Ve(r,n){return Ie.apply(this,arguments)}function Ie(){return Ie=p()(l()().mark(function r(n,s){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/system/role/list",m()({method:"POST",headers:{"Content-Type":"application/json"},data:n},s||{})));case 1:case"end":return e.stop()}},r)})),Ie.apply(this,arguments)}function jt(r){return Pe.apply(this,arguments)}function Pe(){return Pe=_asyncToGenerator(_regeneratorRuntime().mark(function r(n){return _regeneratorRuntime().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",request("/system/role/optionSelect",_objectSpread({method:"GET"},n||{})));case 1:case"end":return o.stop()}},r)})),Pe.apply(this,arguments)}function Xe(r,n){return Ee.apply(this,arguments)}function Ee(){return Ee=p()(l()().mark(function r(n,s){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.WY)("/system/role/remove",m()({method:"POST",params:m()({},n)},s||{})));case 1:case"end":return e.stop()}},r)})),Ee.apply(this,arguments)}var Ze=t(34521),Se=t(38562),_e=t(20436),Je=t(79900),Ne=t(55099),Qe=t(18723),ze=t(37349),He=t(1206),Ae=t(3650),we=t(25081),pe=t(61857),L=t(50959),a=t(11527),qe=function(){var n=(0,Se.md)(),s=(0,L.useRef)(),o=G(),e=(0,Ae.useMutation)(Z,{onSuccess:function(){var T;o==null||o.reload(),(T=s.current)===null||T===void 0||T.resetFields(),we.ZP.success("\u65B0\u5EFA\u6210\u529F")}}),$=e.mutateAsync;return(0,a.jsx)(Ze.Access,{accessible:n.canAddSysRole,children:(0,a.jsxs)(Je.Y,{title:"\u65B0\u5EFA\u89D2\u8272",trigger:(0,a.jsx)(pe.Z,{type:"primary",icon:(0,a.jsx)(_e.Z,{}),children:"\u65B0\u5EFA"}),formRef:s,onFinish:function(){var I=p()(l()().mark(function T(C){return l()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,$(m()(m()({},C),{},{menuIds:[],menuCheckStrictly:!1}));case 2:return P.abrupt("return",!0);case 3:case"end":return P.stop()}},T)}));return function(T){return I.apply(this,arguments)}}(),width:500,children:[(0,a.jsx)(Ne.Z,{name:"roleName",label:"\u89D2\u8272\u540D\u79F0",rules:[{required:!0}]}),(0,a.jsx)(Ne.Z,{name:"roleKey",label:"\u6743\u9650\u5B57\u7B26",rules:[{required:!0}],tooltip:"\u63A7\u5236\u5668\u4E2D\u5B9A\u4E49\u7684\u6743\u9650\u5B57\u7B26\uFF0C\u5982\uFF1A@PreAuthorize(`@ss.hasRole('admin')`)"}),(0,a.jsx)(Qe.Z,{name:"roleSort",label:"\u663E\u793A\u6392\u5E8F",rules:[{required:!0}],initialValue:0}),(0,a.jsx)(ze.Z.Group,{name:"status",label:"\u72B6\u6001",valueEnum:x.al,initialValue:x.vu.ENABLE}),(0,a.jsx)(He.Z,{name:"remark",label:"\u5907\u6CE8"})]})})},et=qe,tt=t(71224),nt=t(74444),Be=t(62200),rt=function(){var n=(0,Se.md)(),s=G(),o=W(),e=A(),$=e.roleId,I=e.roleName,T=function(){return nt.Z.confirm({title:"\u5220\u9664\u786E\u8BA4",content:(0,a.jsxs)(a.Fragment,{children:["\u786E\u5B9A\u5BF9\u89D2\u8272",(0,a.jsx)(Be.Z.Text,{code:!0,children:I}),"\u8FDB\u884C",(0,a.jsx)(Be.Z.Text,{code:!0,children:"\u5220\u9664"}),"\u64CD\u4F5C\u5417\uFF1F"]}),onOk:function(){var se=p()(l()().mark(function _(){var D;return l()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Xe({roleIds:$});case 2:s==null||s.reload(),s==null||(D=s.clearSelected)===null||D===void 0||D.call(s),o(),we.ZP.success("\u5220\u9664\u6210\u529F");case 6:case"end":return F.stop()}},_)}));function P(){return se.apply(this,arguments)}return P}()})};return(0,a.jsx)(Se.Nv,{accessible:n.canRemoveSysRole,children:(0,a.jsx)(pe.Z,{danger:!0,ghost:!0,icon:(0,a.jsx)(tt.Z,{}),onClick:T,children:"\u5220\u9664"})})},at=rt,ut=t(93275),Fe=t.n(ut),st=t(46686),ce=t.n(st),ue=t(78798),Oe=t(14267),lt=t(17218),Ue=t(10979),Le=t(814),De=t(5606),ot=t(8346),it={title:"label",key:"id",children:"children"},ct=function(n){var s=n.selectedMenuIds,o=n.menuCheckStrictly,e=n.handleEdit,$=(0,L.useState)([]),I=ce()($,2),T=I[0],C=I[1],se=(0,L.useState)(!1),P=ce()(se,2),_=P[0],D=P[1],he=(0,L.useState)(!1),F=ce()(he,2),h=F[0],de=F[1],be=(0,L.useState)([]),ge=ce()(be,2),Re=ge[0],ve=ge[1],ee=A(),E=ee.roleId,J=(0,Ue.Z)(p()(l()().mark(function g(){var d;return l()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,(0,lt.Q_)({});case 2:return d=me.sent,me.abrupt("return",{treeData:d,allIds:(0,v.x$)(d),parentIds:(0,v.Vy)(d),allMenuIds:d.map(function(xt){return xt.id})});case 4:case"end":return me.stop()}},g)}))),S=J.data,Te=function(d){if(d){var k;ve((k=S==null?void 0:S.parentIds)!==null&&k!==void 0?k:[]);return}ve([])},le=function(d){if(d){var k;C((k=S==null?void 0:S.allIds)!==null&&k!==void 0?k:[]);return}C([])},oe=(0,Ae.useMutation)(p()(l()().mark(function g(){return l()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,e({menuIds:T,menuCheckStrictly:_});case 2:case"end":return k.stop()}},g)})),{onSuccess:function(){de(!1)}}),Ye=oe.isLoading,Ct=oe.mutate,Me=(0,L.useMemo)(function(){var g,d=(g=S==null?void 0:S.treeData)!==null&&g!==void 0?g:[];return h?d:(0,v.Cr)(d,s)},[s,h,S]);return(0,L.useEffect)(function(){E>0&&de(!1)},[E]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{className:"flex justify-between mb-2",children:[(0,a.jsxs)(Le.Z,{children:[Me.length>0&&(0,a.jsx)(De.Z,{onChange:function(d){return Te(d.target.checked)},children:"\u5C55\u5F00/\u6298\u53E0"}),h&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(De.Z,{onChange:function(d){return le(d.target.checked)},children:"\u5168\u9009/\u5168\u4E0D\u9009"}),(0,a.jsx)(De.Z,{checked:!_,onChange:function(d){return D(!d.target.checked)},children:"\u7236\u5B50\u8054\u52A8"})]})]}),(0,a.jsx)(Ze.Access,{accessible:!0,children:h?(0,a.jsxs)(Le.Z,{children:[(0,a.jsx)(pe.Z,{loading:Ye,onClick:function(){return de(!1)},children:"\u53D6\u6D88\u7F16\u8F91"}),(0,a.jsx)(pe.Z,{type:"primary",ghost:!0,loading:Ye,onClick:function(){return Ct()},children:"\u4FDD\u5B58"})]}):(0,a.jsx)(pe.Z,{type:"primary",ghost:!0,onClick:function(){de(!0),C(s),D(o)},children:"\u7F16\u8F91\u6743\u9650"})})]}),(0,a.jsx)("div",{className:"h-[390px] overflow-y-auto",children:Me.length>0?(0,a.jsx)(ot.Z,{blockNode:!0,checkable:h,checkStrictly:_,fieldNames:it,checkedKeys:T,treeData:Me,expandedKeys:Re,onExpand:function(d){return ve(d)},onCheck:function(d){if(_){C(d.checked);return}C(d)}}):(0,a.jsx)(Oe._E,{description:"\u6682\u672A\u5206\u914D\u6743\u9650"})})]})},dt=ct,$e=t(91549),mt=t(99390),pt=t(96022),Ge=t(95331),ht=function(){var n,s=(0,L.useState)([]),o=ce()(s,2),e=o[0],$=o[1],I=mt.Z.useForm(),T=ce()(I,1),C=T[0],se=(0,Se.md)(),P=G(),_=A(),D=_.roleId,he=_.visible,F=(0,Ue.Z)(function(){return We({roleId:D})},{ready:he&&D>0,refreshDeps:[D]}),h=F.data,de=F.loading,be=F.refresh,ge=(0,Ae.useMutation)(function(){var ee=p()(l()().mark(function E(J){var S;return l()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,B(m()({roleId:D,menuIds:(S=h==null?void 0:h.menuIds)!==null&&S!==void 0?S:[],roleKey:h.roleKey,roleName:h.roleName,roleSort:h.roleSort,status:h.status},J));case 2:case"end":return le.stop()}},E)}));return function(E){return ee.apply(this,arguments)}}(),{onSuccess:function(){be(),P==null||P.reload(),we.ZP.success("\u4FDD\u5B58\u6210\u529F")}}),Re=ge.mutateAsync,ve=se.canEditSysRole&&h?{form:C,editableKeys:e,onChange:function(E,J){$(E),E.length===1&&!Array.isArray(J)&&C.setFieldsValue(Fe()({},E[0],J[E[0]]))},onSave:function(){var ee=p()(l()().mark(function J(S,Te){return l()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,Re(Fe()({},S,Te[S]));case 2:case"end":return oe.stop()}},J)}));function E(J,S){return ee.apply(this,arguments)}return E}()}:void 0;return(0,L.useEffect)(function(){D>0&&$([])},[D]),he?(0,a.jsxs)(pt.Z,{spinning:de,children:[(0,a.jsx)($e.vY,{column:2,columns:[ue.g4,ue.eJ],dataSource:h}),(0,a.jsx)(Ge.Z,{}),(0,a.jsx)($e.vY,{column:2,columns:[ue.sE,ue.tE,ue.Rj,ue.VP,ue.Fu],dataSource:h,editable:ve}),(0,a.jsx)(Ge.Z,{}),(0,a.jsx)(dt,{selectedMenuIds:(n=h==null?void 0:h.menuIds)!==null&&n!==void 0?n:[],menuCheckStrictly:!!(h!=null&&h.menuCheckStrictly),handleEdit:function(E){return Re(E)}})]}):(0,a.jsx)(Oe._E,{description:"\u70B9\u51FB\u9009\u62E9\u5DE6\u4FA7\u89D2\u8272\u67E5\u770B\u8BE6\u60C5"})},vt=ht,yt=t(90157),Ke=t(17324),ft=function(){var n=K(),s=ne(),o=(0,H.n)("roleId","radio"),e=o.onClick,$=o.rowSelection,I=o.selectedRows;return(0,L.useEffect)(function(){I.length===1&&s({roleId:I[0].roleId,roleName:I[0].roleName,visible:!0})},[I]),(0,a.jsx)(yt.Rs,{ghost:!0,rowKey:"roleId",actionRef:n,metas:{title:{dataIndex:"roleName"},subTitle:{dataIndex:"status",render:function(C){return C===x.vu.ENABLE?(0,a.jsx)(Ke.Z,{color:"success",children:"\u542F\u7528\u4E2D"}):(0,a.jsx)(Ke.Z,{color:"error",children:"\u5DF2\u7981\u7528"})}}},tableAlertRender:!1,onRow:function(C){return{onClick:function(){return e(C)}}},rowSelection:$,pagination:{pageSize:10},request:function(){return Ve(v.h$.apply(void 0,arguments))}})},St=ft,gt=t(93913),ke=t(67809),Rt=function(){return(0,a.jsx)(gt.ZP,{children:(0,a.jsxs)(ke.Z,{ghost:!0,gutter:24,children:[(0,a.jsx)(ke.Z,{title:"\u89D2\u8272\u5217\u8868",colSpan:"400px",extra:(0,a.jsx)(et,{}),children:(0,a.jsx)(St,{})}),(0,a.jsx)(ke.Z,{title:"\u89D2\u8272\u8BE6\u60C5",extra:(0,a.jsx)(at,{}),children:(0,a.jsx)(vt,{})})]})})},Tt=Rt},17218:function(Ce,Q,t){t.d(Q,{CP:function(){return Y},FV:function(){return H},Q_:function(){return V},WJ:function(){return G},Yh:function(){return q},tg:function(){return ne}});var f=t(35290),l=t.n(f),te=t(30279),m=t.n(te),z=t(411),p=t.n(z),x=t(12824);function H(i,c){return j.apply(this,arguments)}function j(){return j=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/add",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),j.apply(this,arguments)}function q(i,c){return M.apply(this,arguments)}function M(){return M=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/edit",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),M.apply(this,arguments)}function G(i,c){return K.apply(this,arguments)}function K(){return K=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/info",m()({method:"GET",params:m()({},c)},y||{})));case 1:case"end":return u.stop()}},i)})),K.apply(this,arguments)}function Y(i,c){return W.apply(this,arguments)}function W(){return W=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/list",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),W.apply(this,arguments)}function ne(i,c){return A.apply(this,arguments)}function A(){return A=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/remove",m()({method:"POST",params:m()({},c)},y||{})));case 1:case"end":return u.stop()}},i)})),A.apply(this,arguments)}function v(i,c){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function i(c,y){return _regeneratorRuntime().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",request("/system/menu/roleMenuTreeSelect",_objectSpread({method:"GET",params:_objectSpread({},c)},y||{})));case 1:case"end":return u.stop()}},i)})),Z.apply(this,arguments)}function V(i,c){return X.apply(this,arguments)}function X(){return X=p()(l()().mark(function i(c,y){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,x.WY)("/system/menu/treeSelect",m()({method:"POST",headers:{"Content-Type":"application/json"},data:c},y||{})));case 1:case"end":return u.stop()}},i)})),X.apply(this,arguments)}}}]);
